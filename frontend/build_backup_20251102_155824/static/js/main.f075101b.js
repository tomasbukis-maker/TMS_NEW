/*! For license information please see main.f075101b.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},153:(e,t,n)=>{var a=n(43),r=Symbol.for("react.element"),i=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function d(e,t,n){var a,i={},d=null,c=null;for(a in void 0!==n&&(d=""+n),void 0!==t.key&&(d=""+t.key),void 0!==t.ref&&(c=t.ref),t)s.call(t,a)&&!l.hasOwnProperty(a)&&(i[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps)void 0===i[a]&&(i[a]=t[a]);return{$$typeof:r,type:e,key:d,ref:c,props:i,_owner:o.current}}t.Fragment=i,t.jsx=d,t.jsxs=d},202:(e,t)=>{var n=Symbol.for("react.element"),a=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),f=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h=Object.assign,g={};function x(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}function v(){}function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}x.prototype.isReactComponent={},x.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},x.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=x.prototype;var _=y.prototype=new v;_.constructor=y,h(_,x.prototype),_.isPureReactComponent=!0;var b=Array.isArray,j=Object.prototype.hasOwnProperty,k={current:null},w={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,a){var r,i={},s=null,o=null;if(null!=t)for(r in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(s=""+t.key),t)j.call(t,r)&&!w.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(1===l)i.children=a;else if(1<l){for(var d=Array(l),c=0;c<l;c++)d[c]=arguments[c+2];i.children=d}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===i[r]&&(i[r]=l[r]);return{$$typeof:n,type:e,key:s,ref:o,props:i,_owner:k.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var N=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function P(e,t,r,i,s){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case a:l=!0}}if(l)return s=s(l=e),e=""===i?"."+A(l,0):i,b(s)?(r="",null!=e&&(r=e.replace(N,"$&/")+"/"),P(s,t,r,"",function(e){return e})):null!=s&&(C(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,r+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(N,"$&/")+"/")+e)),t.push(s)),1;if(l=0,i=""===i?".":i+":",b(e))for(var d=0;d<e.length;d++){var c=i+A(o=e[d],d);l+=P(o,t,r,c,s)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),d=0;!(o=e.next()).done;)l+=P(o=o.value,t,r,c=i+A(o,d++),s);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function T(e,t,n){if(null==e)return e;var a=[],r=0;return P(e,a,"","",function(e){return t.call(n,e,r++)}),a}function E(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var z={current:null},R={transition:null},I={ReactCurrentDispatcher:z,ReactCurrentBatchConfig:R,ReactCurrentOwner:k};function O(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:T,forEach:function(e,t,n){T(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return T(e,function(){t++}),t},toArray:function(e){return T(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=x,t.Fragment=r,t.Profiler=s,t.PureComponent=y,t.StrictMode=i,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,t.act=O,t.cloneElement=function(e,t,a){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=h({},e.props),i=e.key,s=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,o=k.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(d in t)j.call(t,d)&&!w.hasOwnProperty(d)&&(r[d]=void 0===t[d]&&void 0!==l?l[d]:t[d])}var d=arguments.length-2;if(1===d)r.children=a;else if(1<d){l=Array(d);for(var c=0;c<d;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:n,type:e.type,key:i,ref:s,props:r,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:d,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:E}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=O,t.useCallback=function(e,t){return z.current.useCallback(e,t)},t.useContext=function(e){return z.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return z.current.useDeferredValue(e)},t.useEffect=function(e,t){return z.current.useEffect(e,t)},t.useId=function(){return z.current.useId()},t.useImperativeHandle=function(e,t,n){return z.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return z.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return z.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return z.current.useMemo(e,t)},t.useReducer=function(e,t,n){return z.current.useReducer(e,t,n)},t.useRef=function(e){return z.current.useRef(e)},t.useState=function(e){return z.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return z.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return z.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var a=n-1>>>1,r=e[a];if(!(0<i(r,t)))break e;e[a]=t,e[n]=r,n=a}}function a(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var a=0,r=e.length,s=r>>>1;a<s;){var o=2*(a+1)-1,l=e[o],d=o+1,c=e[d];if(0>i(l,n))d<r&&0>i(c,l)?(e[a]=c,e[d]=n,a=d):(e[a]=l,e[o]=n,a=o);else{if(!(d<r&&0>i(c,n)))break e;e[a]=c,e[d]=n,a=d}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var d=[],c=[],u=1,p=null,f=3,m=!1,h=!1,g=!1,x="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function _(e){for(var t=a(c);null!==t;){if(null===t.callback)r(c);else{if(!(t.startTime<=e))break;r(c),t.sortIndex=t.expirationTime,n(d,t)}t=a(c)}}function b(e){if(g=!1,_(e),!h)if(null!==a(d))h=!0,R(j);else{var t=a(c);null!==t&&I(b,t.startTime-e)}}function j(e,n){h=!1,g&&(g=!1,v(C),C=-1),m=!0;var i=f;try{for(_(n),p=a(d);null!==p&&(!(p.expirationTime>n)||e&&!P());){var s=p.callback;if("function"===typeof s){p.callback=null,f=p.priorityLevel;var o=s(p.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?p.callback=o:p===a(d)&&r(d),_(n)}else r(d);p=a(d)}if(null!==p)var l=!0;else{var u=a(c);null!==u&&I(b,u.startTime-n),l=!1}return l}finally{p=null,f=i,m=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,w=!1,S=null,C=-1,N=5,A=-1;function P(){return!(t.unstable_now()-A<N)}function T(){if(null!==S){var e=t.unstable_now();A=e;var n=!0;try{n=S(!0,e)}finally{n?k():(w=!1,S=null)}}else w=!1}if("function"===typeof y)k=function(){y(T)};else if("undefined"!==typeof MessageChannel){var E=new MessageChannel,z=E.port2;E.port1.onmessage=T,k=function(){z.postMessage(null)}}else k=function(){x(T,0)};function R(e){S=e,w||(w=!0,k())}function I(e,n){C=x(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){h||m||(h=!0,R(j))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return a(d)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,r,i){var s=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?s+i:s:i=s,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:u++,callback:r,priorityLevel:e,startTime:i,expirationTime:o=i+o,sortIndex:-1},i>s?(e.sortIndex=i,n(c,e),null===a(d)&&e===a(c)&&(g?(v(C),C=-1):g=!0,I(b,i-s))):(e.sortIndex=o,n(d,e),h||m||(h=!0,R(j))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},391:(e,t,n)=>{var a=n(950);t.createRoot=a.createRoot,t.hydrateRoot=a.hydrateRoot},555:(e,t,n)=>{function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function r(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}function i(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){i(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n.d(t,{A:()=>o})},579:(e,t,n)=>{e.exports=n(153)},677:(e,t,n)=>{n.r(t),n.d(t,{api:()=>Nt});var a={};function r(e,t){return function(){return e.apply(t,arguments)}}n.r(a),n.d(a,{hasBrowserEnv:()=>ce,hasStandardBrowserEnv:()=>pe,hasStandardBrowserWebWorkerEnv:()=>fe,navigator:()=>ue,origin:()=>me});const{toString:i}=Object.prototype,{getPrototypeOf:s}=Object,{iterator:o,toStringTag:l}=Symbol,d=(c=Object.create(null),e=>{const t=i.call(e);return c[t]||(c[t]=t.slice(8,-1).toLowerCase())});var c;const u=e=>(e=e.toLowerCase(),t=>d(t)===e),p=e=>t=>typeof t===e,{isArray:f}=Array,m=p("undefined");function h(e){return null!==e&&!m(e)&&null!==e.constructor&&!m(e.constructor)&&v(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const g=u("ArrayBuffer");const x=p("string"),v=p("function"),y=p("number"),_=e=>null!==e&&"object"===typeof e,b=e=>{if("object"!==d(e))return!1;const t=s(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(l in e)&&!(o in e)},j=u("Date"),k=u("File"),w=u("Blob"),S=u("FileList"),C=u("URLSearchParams"),[N,A,P,T]=["ReadableStream","Request","Response","Headers"].map(u);function E(e,t){let n,a,{allOwnKeys:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),f(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{if(h(e))return;const a=r?Object.getOwnPropertyNames(e):Object.keys(e),i=a.length;let s;for(n=0;n<i;n++)s=a[n],t.call(null,e[s],s,e)}}function z(e,t){if(h(e))return null;t=t.toLowerCase();const n=Object.keys(e);let a,r=n.length;for(;r-- >0;)if(a=n[r],t===a.toLowerCase())return a;return null}const R="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,I=e=>!m(e)&&e!==R;const O=(F="undefined"!==typeof Uint8Array&&s(Uint8Array),e=>F&&e instanceof F);var F;const D=u("HTMLFormElement"),L=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),B=u("RegExp"),M=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),a={};E(n,(n,r)=>{let i;!1!==(i=t(n,r,e))&&(a[r]=i||n)}),Object.defineProperties(e,a)};const U=u("AsyncFunction"),V=((e,t)=>{return e?setImmediate:t?(n="axios@".concat(Math.random()),a=[],R.addEventListener("message",e=>{let{source:t,data:r}=e;t===R&&r===n&&a.length&&a.shift()()},!1),e=>{a.push(e),R.postMessage(n,"*")}):e=>setTimeout(e);var n,a})("function"===typeof setImmediate,v(R.postMessage)),W="undefined"!==typeof queueMicrotask?queueMicrotask.bind(R):"undefined"!==typeof process&&process.nextTick||V,q={isArray:f,isArrayBuffer:g,isBuffer:h,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||v(e.append)&&("formdata"===(t=d(e))||"object"===t&&v(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&g(e.buffer),t},isString:x,isNumber:y,isBoolean:e=>!0===e||!1===e,isObject:_,isPlainObject:b,isEmptyObject:e=>{if(!_(e)||h(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(t){return!1}},isReadableStream:N,isRequest:A,isResponse:P,isHeaders:T,isUndefined:m,isDate:j,isFile:k,isBlob:w,isRegExp:B,isFunction:v,isStream:e=>_(e)&&v(e.pipe),isURLSearchParams:C,isTypedArray:O,isFileList:S,forEach:E,merge:function e(){const{caseless:t,skipUndefined:n}=I(this)&&this||{},a={},r=(r,i)=>{const s=t&&z(a,i)||i;b(a[s])&&b(r)?a[s]=e(a[s],r):b(r)?a[s]=e({},r):f(r)?a[s]=r.slice():n&&m(r)||(a[s]=r)};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&E(arguments[i],r);return a},extend:function(e,t,n){let{allOwnKeys:a}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return E(t,(t,a)=>{n&&v(t)?e[a]=r(t,n):e[a]=t},{allOwnKeys:a}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,a)=>{e.prototype=Object.create(t.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,a)=>{let r,i,o;const l={};if(t=t||{},null==e)return t;do{for(r=Object.getOwnPropertyNames(e),i=r.length;i-- >0;)o=r[i],a&&!a(o,e,t)||l[o]||(t[o]=e[o],l[o]=!0);e=!1!==n&&s(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:d,kindOfTest:u,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const a=e.indexOf(t,n);return-1!==a&&a===n},toArray:e=>{if(!e)return null;if(f(e))return e;let t=e.length;if(!y(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[o]).call(e);let a;for(;(a=n.next())&&!a.done;){const n=a.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const a=[];for(;null!==(n=e.exec(t));)a.push(n);return a},isHTMLForm:D,hasOwnProperty:L,hasOwnProp:L,reduceDescriptors:M,freezeMethods:e=>{M(e,(t,n)=>{if(v(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const a=e[n];v(a)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},a=e=>{e.forEach(e=>{n[e]=!0})};return f(e)?a(e):a(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:z,global:R,isContextDefined:I,isSpecCompliantForm:function(e){return!!(e&&v(e.append)&&"FormData"===e[l]&&e[o])},toJSONObject:e=>{const t=new Array(10),n=(e,a)=>{if(_(e)){if(t.indexOf(e)>=0)return;if(h(e))return e;if(!("toJSON"in e)){t[a]=e;const r=f(e)?[]:{};return E(e,(e,t)=>{const i=n(e,a+1);!m(i)&&(r[t]=i)}),t[a]=void 0,r}}return e};return n(e,0)},isAsyncFn:U,isThenable:e=>e&&(_(e)||v(e))&&v(e.then)&&v(e.catch),setImmediate:V,asap:W,isIterable:e=>null!=e&&v(e[o])};function K(e,t,n,a,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),a&&(this.request=a),r&&(this.response=r,this.status=r.status?r.status:null)}q.inherits(K,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:q.toJSONObject(this.config),code:this.code,status:this.status}}});const H=K.prototype,$={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{$[e]={value:e}}),Object.defineProperties(K,$),Object.defineProperty(H,"isAxiosError",{value:!0}),K.from=(e,t,n,a,r,i)=>{const s=Object.create(H);q.toFlatObject(e,s,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e);const o=e&&e.message?e.message:"Error",l=null==t&&e?e.code:t;return K.call(s,o,l,n,a,r),e&&null==s.cause&&Object.defineProperty(s,"cause",{value:e,configurable:!0}),s.name=e&&e.name||"Error",i&&Object.assign(s,i),s};const Y=K;function Q(e){return q.isPlainObject(e)||q.isArray(e)}function J(e){return q.endsWith(e,"[]")?e.slice(0,-2):e}function G(e,t,n){return e?e.concat(t).map(function(e,t){return e=J(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const X=q.toFlatObject(q,{},null,function(e){return/^is[A-Z]/.test(e)});const Z=function(e,t,n){if(!q.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const a=(n=q.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!q.isUndefined(t[e])})).metaTokens,r=n.visitor||d,i=n.dots,s=n.indexes,o=(n.Blob||"undefined"!==typeof Blob&&Blob)&&q.isSpecCompliantForm(t);if(!q.isFunction(r))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(q.isDate(e))return e.toISOString();if(q.isBoolean(e))return e.toString();if(!o&&q.isBlob(e))throw new Y("Blob is not supported. Use a Buffer instead.");return q.isArrayBuffer(e)||q.isTypedArray(e)?o&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function d(e,n,r){let o=e;if(e&&!r&&"object"===typeof e)if(q.endsWith(n,"{}"))n=a?n:n.slice(0,-2),e=JSON.stringify(e);else if(q.isArray(e)&&function(e){return q.isArray(e)&&!e.some(Q)}(e)||(q.isFileList(e)||q.endsWith(n,"[]"))&&(o=q.toArray(e)))return n=J(n),o.forEach(function(e,a){!q.isUndefined(e)&&null!==e&&t.append(!0===s?G([n],a,i):null===s?n:n+"[]",l(e))}),!1;return!!Q(e)||(t.append(G(r,n,i),l(e)),!1)}const c=[],u=Object.assign(X,{defaultVisitor:d,convertValue:l,isVisitable:Q});if(!q.isObject(e))throw new TypeError("data must be an object");return function e(n,a){if(!q.isUndefined(n)){if(-1!==c.indexOf(n))throw Error("Circular reference detected in "+a.join("."));c.push(n),q.forEach(n,function(n,i){!0===(!(q.isUndefined(n)||null===n)&&r.call(t,n,q.isString(i)?i.trim():i,a,u))&&e(n,a?a.concat(i):[i])}),c.pop()}}(e),t};function ee(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function te(e,t){this._pairs=[],e&&Z(e,this,t)}const ne=te.prototype;ne.append=function(e,t){this._pairs.push([e,t])},ne.toString=function(e){const t=e?function(t){return e.call(this,t,ee)}:ee;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const ae=te;function re(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function ie(e,t,n){if(!t)return e;const a=n&&n.encode||re;q.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let i;if(i=r?r(t,n):q.isURLSearchParams(t)?t.toString():new ae(t,n).toString(a),i){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}const se=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){q.forEach(this.handlers,function(t){null!==t&&e(t)})}},oe={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};var le=n(555);const de={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:ae,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},ce="undefined"!==typeof window&&"undefined"!==typeof document,ue="object"===typeof navigator&&navigator||void 0,pe=ce&&(!ue||["ReactNative","NativeScript","NS"].indexOf(ue.product)<0),fe="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,me=ce&&window.location.href||"http://localhost",he=(0,le.A)((0,le.A)({},a),de);const ge=function(e){function t(e,n,a,r){let i=e[r++];if("__proto__"===i)return!0;const s=Number.isFinite(+i),o=r>=e.length;if(i=!i&&q.isArray(a)?a.length:i,o)return q.hasOwnProp(a,i)?a[i]=[a[i],n]:a[i]=n,!s;a[i]&&q.isObject(a[i])||(a[i]=[]);return t(e,n,a[i],r)&&q.isArray(a[i])&&(a[i]=function(e){const t={},n=Object.keys(e);let a;const r=n.length;let i;for(a=0;a<r;a++)i=n[a],t[i]=e[i];return t}(a[i])),!s}if(q.isFormData(e)&&q.isFunction(e.entries)){const n={};return q.forEachEntry(e,(e,a)=>{t(function(e){return q.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),a,n,0)}),n}return null};const xe={transitional:oe,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",a=n.indexOf("application/json")>-1,r=q.isObject(e);r&&q.isHTMLForm(e)&&(e=new FormData(e));if(q.isFormData(e))return a?JSON.stringify(ge(e)):e;if(q.isArrayBuffer(e)||q.isBuffer(e)||q.isStream(e)||q.isFile(e)||q.isBlob(e)||q.isReadableStream(e))return e;if(q.isArrayBufferView(e))return e.buffer;if(q.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let i;if(r){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Z(e,new he.classes.URLSearchParams,(0,le.A)({visitor:function(e,t,n,a){return he.isNode&&q.isBuffer(e)?(this.append(t,e.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((i=q.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Z(i?{"files[]":e}:e,t&&new t,this.formSerializer)}}return r||a?(t.setContentType("application/json",!1),function(e,t,n){if(q.isString(e))try{return(t||JSON.parse)(e),q.trim(e)}catch(a){if("SyntaxError"!==a.name)throw a}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||xe.transitional,n=t&&t.forcedJSONParsing,a="json"===this.responseType;if(q.isResponse(e)||q.isReadableStream(e))return e;if(e&&q.isString(e)&&(n&&!this.responseType||a)){const n=!(t&&t.silentJSONParsing)&&a;try{return JSON.parse(e,this.parseReviver)}catch(r){if(n){if("SyntaxError"===r.name)throw Y.from(r,Y.ERR_BAD_RESPONSE,this,null,this.response);throw r}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:he.classes.FormData,Blob:he.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};q.forEach(["delete","get","head","post","put","patch"],e=>{xe.headers[e]={}});const ve=xe,ye=q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),_e=Symbol("internals");function be(e){return e&&String(e).trim().toLowerCase()}function je(e){return!1===e||null==e?e:q.isArray(e)?e.map(je):String(e)}function ke(e,t,n,a,r){return q.isFunction(a)?a.call(this,t,n):(r&&(t=n),q.isString(t)?q.isString(a)?-1!==t.indexOf(a):q.isRegExp(a)?a.test(t):void 0:void 0)}class we{constructor(e){e&&this.set(e)}set(e,t,n){const a=this;function r(e,t,n){const r=be(t);if(!r)throw new Error("header name must be a non-empty string");const i=q.findKey(a,r);(!i||void 0===a[i]||!0===n||void 0===n&&!1!==a[i])&&(a[i||t]=je(e))}const i=(e,t)=>q.forEach(e,(e,n)=>r(e,n,t));if(q.isPlainObject(e)||e instanceof this.constructor)i(e,t);else if(q.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))i((e=>{const t={};let n,a,r;return e&&e.split("\n").forEach(function(e){r=e.indexOf(":"),n=e.substring(0,r).trim().toLowerCase(),a=e.substring(r+1).trim(),!n||t[n]&&ye[n]||("set-cookie"===n?t[n]?t[n].push(a):t[n]=[a]:t[n]=t[n]?t[n]+", "+a:a)}),t})(e),t);else if(q.isObject(e)&&q.isIterable(e)){let n,a,r={};for(const t of e){if(!q.isArray(t))throw TypeError("Object iterator must return a key-value pair");r[a=t[0]]=(n=r[a])?q.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}i(r,t)}else null!=e&&r(t,e,n);return this}get(e,t){if(e=be(e)){const n=q.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=n.exec(e);)t[a[1]]=a[2];return t}(e);if(q.isFunction(t))return t.call(this,e,n);if(q.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=be(e)){const n=q.findKey(this,e);return!(!n||void 0===this[n]||t&&!ke(0,this[n],n,t))}return!1}delete(e,t){const n=this;let a=!1;function r(e){if(e=be(e)){const r=q.findKey(n,e);!r||t&&!ke(0,n[r],r,t)||(delete n[r],a=!0)}}return q.isArray(e)?e.forEach(r):r(e),a}clear(e){const t=Object.keys(this);let n=t.length,a=!1;for(;n--;){const r=t[n];e&&!ke(0,this[r],r,e,!0)||(delete this[r],a=!0)}return a}normalize(e){const t=this,n={};return q.forEach(this,(a,r)=>{const i=q.findKey(n,r);if(i)return t[i]=je(a),void delete t[r];const s=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(r):String(r).trim();s!==r&&delete t[r],t[s]=je(a),n[s]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return q.forEach(this,(n,a)=>{null!=n&&!1!==n&&(t[a]=e&&q.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,n]=e;return t+": "+n}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];return a.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[_e]=this[_e]={accessors:{}}).accessors,n=this.prototype;function a(e){const a=be(e);t[a]||(!function(e,t){const n=q.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+n,{value:function(e,n,r){return this[a].call(this,t,e,n,r)},configurable:!0})})}(n,e),t[a]=!0)}return q.isArray(e)?e.forEach(a):a(e),this}}we.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),q.reduceDescriptors(we.prototype,(e,t)=>{let{value:n}=e,a=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[a]=e}}}),q.freezeMethods(we);const Se=we;function Ce(e,t){const n=this||ve,a=t||n,r=Se.from(a.headers);let i=a.data;return q.forEach(e,function(e){i=e.call(n,i,r.normalize(),t?t.status:void 0)}),r.normalize(),i}function Ne(e){return!(!e||!e.__CANCEL__)}function Ae(e,t,n){Y.call(this,null==e?"canceled":e,Y.ERR_CANCELED,t,n),this.name="CanceledError"}q.inherits(Ae,Y,{__CANCEL__:!0});const Pe=Ae;function Te(e,t,n){const a=n.config.validateStatus;n.status&&a&&!a(n.status)?t(new Y("Request failed with status code "+n.status,[Y.ERR_BAD_REQUEST,Y.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const Ee=function(e,t){e=e||10;const n=new Array(e),a=new Array(e);let r,i=0,s=0;return t=void 0!==t?t:1e3,function(o){const l=Date.now(),d=a[s];r||(r=l),n[i]=o,a[i]=l;let c=s,u=0;for(;c!==i;)u+=n[c++],c%=e;if(i=(i+1)%e,i===s&&(s=(s+1)%e),l-r<t)return;const p=d&&l-d;return p?Math.round(1e3*u/p):void 0}};const ze=function(e,t){let n,a,r=0,i=1e3/t;const s=function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();r=i,n=null,a&&(clearTimeout(a),a=null),e(...t)};return[function(){const e=Date.now(),t=e-r;for(var o=arguments.length,l=new Array(o),d=0;d<o;d++)l[d]=arguments[d];t>=i?s(l,e):(n=l,a||(a=setTimeout(()=>{a=null,s(n)},i-t)))},()=>n&&s(n)]},Re=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,a=0;const r=Ee(50,250);return ze(n=>{const i=n.loaded,s=n.lengthComputable?n.total:void 0,o=i-a,l=r(o);a=i;e({loaded:i,total:s,progress:s?i/s:void 0,bytes:o,rate:l||void 0,estimated:l&&s&&i<=s?(s-i)/l:void 0,event:n,lengthComputable:null!=s,[t?"download":"upload"]:!0})},n)},Ie=(e,t)=>{const n=null!=e;return[a=>t[0]({lengthComputable:n,total:e,loaded:a}),t[1]]},Oe=e=>function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return q.asap(()=>e(...n))},Fe=he.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,he.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(he.origin),he.navigator&&/(msie|trident)/i.test(he.navigator.userAgent)):()=>!0,De=he.hasStandardBrowserEnv?{write(e,t,n,a,r,i,s){if("undefined"===typeof document)return;const o=["".concat(e,"=").concat(encodeURIComponent(t))];q.isNumber(n)&&o.push("expires=".concat(new Date(n).toUTCString())),q.isString(a)&&o.push("path=".concat(a)),q.isString(r)&&o.push("domain=".concat(r)),!0===i&&o.push("secure"),q.isString(s)&&o.push("SameSite=".concat(s)),document.cookie=o.join("; ")},read(e){if("undefined"===typeof document)return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read:()=>null,remove(){}};function Le(e,t,n){let a=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(a||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Be=e=>e instanceof Se?(0,le.A)({},e):e;function Me(e,t){t=t||{};const n={};function a(e,t,n,a){return q.isPlainObject(e)&&q.isPlainObject(t)?q.merge.call({caseless:a},e,t):q.isPlainObject(t)?q.merge({},t):q.isArray(t)?t.slice():t}function r(e,t,n,r){return q.isUndefined(t)?q.isUndefined(e)?void 0:a(void 0,e,0,r):a(e,t,0,r)}function i(e,t){if(!q.isUndefined(t))return a(void 0,t)}function s(e,t){return q.isUndefined(t)?q.isUndefined(e)?void 0:a(void 0,e):a(void 0,t)}function o(n,r,i){return i in t?a(n,r):i in e?a(void 0,n):void 0}const l={url:i,method:i,data:i,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:o,headers:(e,t,n)=>r(Be(e),Be(t),0,!0)};return q.forEach(Object.keys((0,le.A)((0,le.A)({},e),t)),function(a){const i=l[a]||r,s=i(e[a],t[a],a);q.isUndefined(s)&&i!==o||(n[a]=s)}),n}const Ue=e=>{const t=Me({},e);let{data:n,withXSRFToken:a,xsrfHeaderName:r,xsrfCookieName:i,headers:s,auth:o}=t;if(t.headers=s=Se.from(s),t.url=ie(Le(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&s.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),q.isFormData(n))if(he.hasStandardBrowserEnv||he.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(q.isFunction(n.getHeaders)){const e=n.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(e=>{let[n,a]=e;t.includes(n.toLowerCase())&&s.set(n,a)})}if(he.hasStandardBrowserEnv&&(a&&q.isFunction(a)&&(a=a(t)),a||!1!==a&&Fe(t.url))){const e=r&&i&&De.read(i);e&&s.set(r,e)}return t},Ve="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){const a=Ue(e);let r=a.data;const i=Se.from(a.headers).normalize();let s,o,l,d,c,{responseType:u,onUploadProgress:p,onDownloadProgress:f}=a;function m(){d&&d(),c&&c(),a.cancelToken&&a.cancelToken.unsubscribe(s),a.signal&&a.signal.removeEventListener("abort",s)}let h=new XMLHttpRequest;function g(){if(!h)return;const a=Se.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders());Te(function(e){t(e),m()},function(e){n(e),m()},{data:u&&"text"!==u&&"json"!==u?h.response:h.responseText,status:h.status,statusText:h.statusText,headers:a,config:e,request:h}),h=null}h.open(a.method.toUpperCase(),a.url,!0),h.timeout=a.timeout,"onloadend"in h?h.onloadend=g:h.onreadystatechange=function(){h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))&&setTimeout(g)},h.onabort=function(){h&&(n(new Y("Request aborted",Y.ECONNABORTED,e,h)),h=null)},h.onerror=function(t){const a=t&&t.message?t.message:"Network Error",r=new Y(a,Y.ERR_NETWORK,e,h);r.event=t||null,n(r),h=null},h.ontimeout=function(){let t=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const r=a.transitional||oe;a.timeoutErrorMessage&&(t=a.timeoutErrorMessage),n(new Y(t,r.clarifyTimeoutError?Y.ETIMEDOUT:Y.ECONNABORTED,e,h)),h=null},void 0===r&&i.setContentType(null),"setRequestHeader"in h&&q.forEach(i.toJSON(),function(e,t){h.setRequestHeader(t,e)}),q.isUndefined(a.withCredentials)||(h.withCredentials=!!a.withCredentials),u&&"json"!==u&&(h.responseType=a.responseType),f&&([l,c]=Re(f,!0),h.addEventListener("progress",l)),p&&h.upload&&([o,d]=Re(p),h.upload.addEventListener("progress",o),h.upload.addEventListener("loadend",d)),(a.cancelToken||a.signal)&&(s=t=>{h&&(n(!t||t.type?new Pe(null,e,h):t),h.abort(),h=null)},a.cancelToken&&a.cancelToken.subscribe(s),a.signal&&(a.signal.aborted?s():a.signal.addEventListener("abort",s)));const x=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(a.url);x&&-1===he.protocols.indexOf(x)?n(new Y("Unsupported protocol "+x+":",Y.ERR_BAD_REQUEST,e)):h.send(r||null)})},We=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,a=new AbortController;const r=function(e){if(!n){n=!0,s();const t=e instanceof Error?e:this.reason;a.abort(t instanceof Y?t:new Pe(t instanceof Error?t.message:t))}};let i=t&&setTimeout(()=>{i=null,r(new Y("timeout ".concat(t," of ms exceeded"),Y.ETIMEDOUT))},t);const s=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(r):e.removeEventListener("abort",r)}),e=null)};e.forEach(e=>e.addEventListener("abort",r));const{signal:o}=a;return o.unsubscribe=()=>q.asap(s),o}};function qe(e,t){this.v=e,this.k=t}function Ke(e){return function(){return new He(e.apply(this,arguments))}}function He(e){var t,n;function a(t,n){try{var i=e[t](n),s=i.value,o=s instanceof qe;Promise.resolve(o?s.v:s).then(function(n){if(o){var l="return"===t?"return":"next";if(!s.k||n.done)return a(l,n);n=e[l](n).value}r(i.done?"return":"normal",n)},function(e){a("throw",e)})}catch(e){r("throw",e)}}function r(e,r){switch(e){case"return":t.resolve({value:r,done:!0});break;case"throw":t.reject(r);break;default:t.resolve({value:r,done:!1})}(t=t.next)?a(t.key,t.arg):n=null}this._invoke=function(e,r){return new Promise(function(i,s){var o={key:e,arg:r,resolve:i,reject:s,next:null};n?n=n.next=o:(t=n=o,a(e,r))})},"function"!=typeof e.return&&(this.return=void 0)}function $e(e){return new qe(e,0)}function Ye(e){var t={},n=!1;function a(t,a){return n=!0,a=new Promise(function(n){n(e[t](a))}),{done:!1,value:new qe(a,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):a("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return a("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):a("return",e)}),t}function Qe(e){var t,n,a,r=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,a=Symbol.iterator);r--;){if(n&&null!=(t=e[n]))return t.call(e);if(a&&null!=(t=e[a]))return new Je(t.call(e));n="@@asyncIterator",a="@@iterator"}throw new TypeError("Object is not async iterable")}function Je(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return Je=function(e){this.s=e,this.n=e.next},Je.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new Je(e)}He.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},He.prototype.next=function(e){return this._invoke("next",e)},He.prototype.throw=function(e){return this._invoke("throw",e)},He.prototype.return=function(e){return this._invoke("return",e)};const Ge=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let a,r=0;for(;r<n;)a=r+t,yield e.slice(r,a),r=a},Xe=function(){var e=Ke(function*(e,t){var n,a=!1,r=!1;try{for(var i,s=Qe(Ze(e));a=!(i=yield $e(s.next())).done;a=!1){const e=i.value;yield*Ye(Qe(Ge(e,t)))}}catch(o){r=!0,n=o}finally{try{a&&null!=s.return&&(yield $e(s.return()))}finally{if(r)throw n}}});return function(t,n){return e.apply(this,arguments)}}(),Ze=function(){var e=Ke(function*(e){if(e[Symbol.asyncIterator])return void(yield*Ye(Qe(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield $e(t.read());if(e)break;yield n}}finally{yield $e(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),et=(e,t,n,a)=>{const r=Xe(e,t);let i,s=0,o=e=>{i||(i=!0,a&&a(e))};return new ReadableStream({async pull(e){try{const{done:t,value:a}=await r.next();if(t)return o(),void e.close();let i=a.byteLength;if(n){let e=s+=i;n(e)}e.enqueue(new Uint8Array(a))}catch(t){throw o(t),t}},cancel:e=>(o(e),r.return())},{highWaterMark:2})},{isFunction:tt}=q,nt=(e=>{let{Request:t,Response:n}=e;return{Request:t,Response:n}})(q.global),{ReadableStream:at,TextEncoder:rt}=q.global,it=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return!!e(...n)}catch(r){return!1}},st=e=>{e=q.merge.call({skipUndefined:!0},nt,e);const{fetch:t,Request:n,Response:a}=e,r=t?tt(t):"function"===typeof fetch,i=tt(n),s=tt(a);if(!r)return!1;const o=r&&tt(at),l=r&&("function"===typeof rt?(d=new rt,e=>d.encode(e)):async e=>new Uint8Array(await new n(e).arrayBuffer()));var d;const c=i&&o&&it(()=>{let e=!1;const t=new n(he.origin,{body:new at,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),u=s&&o&&it(()=>q.isReadableStream(new a("").body)),p={stream:u&&(e=>e.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!p[e]&&(p[e]=(t,n)=>{let a=t&&t[e];if(a)return a.call(t);throw new Y("Response type '".concat(e,"' is not supported"),Y.ERR_NOT_SUPPORT,n)})});const f=async(e,t)=>{const a=q.toFiniteNumber(e.getContentLength());return null==a?(async e=>{if(null==e)return 0;if(q.isBlob(e))return e.size;if(q.isSpecCompliantForm(e)){const t=new n(he.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return q.isArrayBufferView(e)||q.isArrayBuffer(e)?e.byteLength:(q.isURLSearchParams(e)&&(e+=""),q.isString(e)?(await l(e)).byteLength:void 0)})(t):a};return async e=>{let{url:r,method:s,data:o,signal:l,cancelToken:d,timeout:m,onDownloadProgress:h,onUploadProgress:g,responseType:x,headers:v,withCredentials:y="same-origin",fetchOptions:_}=Ue(e),b=t||fetch;x=x?(x+"").toLowerCase():"text";let j=We([l,d&&d.toAbortSignal()],m),k=null;const w=j&&j.unsubscribe&&(()=>{j.unsubscribe()});let S;try{if(g&&c&&"get"!==s&&"head"!==s&&0!==(S=await f(v,o))){let e,t=new n(r,{method:"POST",body:o,duplex:"half"});if(q.isFormData(o)&&(e=t.headers.get("content-type"))&&v.setContentType(e),t.body){const[e,n]=Ie(S,Re(Oe(g)));o=et(t.body,65536,e,n)}}q.isString(y)||(y=y?"include":"omit");const t=i&&"credentials"in n.prototype,l=(0,le.A)((0,le.A)({},_),{},{signal:j,method:s.toUpperCase(),headers:v.normalize().toJSON(),body:o,duplex:"half",credentials:t?y:void 0});k=i&&new n(r,l);let d=await(i?b(k,_):b(r,l));const m=u&&("stream"===x||"response"===x);if(u&&(h||m&&w)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=d[t]});const t=q.toFiniteNumber(d.headers.get("content-length")),[n,r]=h&&Ie(t,Re(Oe(h),!0))||[];d=new a(et(d.body,65536,n,()=>{r&&r(),w&&w()}),e)}x=x||"text";let C=await p[q.findKey(p,x)||"text"](d,e);return!m&&w&&w(),await new Promise((t,n)=>{Te(t,n,{data:C,headers:Se.from(d.headers),status:d.status,statusText:d.statusText,config:e,request:k})})}catch(C){if(w&&w(),C&&"TypeError"===C.name&&/Load failed|fetch/i.test(C.message))throw Object.assign(new Y("Network Error",Y.ERR_NETWORK,e,k),{cause:C.cause||C});throw Y.from(C,C&&C.code,e,k)}}},ot=new Map,lt=e=>{let t=e&&e.env||{};const{fetch:n,Request:a,Response:r}=t,i=[a,r,n];let s,o,l=i.length,d=ot;for(;l--;)s=i[l],o=d.get(s),void 0===o&&d.set(s,o=l?new Map:st(t)),d=o;return o},dt=(lt(),{http:null,xhr:Ve,fetch:{get:lt}});q.forEach(dt,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}});const ct=e=>"- ".concat(e),ut=e=>q.isFunction(e)||null===e||!1===e;const pt={getAdapter:function(e,t){e=q.isArray(e)?e:[e];const{length:n}=e;let a,r;const i={};for(let s=0;s<n;s++){let n;if(a=e[s],r=a,!ut(a)&&(r=dt[(n=String(a)).toLowerCase()],void 0===r))throw new Y("Unknown adapter '".concat(n,"'"));if(r&&(q.isFunction(r)||(r=r.get(t))))break;i[n||"#"+s]=r}if(!r){const e=Object.entries(i).map(e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")});let t=n?e.length>1?"since :\n"+e.map(ct).join("\n"):" "+ct(e[0]):"as no adapter specified";throw new Y("There is no suitable adapter to dispatch the request "+t,"ERR_NOT_SUPPORT")}return r},adapters:dt};function ft(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Pe(null,e)}function mt(e){ft(e),e.headers=Se.from(e.headers),e.data=Ce.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return pt.getAdapter(e.adapter||ve.adapter,e)(e).then(function(t){return ft(e),t.data=Ce.call(e,e.transformResponse,t),t.headers=Se.from(t.headers),t},function(t){return Ne(t)||(ft(e),t&&t.response&&(t.response.data=Ce.call(e,e.transformResponse,t.response),t.response.headers=Se.from(t.response.headers))),Promise.reject(t)})}const ht="1.13.1",gt={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{gt[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const xt={};gt.transitional=function(e,t,n){function a(e,t){return"[Axios v"+ht+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,r,i)=>{if(!1===e)throw new Y(a(r," has been removed"+(t?" in "+t:"")),Y.ERR_DEPRECATED);return t&&!xt[r]&&(xt[r]=!0,console.warn(a(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,i)}},gt.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};const vt={assertOptions:function(e,t,n){if("object"!==typeof e)throw new Y("options must be an object",Y.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let r=a.length;for(;r-- >0;){const i=a[r],s=t[i];if(s){const t=e[i],n=void 0===t||s(t,i,e);if(!0!==n)throw new Y("option "+i+" must be "+n,Y.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new Y("Unknown option "+i,Y.ERR_BAD_OPTION)}},validators:gt},yt=vt.validators;class _t{constructor(e){this.defaults=e||{},this.interceptors={request:new se,response:new se}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(a){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=Me(this.defaults,t);const{transitional:n,paramsSerializer:a,headers:r}=t;void 0!==n&&vt.assertOptions(n,{silentJSONParsing:yt.transitional(yt.boolean),forcedJSONParsing:yt.transitional(yt.boolean),clarifyTimeoutError:yt.transitional(yt.boolean)},!1),null!=a&&(q.isFunction(a)?t.paramsSerializer={serialize:a}:vt.assertOptions(a,{encode:yt.function,serialize:yt.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),vt.assertOptions(t,{baseUrl:yt.spelling("baseURL"),withXsrfToken:yt.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let i=r&&q.merge(r.common,r[t.method]);r&&q.forEach(["delete","get","head","post","put","patch","common"],e=>{delete r[e]}),t.headers=Se.concat(i,r);const s=[];let o=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,s.unshift(e.fulfilled,e.rejected))});const l=[];let d;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let c,u=0;if(!o){const e=[mt.bind(this),void 0];for(e.unshift(...s),e.push(...l),c=e.length,d=Promise.resolve(t);u<c;)d=d.then(e[u++],e[u++]);return d}c=s.length;let p=t;for(;u<c;){const e=s[u++],t=s[u++];try{p=e(p)}catch(f){t.call(this,f);break}}try{d=mt.call(this,p)}catch(f){return Promise.reject(f)}for(u=0,c=l.length;u<c;)d=d.then(l[u++],l[u++]);return d}getUri(e){return ie(Le((e=Me(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}q.forEach(["delete","get","head","options"],function(e){_t.prototype[e]=function(t,n){return this.request(Me(n||{},{method:e,url:t,data:(n||{}).data}))}}),q.forEach(["post","put","patch"],function(e){function t(t){return function(n,a,r){return this.request(Me(r||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:a}))}}_t.prototype[e]=t(),_t.prototype[e+"Form"]=t(!0)});const bt=_t;class jt{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const a=new Promise(e=>{n.subscribe(e),t=e}).then(e);return a.cancel=function(){n.unsubscribe(t)},a},e(function(e,a,r){n.reason||(n.reason=new Pe(e,a,r),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new jt(function(t){e=t}),cancel:e}}}const kt=jt;const wt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(wt).forEach(e=>{let[t,n]=e;wt[n]=t});const St=wt;const Ct=function e(t){const n=new bt(t),a=r(bt.prototype.request,n);return q.extend(a,bt.prototype,n,{allOwnKeys:!0}),q.extend(a,n,null,{allOwnKeys:!0}),a.create=function(n){return e(Me(t,n))},a}(ve);Ct.Axios=bt,Ct.CanceledError=Pe,Ct.CancelToken=kt,Ct.isCancel=Ne,Ct.VERSION=ht,Ct.toFormData=Z,Ct.AxiosError=Y,Ct.Cancel=Ct.CanceledError,Ct.all=function(e){return Promise.all(e)},Ct.spread=function(e){return function(t){return e.apply(null,t)}},Ct.isAxiosError=function(e){return q.isObject(e)&&!0===e.isAxiosError},Ct.mergeConfig=Me,Ct.AxiosHeaders=Se,Ct.formToJSON=e=>ge(q.isHTMLForm(e)?new FormData(e):e),Ct.getAdapter=pt.getAdapter,Ct.HttpStatusCode=St,Ct.default=Ct;const Nt=Ct.create({baseURL:"http://localhost:8000/api",headers:{"Content-Type":"application/json"}});Nt.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),Nt.interceptors.response.use(e=>e,e=>{var t;return 401===(null===(t=e.response)||void 0===t?void 0:t.status)&&(localStorage.removeItem("token"),localStorage.removeItem("refresh_token"),window.location.href="/login"),Promise.reject(e)})},730:(e,t,n)=>{var a=n(43),r=n(853);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(e,t){d(e,t),d(e+"Capture",t)}function d(e,t){for(o[e]=t,e=0;e<t.length;e++)s.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},m={};function h(e,t,n,a,r,i,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=a,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new h(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new h(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new h(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new h(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new h(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new h(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new h(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new h(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new h(e,5,!1,e.toLowerCase(),null,!1,!1)});var x=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function y(e,t,n,a){var r=g.hasOwnProperty(t)?g[t]:null;(null!==r?0!==r.type:a||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,a){if(null===t||"undefined"===typeof t||function(e,t,n,a){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!a&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,a))return!0;if(a)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,a)&&(n=null),a||null===r?function(e){return!!u.call(m,e)||!u.call(f,e)&&(p.test(e)?m[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,a=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,a?e.setAttributeNS(a,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(x,v);g[t]=new h(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(x,v);g[t]=new h(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(x,v);g[t]=new h(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new h(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new h("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new h(e,1,!1,e.toLowerCase(),null,!0,!0)});var _=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),j=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),N=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),z=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var I=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=I&&e[I]||e["@@iterator"])?e:null}var F,D=Object.assign;function L(e){if(void 0===F)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);F=t&&t[1]||""}return"\n"+F+e}var B=!1;function M(e,t){if(!e||B)return"";B=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var a=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){a=d}e.call(t.prototype)}else{try{throw Error()}catch(d){a=d}e()}}catch(d){if(d&&a&&"string"===typeof d.stack){for(var r=d.stack.split("\n"),i=a.stack.split("\n"),s=r.length-1,o=i.length-1;1<=s&&0<=o&&r[s]!==i[o];)o--;for(;1<=s&&0<=o;s--,o--)if(r[s]!==i[o]){if(1!==s||1!==o)do{if(s--,0>--o||r[s]!==i[o]){var l="\n"+r[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=o);break}}}finally{B=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?L(e):""}function U(e){switch(e.tag){case 5:return L(e.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return e=M(e.type,!1);case 11:return e=M(e.type.render,!1);case 1:return e=M(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case j:return"Portal";case S:return"Profiler";case w:return"StrictMode";case P:return"Suspense";case T:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case N:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case E:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case z:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===w?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){a=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(e){a=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function $(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=K(e)?e.checked?"true":"false":e.value),(e=a)!==n&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return D({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,a=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:a,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function G(e,t){null!=(t=t.checked)&&y(e,"checked",t,!1)}function X(e,t){G(e,t);var n=q(t.value),a=t.type;if(null!=n)"number"===a?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===a||"reset"===a)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!("submit"!==a&&"reset"!==a||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,a){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&a&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(a&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return D({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function re(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function ie(e,t){var n=q(t.value),a=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=a&&(e.defaultValue=""+a)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var de,ce,ue=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((de=de||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=de.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,a){MSApp.execUnsafeLocalFunction(function(){return ce(e,t)})}:ce);function pe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},me=["Webkit","ms","Moz","O"];function he(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var a=0===n.indexOf("--"),r=he(n,t[n],a);"float"===n&&(n="cssFloat"),a?e.setProperty(n,r):e[n]=r}}Object.keys(fe).forEach(function(e){me.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]})});var xe=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(xe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _e=null;function be(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var je=null,ke=null,we=null;function Se(e){if(e=yr(e)){if("function"!==typeof je)throw Error(i(280));var t=e.stateNode;t&&(t=br(t),je(e.stateNode,e.type,t))}}function Ce(e){ke?we?we.push(e):we=[e]:ke=e}function Ne(){if(ke){var e=ke,t=we;if(we=ke=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ae(e,t){return e(t)}function Pe(){}var Te=!1;function Ee(e,t,n){if(Te)return e(t,n);Te=!0;try{return Ae(e,t,n)}finally{Te=!1,(null!==ke||null!==we)&&(Pe(),Ne())}}function ze(e,t){var n=e.stateNode;if(null===n)return null;var a=br(n);if(null===a)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(a=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!a;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Re=!1;if(c)try{var Ie={};Object.defineProperty(Ie,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Ie,Ie),window.removeEventListener("test",Ie,Ie)}catch(ce){Re=!1}function Oe(e,t,n,a,r,i,s,o,l){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(c){this.onError(c)}}var Fe=!1,De=null,Le=!1,Be=null,Me={onError:function(e){Fe=!0,De=e}};function Ue(e,t,n,a,r,i,s,o,l){Fe=!1,De=null,Oe.apply(Me,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(Ve(e)!==e)throw Error(i(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,a=t;;){var r=n.return;if(null===r)break;var s=r.alternate;if(null===s){if(null!==(a=r.return)){n=a;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return qe(r),e;if(s===a)return qe(r),t;s=s.sibling}throw Error(i(188))}if(n.return!==a.return)n=r,a=s;else{for(var o=!1,l=r.child;l;){if(l===n){o=!0,n=r,a=s;break}if(l===a){o=!0,a=r,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,a=r;break}if(l===a){o=!0,a=s,n=r;break}l=l.sibling}if(!o)throw Error(i(189))}}if(n.alternate!==a)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var $e=r.unstable_scheduleCallback,Ye=r.unstable_cancelCallback,Qe=r.unstable_shouldYield,Je=r.unstable_requestPaint,Ge=r.unstable_now,Xe=r.unstable_getCurrentPriorityLevel,Ze=r.unstable_ImmediatePriority,et=r.unstable_UserBlockingPriority,tt=r.unstable_NormalPriority,nt=r.unstable_LowPriority,at=r.unstable_IdlePriority,rt=null,it=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var dt=64,ct=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pt(e,t){var n=e.pendingLanes;if(0===n)return 0;var a=0,r=e.suspendedLanes,i=e.pingedLanes,s=268435455&n;if(0!==s){var o=s&~r;0!==o?a=ut(o):0!==(i&=s)&&(a=ut(i))}else 0!==(s=n&~r)?a=ut(s):0!==i&&(a=ut(i));if(0===a)return 0;if(0!==t&&t!==a&&0===(t&r)&&((r=a&-a)>=(i=t&-t)||16===r&&0!==(4194240&i)))return t;if(0!==(4&a)&&(a|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=a;0<t;)r=1<<(n=31-st(t)),a|=e[n],t&=~r;return a}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function mt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ht(){var e=dt;return 0===(4194240&(dt<<=1))&&(dt=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function xt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-st(n),r=1<<a;r&t|e[a]&t&&(e[a]|=t),n&=~r}}var yt=0;function _t(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var bt,jt,kt,wt,St,Ct=!1,Nt=[],At=null,Pt=null,Tt=null,Et=new Map,zt=new Map,Rt=[],It="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":Tt=null;break;case"pointerover":case"pointerout":Et.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zt.delete(t.pointerId)}}function Ft(e,t,n,a,r,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:i,targetContainers:[r]},null!==t&&(null!==(t=yr(t))&&jt(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function Dt(e){var t=vr(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void St(e.priority,function(){kt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Lt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=yr(n))&&jt(t),e.blockedOn=n,!1;var a=new(n=e.nativeEvent).constructor(n.type,n);_e=a,n.target.dispatchEvent(a),_e=null,t.shift()}return!0}function Bt(e,t,n){Lt(e)&&n.delete(t)}function Mt(){Ct=!1,null!==At&&Lt(At)&&(At=null),null!==Pt&&Lt(Pt)&&(Pt=null),null!==Tt&&Lt(Tt)&&(Tt=null),Et.forEach(Bt),zt.forEach(Bt)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Mt)))}function Vt(e){function t(t){return Ut(t,e)}if(0<Nt.length){Ut(Nt[0],e);for(var n=1;n<Nt.length;n++){var a=Nt[n];a.blockedOn===e&&(a.blockedOn=null)}}for(null!==At&&Ut(At,e),null!==Pt&&Ut(Pt,e),null!==Tt&&Ut(Tt,e),Et.forEach(t),zt.forEach(t),n=0;n<Rt.length;n++)(a=Rt[n]).blockedOn===e&&(a.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Dt(n),null===n.blockedOn&&Rt.shift()}var Wt=_.ReactCurrentBatchConfig,qt=!0;function Kt(e,t,n,a){var r=yt,i=Wt.transition;Wt.transition=null;try{yt=1,$t(e,t,n,a)}finally{yt=r,Wt.transition=i}}function Ht(e,t,n,a){var r=yt,i=Wt.transition;Wt.transition=null;try{yt=4,$t(e,t,n,a)}finally{yt=r,Wt.transition=i}}function $t(e,t,n,a){if(qt){var r=Qt(e,t,n,a);if(null===r)qa(e,t,a,Yt,n),Ot(e,a);else if(function(e,t,n,a,r){switch(t){case"focusin":return At=Ft(At,e,t,n,a,r),!0;case"dragenter":return Pt=Ft(Pt,e,t,n,a,r),!0;case"mouseover":return Tt=Ft(Tt,e,t,n,a,r),!0;case"pointerover":var i=r.pointerId;return Et.set(i,Ft(Et.get(i)||null,e,t,n,a,r)),!0;case"gotpointercapture":return i=r.pointerId,zt.set(i,Ft(zt.get(i)||null,e,t,n,a,r)),!0}return!1}(r,e,t,n,a))a.stopPropagation();else if(Ot(e,a),4&t&&-1<It.indexOf(e)){for(;null!==r;){var i=yr(r);if(null!==i&&bt(i),null===(i=Qt(e,t,n,a))&&qa(e,t,a,Yt,n),i===r)break;r=i}null!==r&&a.stopPropagation()}else qa(e,t,a,null,n)}}var Yt=null;function Qt(e,t,n,a){if(Yt=null,null!==(e=vr(e=be(a))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case at:return 536870912;default:return 16}default:return 16}}var Gt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,a=n.length,r="value"in Gt?Gt.value:Gt.textContent,i=r.length;for(e=0;e<a&&n[e]===r[e];e++);var s=a-e;for(t=1;t<=s&&n[a-t]===r[i-t];t++);return Zt=r.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function an(){return!1}function rn(e){function t(t,n,a,r,i){for(var s in this._reactName=t,this._targetInst=a,this.type=n,this.nativeEvent=r,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(r):r[s]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?nn:an,this.isPropagationStopped=an,this}return D(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,on,ln,dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=rn(dn),un=D({},dn,{view:0,detail:0}),pn=rn(un),fn=D({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:on}}),mn=rn(fn),hn=rn(D({},fn,{dataTransfer:0})),gn=rn(D({},un,{relatedTarget:0})),xn=rn(D({},dn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=D({},dn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yn=rn(vn),_n=rn(D({},dn,{data:0})),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function Sn(){return wn}var Cn=D({},un,{key:function(e){if(e.key){var t=bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?jn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Nn=rn(Cn),An=rn(D({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=rn(D({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Tn=rn(D({},dn,{propertyName:0,elapsedTime:0,pseudoElement:0})),En=D({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),zn=rn(En),Rn=[9,13,27,32],In=c&&"CompositionEvent"in window,On=null;c&&"documentMode"in document&&(On=document.documentMode);var Fn=c&&"TextEvent"in window&&!On,Dn=c&&(!In||On&&8<On&&11>=On),Ln=String.fromCharCode(32),Bn=!1;function Mn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Kn(e,t,n,a){Ce(a),0<(t=Ha(t,"onChange")).length&&(n=new cn("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Hn=null,$n=null;function Yn(e){La(e,0)}function Qn(e){if($(_r(e)))return e}function Jn(e,t){if("change"===e)return t}var Gn=!1;if(c){var Xn;if(c){var Zn="oninput"in document;if(!Zn){var ea=document.createElement("div");ea.setAttribute("oninput","return;"),Zn="function"===typeof ea.oninput}Xn=Zn}else Xn=!1;Gn=Xn&&(!document.documentMode||9<document.documentMode)}function ta(){Hn&&(Hn.detachEvent("onpropertychange",na),$n=Hn=null)}function na(e){if("value"===e.propertyName&&Qn($n)){var t=[];Kn(t,$n,e,be(e)),Ee(Yn,t)}}function aa(e,t,n){"focusin"===e?(ta(),$n=n,(Hn=t).attachEvent("onpropertychange",na)):"focusout"===e&&ta()}function ra(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn($n)}function ia(e,t){if("click"===e)return Qn(t)}function sa(e,t){if("input"===e||"change"===e)return Qn(t)}var oa="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function la(e,t){if(oa(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var r=n[a];if(!u.call(t,r)||!oa(e[r],t[r]))return!1}return!0}function da(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ca(e,t){var n,a=da(e);for(e=0;a;){if(3===a.nodeType){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=da(a)}}function ua(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ua(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function pa(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(a){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function fa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function ma(e){var t=pa(),n=e.focusedElem,a=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ua(n.ownerDocument.documentElement,n)){if(null!==a&&fa(n))if(t=a.start,void 0===(e=a.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var r=n.textContent.length,i=Math.min(a.start,r);a=void 0===a.end?i:Math.min(a.end,r),!e.extend&&i>a&&(r=a,a=i,i=r),r=ca(n,i);var s=ca(n,a);r&&s&&(1!==e.rangeCount||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(r.node,r.offset),e.removeAllRanges(),i>a?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ha=c&&"documentMode"in document&&11>=document.documentMode,ga=null,xa=null,va=null,ya=!1;function _a(e,t,n){var a=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ya||null==ga||ga!==Y(a)||("selectionStart"in(a=ga)&&fa(a)?a={start:a.selectionStart,end:a.selectionEnd}:a={anchorNode:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset},va&&la(va,a)||(va=a,0<(a=Ha(xa,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=ga)))}function ba(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ja={animationend:ba("Animation","AnimationEnd"),animationiteration:ba("Animation","AnimationIteration"),animationstart:ba("Animation","AnimationStart"),transitionend:ba("Transition","TransitionEnd")},ka={},wa={};function Sa(e){if(ka[e])return ka[e];if(!ja[e])return e;var t,n=ja[e];for(t in n)if(n.hasOwnProperty(t)&&t in wa)return ka[e]=n[t];return e}c&&(wa=document.createElement("div").style,"AnimationEvent"in window||(delete ja.animationend.animation,delete ja.animationiteration.animation,delete ja.animationstart.animation),"TransitionEvent"in window||delete ja.transitionend.transition);var Ca=Sa("animationend"),Na=Sa("animationiteration"),Aa=Sa("animationstart"),Pa=Sa("transitionend"),Ta=new Map,Ea="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function za(e,t){Ta.set(e,t),l(t,[e])}for(var Ra=0;Ra<Ea.length;Ra++){var Ia=Ea[Ra];za(Ia.toLowerCase(),"on"+(Ia[0].toUpperCase()+Ia.slice(1)))}za(Ca,"onAnimationEnd"),za(Na,"onAnimationIteration"),za(Aa,"onAnimationStart"),za("dblclick","onDoubleClick"),za("focusin","onFocus"),za("focusout","onBlur"),za(Pa,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fa=new Set("cancel close invalid load scroll toggle".split(" ").concat(Oa));function Da(e,t,n){var a=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,a,r,s,o,l,d){if(Ue.apply(this,arguments),Fe){if(!Fe)throw Error(i(198));var c=De;Fe=!1,De=null,Le||(Le=!0,Be=c)}}(a,t,void 0,e),e.currentTarget=null}function La(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var a=e[n],r=a.event;a=a.listeners;e:{var i=void 0;if(t)for(var s=a.length-1;0<=s;s--){var o=a[s],l=o.instance,d=o.currentTarget;if(o=o.listener,l!==i&&r.isPropagationStopped())break e;Da(r,o,d),i=l}else for(s=0;s<a.length;s++){if(l=(o=a[s]).instance,d=o.currentTarget,o=o.listener,l!==i&&r.isPropagationStopped())break e;Da(r,o,d),i=l}}}if(Le)throw e=Be,Le=!1,Be=null,e}function Ba(e,t){var n=t[hr];void 0===n&&(n=t[hr]=new Set);var a=e+"__bubble";n.has(a)||(Wa(t,e,2,!1),n.add(a))}function Ma(e,t,n){var a=0;t&&(a|=4),Wa(n,e,a,t)}var Ua="_reactListening"+Math.random().toString(36).slice(2);function Va(e){if(!e[Ua]){e[Ua]=!0,s.forEach(function(t){"selectionchange"!==t&&(Fa.has(t)||Ma(t,!1,e),Ma(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ua]||(t[Ua]=!0,Ma("selectionchange",!1,t))}}function Wa(e,t,n,a){switch(Jt(t)){case 1:var r=Kt;break;case 4:r=Ht;break;default:r=$t}n=r.bind(null,t,n,e),r=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),a?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function qa(e,t,n,a,r){var i=a;if(0===(1&t)&&0===(2&t)&&null!==a)e:for(;;){if(null===a)return;var s=a.tag;if(3===s||4===s){var o=a.stateNode.containerInfo;if(o===r||8===o.nodeType&&o.parentNode===r)break;if(4===s)for(s=a.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===r||8===l.nodeType&&l.parentNode===r))return;s=s.return}for(;null!==o;){if(null===(s=vr(o)))return;if(5===(l=s.tag)||6===l){a=i=s;continue e}o=o.parentNode}}a=a.return}Ee(function(){var a=i,r=be(n),s=[];e:{var o=Ta.get(e);if(void 0!==o){var l=cn,d=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Nn;break;case"focusin":d="focus",l=gn;break;case"focusout":d="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=hn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Pn;break;case Ca:case Na:case Aa:l=xn;break;case Pa:l=Tn;break;case"scroll":l=pn;break;case"wheel":l=zn;break;case"copy":case"cut":case"paste":l=yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=An}var c=0!==(4&t),u=!c&&"scroll"===e,p=c?null!==o?o+"Capture":null:o;c=[];for(var f,m=a;null!==m;){var h=(f=m).stateNode;if(5===f.tag&&null!==h&&(f=h,null!==p&&(null!=(h=ze(m,p))&&c.push(Ka(m,h,f)))),u)break;m=m.return}0<c.length&&(o=new l(o,d,null,n,r),s.push({event:o,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===_e||!(d=n.relatedTarget||n.fromElement)||!vr(d)&&!d[mr])&&(l||o)&&(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=a,null!==(d=(d=n.relatedTarget||n.toElement)?vr(d):null)&&(d!==(u=Ve(d))||5!==d.tag&&6!==d.tag)&&(d=null)):(l=null,d=a),l!==d)){if(c=mn,h="onMouseLeave",p="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(c=An,h="onPointerLeave",p="onPointerEnter",m="pointer"),u=null==l?o:_r(l),f=null==d?o:_r(d),(o=new c(h,m+"leave",l,n,r)).target=u,o.relatedTarget=f,h=null,vr(r)===a&&((c=new c(p,m+"enter",d,n,r)).target=f,c.relatedTarget=u,h=c),u=h,l&&d)e:{for(p=d,m=0,f=c=l;f;f=$a(f))m++;for(f=0,h=p;h;h=$a(h))f++;for(;0<m-f;)c=$a(c),m--;for(;0<f-m;)p=$a(p),f--;for(;m--;){if(c===p||null!==p&&c===p.alternate)break e;c=$a(c),p=$a(p)}c=null}else c=null;null!==l&&Ya(s,o,l,c,!1),null!==d&&null!==u&&Ya(s,u,d,c,!0)}if("select"===(l=(o=a?_r(a):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Jn;else if(qn(o))if(Gn)g=sa;else{g=ra;var x=aa}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=ia);switch(g&&(g=g(e,a))?Kn(s,g,n,r):(x&&x(e,o,a),"focusout"===e&&(x=o._wrapperState)&&x.controlled&&"number"===o.type&&ee(o,"number",o.value)),x=a?_r(a):window,e){case"focusin":(qn(x)||"true"===x.contentEditable)&&(ga=x,xa=a,va=null);break;case"focusout":va=xa=ga=null;break;case"mousedown":ya=!0;break;case"contextmenu":case"mouseup":case"dragend":ya=!1,_a(s,n,r);break;case"selectionchange":if(ha)break;case"keydown":case"keyup":_a(s,n,r)}var v;if(In)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Vn?Mn(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(Dn&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==y?"onCompositionEnd"===y&&Vn&&(v=en()):(Xt="value"in(Gt=r)?Gt.value:Gt.textContent,Vn=!0)),0<(x=Ha(a,y)).length&&(y=new _n(y,e,null,n,r),s.push({event:y,listeners:x}),v?y.data=v:null!==(v=Un(n))&&(y.data=v))),(v=Fn?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(Bn=!0,Ln);case"textInput":return(e=t.data)===Ln&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!In&&Mn(e,t)?(e=en(),Zt=Xt=Gt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Dn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(a=Ha(a,"onBeforeInput")).length&&(r=new _n("onBeforeInput","beforeinput",null,n,r),s.push({event:r,listeners:a}),r.data=v))}La(s,t)})}function Ka(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ha(e,t){for(var n=t+"Capture",a=[];null!==e;){var r=e,i=r.stateNode;5===r.tag&&null!==i&&(r=i,null!=(i=ze(e,n))&&a.unshift(Ka(e,i,r)),null!=(i=ze(e,t))&&a.push(Ka(e,i,r))),e=e.return}return a}function $a(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ya(e,t,n,a,r){for(var i=t._reactName,s=[];null!==n&&n!==a;){var o=n,l=o.alternate,d=o.stateNode;if(null!==l&&l===a)break;5===o.tag&&null!==d&&(o=d,r?null!=(l=ze(n,i))&&s.unshift(Ka(n,l,o)):r||null!=(l=ze(n,i))&&s.push(Ka(n,l,o))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Qa=/\r\n?/g,Ja=/\u0000|\uFFFD/g;function Ga(e){return("string"===typeof e?e:""+e).replace(Qa,"\n").replace(Ja,"")}function Xa(e,t,n){if(t=Ga(t),Ga(e)!==t&&n)throw Error(i(425))}function Za(){}var er=null,tr=null;function nr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ar="function"===typeof setTimeout?setTimeout:void 0,rr="function"===typeof clearTimeout?clearTimeout:void 0,ir="function"===typeof Promise?Promise:void 0,sr="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ir?function(e){return ir.resolve(null).then(e).catch(or)}:ar;function or(e){setTimeout(function(){throw e})}function lr(e,t){var n=t,a=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===a)return e.removeChild(r),void Vt(t);a--}else"$"!==n&&"$?"!==n&&"$!"!==n||a++;n=r}while(n);Vt(t)}function dr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function cr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ur=Math.random().toString(36).slice(2),pr="__reactFiber$"+ur,fr="__reactProps$"+ur,mr="__reactContainer$"+ur,hr="__reactEvents$"+ur,gr="__reactListeners$"+ur,xr="__reactHandles$"+ur;function vr(e){var t=e[pr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mr]||n[pr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=cr(e);null!==e;){if(n=e[pr])return n;e=cr(e)}return t}n=(e=n).parentNode}return null}function yr(e){return!(e=e[pr]||e[mr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function _r(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function br(e){return e[fr]||null}var jr=[],kr=-1;function wr(e){return{current:e}}function Sr(e){0>kr||(e.current=jr[kr],jr[kr]=null,kr--)}function Cr(e,t){kr++,jr[kr]=e.current,e.current=t}var Nr={},Ar=wr(Nr),Pr=wr(!1),Tr=Nr;function Er(e,t){var n=e.type.contextTypes;if(!n)return Nr;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var r,i={};for(r in n)i[r]=t[r];return a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function zr(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Rr(){Sr(Pr),Sr(Ar)}function Ir(e,t,n){if(Ar.current!==Nr)throw Error(i(168));Cr(Ar,t),Cr(Pr,n)}function Or(e,t,n){var a=e.stateNode;if(t=t.childContextTypes,"function"!==typeof a.getChildContext)return n;for(var r in a=a.getChildContext())if(!(r in t))throw Error(i(108,W(e)||"Unknown",r));return D({},n,a)}function Fr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Nr,Tr=Ar.current,Cr(Ar,e),Cr(Pr,Pr.current),!0}function Dr(e,t,n){var a=e.stateNode;if(!a)throw Error(i(169));n?(e=Or(e,t,Tr),a.__reactInternalMemoizedMergedChildContext=e,Sr(Pr),Sr(Ar),Cr(Ar,e)):Sr(Pr),Cr(Pr,n)}var Lr=null,Br=!1,Mr=!1;function Ur(e){null===Lr?Lr=[e]:Lr.push(e)}function Vr(){if(!Mr&&null!==Lr){Mr=!0;var e=0,t=yt;try{var n=Lr;for(yt=1;e<n.length;e++){var a=n[e];do{a=a(!0)}while(null!==a)}Lr=null,Br=!1}catch(r){throw null!==Lr&&(Lr=Lr.slice(e+1)),$e(Ze,Vr),r}finally{yt=t,Mr=!1}}return null}var Wr=[],qr=0,Kr=null,Hr=0,$r=[],Yr=0,Qr=null,Jr=1,Gr="";function Xr(e,t){Wr[qr++]=Hr,Wr[qr++]=Kr,Kr=e,Hr=t}function Zr(e,t,n){$r[Yr++]=Jr,$r[Yr++]=Gr,$r[Yr++]=Qr,Qr=e;var a=Jr;e=Gr;var r=32-st(a)-1;a&=~(1<<r),n+=1;var i=32-st(t)+r;if(30<i){var s=r-r%5;i=(a&(1<<s)-1).toString(32),a>>=s,r-=s,Jr=1<<32-st(t)+r|n<<r|a,Gr=i+e}else Jr=1<<i|n<<r|a,Gr=e}function ei(e){null!==e.return&&(Xr(e,1),Zr(e,1,0))}function ti(e){for(;e===Kr;)Kr=Wr[--qr],Wr[qr]=null,Hr=Wr[--qr],Wr[qr]=null;for(;e===Qr;)Qr=$r[--Yr],$r[Yr]=null,Gr=$r[--Yr],$r[Yr]=null,Jr=$r[--Yr],$r[Yr]=null}var ni=null,ai=null,ri=!1,ii=null;function si(e,t){var n=Ed(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function oi(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ni=e,ai=dr(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ni=e,ai=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qr?{id:Jr,overflow:Gr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ed(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ni=e,ai=null,!0);default:return!1}}function li(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function di(e){if(ri){var t=ai;if(t){var n=t;if(!oi(e,t)){if(li(e))throw Error(i(418));t=dr(n.nextSibling);var a=ni;t&&oi(e,t)?si(a,n):(e.flags=-4097&e.flags|2,ri=!1,ni=e)}}else{if(li(e))throw Error(i(418));e.flags=-4097&e.flags|2,ri=!1,ni=e}}}function ci(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ni=e}function ui(e){if(e!==ni)return!1;if(!ri)return ci(e),ri=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!nr(e.type,e.memoizedProps)),t&&(t=ai)){if(li(e))throw pi(),Error(i(418));for(;t;)si(e,t),t=dr(t.nextSibling)}if(ci(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ai=dr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ai=null}}else ai=ni?dr(e.stateNode.nextSibling):null;return!0}function pi(){for(var e=ai;e;)e=dr(e.nextSibling)}function fi(){ai=ni=null,ri=!1}function mi(e){null===ii?ii=[e]:ii.push(e)}var hi=_.ReactCurrentBatchConfig;function gi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var a=n.stateNode}if(!a)throw Error(i(147,e));var r=a,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=r.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function xi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vi(e){return(0,e._init)(e._payload)}function yi(e){function t(t,n){if(e){var a=t.deletions;null===a?(t.deletions=[n],t.flags|=16):a.push(n)}}function n(n,a){if(!e)return null;for(;null!==a;)t(n,a),a=a.sibling;return null}function a(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=Rd(e,t)).index=0,e.sibling=null,e}function s(t,n,a){return t.index=a,e?null!==(a=t.alternate)?(a=a.index)<n?(t.flags|=2,n):a:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,a){return null===t||6!==t.tag?((t=Dd(n,e.mode,a)).return=e,t):((t=r(t,n)).return=e,t)}function d(e,t,n,a){var i=n.type;return i===k?u(e,t,n.props.children,a,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===z&&vi(i)===t.type)?((a=r(t,n.props)).ref=gi(e,t,n),a.return=e,a):((a=Id(n.type,n.key,n.props,null,e.mode,a)).ref=gi(e,t,n),a.return=e,a)}function c(e,t,n,a){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ld(n,e.mode,a)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function u(e,t,n,a,i){return null===t||7!==t.tag?((t=Od(n,e.mode,a,i)).return=e,t):((t=r(t,n)).return=e,t)}function p(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Dd(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case b:return(n=Id(t.type,t.key,t.props,null,e.mode,n)).ref=gi(e,null,t),n.return=e,n;case j:return(t=Ld(t,e.mode,n)).return=e,t;case z:return p(e,(0,t._init)(t._payload),n)}if(te(t)||O(t))return(t=Od(t,e.mode,n,null)).return=e,t;xi(e,t)}return null}function f(e,t,n,a){var r=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==r?null:l(e,t,""+n,a);if("object"===typeof n&&null!==n){switch(n.$$typeof){case b:return n.key===r?d(e,t,n,a):null;case j:return n.key===r?c(e,t,n,a):null;case z:return f(e,t,(r=n._init)(n._payload),a)}if(te(n)||O(n))return null!==r?null:u(e,t,n,a,null);xi(e,n)}return null}function m(e,t,n,a,r){if("string"===typeof a&&""!==a||"number"===typeof a)return l(t,e=e.get(n)||null,""+a,r);if("object"===typeof a&&null!==a){switch(a.$$typeof){case b:return d(t,e=e.get(null===a.key?n:a.key)||null,a,r);case j:return c(t,e=e.get(null===a.key?n:a.key)||null,a,r);case z:return m(e,t,n,(0,a._init)(a._payload),r)}if(te(a)||O(a))return u(t,e=e.get(n)||null,a,r,null);xi(t,a)}return null}function h(r,i,o,l){for(var d=null,c=null,u=i,h=i=0,g=null;null!==u&&h<o.length;h++){u.index>h?(g=u,u=null):g=u.sibling;var x=f(r,u,o[h],l);if(null===x){null===u&&(u=g);break}e&&u&&null===x.alternate&&t(r,u),i=s(x,i,h),null===c?d=x:c.sibling=x,c=x,u=g}if(h===o.length)return n(r,u),ri&&Xr(r,h),d;if(null===u){for(;h<o.length;h++)null!==(u=p(r,o[h],l))&&(i=s(u,i,h),null===c?d=u:c.sibling=u,c=u);return ri&&Xr(r,h),d}for(u=a(r,u);h<o.length;h++)null!==(g=m(u,r,h,o[h],l))&&(e&&null!==g.alternate&&u.delete(null===g.key?h:g.key),i=s(g,i,h),null===c?d=g:c.sibling=g,c=g);return e&&u.forEach(function(e){return t(r,e)}),ri&&Xr(r,h),d}function g(r,o,l,d){var c=O(l);if("function"!==typeof c)throw Error(i(150));if(null==(l=c.call(l)))throw Error(i(151));for(var u=c=null,h=o,g=o=0,x=null,v=l.next();null!==h&&!v.done;g++,v=l.next()){h.index>g?(x=h,h=null):x=h.sibling;var y=f(r,h,v.value,d);if(null===y){null===h&&(h=x);break}e&&h&&null===y.alternate&&t(r,h),o=s(y,o,g),null===u?c=y:u.sibling=y,u=y,h=x}if(v.done)return n(r,h),ri&&Xr(r,g),c;if(null===h){for(;!v.done;g++,v=l.next())null!==(v=p(r,v.value,d))&&(o=s(v,o,g),null===u?c=v:u.sibling=v,u=v);return ri&&Xr(r,g),c}for(h=a(r,h);!v.done;g++,v=l.next())null!==(v=m(h,r,g,v.value,d))&&(e&&null!==v.alternate&&h.delete(null===v.key?g:v.key),o=s(v,o,g),null===u?c=v:u.sibling=v,u=v);return e&&h.forEach(function(e){return t(r,e)}),ri&&Xr(r,g),c}return function e(a,i,s,l){if("object"===typeof s&&null!==s&&s.type===k&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case b:e:{for(var d=s.key,c=i;null!==c;){if(c.key===d){if((d=s.type)===k){if(7===c.tag){n(a,c.sibling),(i=r(c,s.props.children)).return=a,a=i;break e}}else if(c.elementType===d||"object"===typeof d&&null!==d&&d.$$typeof===z&&vi(d)===c.type){n(a,c.sibling),(i=r(c,s.props)).ref=gi(a,c,s),i.return=a,a=i;break e}n(a,c);break}t(a,c),c=c.sibling}s.type===k?((i=Od(s.props.children,a.mode,l,s.key)).return=a,a=i):((l=Id(s.type,s.key,s.props,null,a.mode,l)).ref=gi(a,i,s),l.return=a,a=l)}return o(a);case j:e:{for(c=s.key;null!==i;){if(i.key===c){if(4===i.tag&&i.stateNode.containerInfo===s.containerInfo&&i.stateNode.implementation===s.implementation){n(a,i.sibling),(i=r(i,s.children||[])).return=a,a=i;break e}n(a,i);break}t(a,i),i=i.sibling}(i=Ld(s,a.mode,l)).return=a,a=i}return o(a);case z:return e(a,i,(c=s._init)(s._payload),l)}if(te(s))return h(a,i,s,l);if(O(s))return g(a,i,s,l);xi(a,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==i&&6===i.tag?(n(a,i.sibling),(i=r(i,s)).return=a,a=i):(n(a,i),(i=Dd(s,a.mode,l)).return=a,a=i),o(a)):n(a,i)}}var _i=yi(!0),bi=yi(!1),ji=wr(null),ki=null,wi=null,Si=null;function Ci(){Si=wi=ki=null}function Ni(e){var t=ji.current;Sr(ji),e._currentValue=t}function Ai(e,t,n){for(;null!==e;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==a&&(a.childLanes|=t)):null!==a&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function Pi(e,t){ki=e,Si=wi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(yo=!0),e.firstContext=null)}function Ti(e){var t=e._currentValue;if(Si!==e)if(e={context:e,memoizedValue:t,next:null},null===wi){if(null===ki)throw Error(i(308));wi=e,ki.dependencies={lanes:0,firstContext:e}}else wi=wi.next=e;return t}var Ei=null;function zi(e){null===Ei?Ei=[e]:Ei.push(e)}function Ri(e,t,n,a){var r=t.interleaved;return null===r?(n.next=n,zi(t)):(n.next=r.next,r.next=n),t.interleaved=n,Ii(e,a)}function Ii(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Oi=!1;function Fi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Di(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Li(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Bi(e,t,n){var a=e.updateQueue;if(null===a)return null;if(a=a.shared,0!==(2&Al)){var r=a.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),a.pending=t,Ii(e,n)}return null===(r=a.interleaved)?(t.next=t,zi(a)):(t.next=r.next,r.next=t),a.interleaved=t,Ii(e,n)}function Mi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Ui(e,t){var n=e.updateQueue,a=e.alternate;if(null!==a&&n===(a=a.updateQueue)){var r=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?r=i=s:i=i.next=s,n=n.next}while(null!==n);null===i?r=i=t:i=i.next=t}else r=i=t;return n={baseState:a.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:a.shared,effects:a.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Vi(e,t,n,a){var r=e.updateQueue;Oi=!1;var i=r.firstBaseUpdate,s=r.lastBaseUpdate,o=r.shared.pending;if(null!==o){r.shared.pending=null;var l=o,d=l.next;l.next=null,null===s?i=d:s.next=d,s=l;var c=e.alternate;null!==c&&((o=(c=c.updateQueue).lastBaseUpdate)!==s&&(null===o?c.firstBaseUpdate=d:o.next=d,c.lastBaseUpdate=l))}if(null!==i){var u=r.baseState;for(s=0,c=d=l=null,o=i;;){var p=o.lane,f=o.eventTime;if((a&p)===p){null!==c&&(c=c.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=e,h=o;switch(p=t,f=n,h.tag){case 1:if("function"===typeof(m=h.payload)){u=m.call(f,u,p);break e}u=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(p="function"===typeof(m=h.payload)?m.call(f,u,p):m)||void 0===p)break e;u=D({},u,p);break e;case 2:Oi=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(p=r.effects)?r.effects=[o]:p.push(o))}else f={eventTime:f,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===c?(d=c=f,l=u):c=c.next=f,s|=p;if(null===(o=o.next)){if(null===(o=r.shared.pending))break;o=(p=o).next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}if(null===c&&(l=u),r.baseState=l,r.firstBaseUpdate=d,r.lastBaseUpdate=c,null!==(t=r.shared.interleaved)){r=t;do{s|=r.lane,r=r.next}while(r!==t)}else null===i&&(r.shared.lanes=0);Fl|=s,e.lanes=s,e.memoizedState=u}}function Wi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var a=e[t],r=a.callback;if(null!==r){if(a.callback=null,a=n,"function"!==typeof r)throw Error(i(191,r));r.call(a)}}}var qi={},Ki=wr(qi),Hi=wr(qi),$i=wr(qi);function Yi(e){if(e===qi)throw Error(i(174));return e}function Qi(e,t){switch(Cr($i,t),Cr(Hi,e),Cr(Ki,qi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Sr(Ki),Cr(Ki,t)}function Ji(){Sr(Ki),Sr(Hi),Sr($i)}function Gi(e){Yi($i.current);var t=Yi(Ki.current),n=le(t,e.type);t!==n&&(Cr(Hi,e),Cr(Ki,n))}function Xi(e){Hi.current===e&&(Sr(Ki),Sr(Hi))}var Zi=wr(0);function es(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ts=[];function ns(){for(var e=0;e<ts.length;e++)ts[e]._workInProgressVersionPrimary=null;ts.length=0}var as=_.ReactCurrentDispatcher,rs=_.ReactCurrentBatchConfig,is=0,ss=null,os=null,ls=null,ds=!1,cs=!1,us=0,ps=0;function fs(){throw Error(i(321))}function ms(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!oa(e[n],t[n]))return!1;return!0}function hs(e,t,n,a,r,s){if(is=s,ss=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,as.current=null===e||null===e.memoizedState?Xs:Zs,e=n(a,r),cs){s=0;do{if(cs=!1,us=0,25<=s)throw Error(i(301));s+=1,ls=os=null,t.updateQueue=null,as.current=eo,e=n(a,r)}while(cs)}if(as.current=Gs,t=null!==os&&null!==os.next,is=0,ls=os=ss=null,ds=!1,t)throw Error(i(300));return e}function gs(){var e=0!==us;return us=0,e}function xs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ls?ss.memoizedState=ls=e:ls=ls.next=e,ls}function vs(){if(null===os){var e=ss.alternate;e=null!==e?e.memoizedState:null}else e=os.next;var t=null===ls?ss.memoizedState:ls.next;if(null!==t)ls=t,os=e;else{if(null===e)throw Error(i(310));e={memoizedState:(os=e).memoizedState,baseState:os.baseState,baseQueue:os.baseQueue,queue:os.queue,next:null},null===ls?ss.memoizedState=ls=e:ls=ls.next=e}return ls}function ys(e,t){return"function"===typeof t?t(e):t}function _s(e){var t=vs(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var a=os,r=a.baseQueue,s=n.pending;if(null!==s){if(null!==r){var o=r.next;r.next=s.next,s.next=o}a.baseQueue=r=s,n.pending=null}if(null!==r){s=r.next,a=a.baseState;var l=o=null,d=null,c=s;do{var u=c.lane;if((is&u)===u)null!==d&&(d=d.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),a=c.hasEagerState?c.eagerState:e(a,c.action);else{var p={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===d?(l=d=p,o=a):d=d.next=p,ss.lanes|=u,Fl|=u}c=c.next}while(null!==c&&c!==s);null===d?o=a:d.next=l,oa(a,t.memoizedState)||(yo=!0),t.memoizedState=a,t.baseState=o,t.baseQueue=d,n.lastRenderedState=a}if(null!==(e=n.interleaved)){r=e;do{s=r.lane,ss.lanes|=s,Fl|=s,r=r.next}while(r!==e)}else null===r&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function bs(e){var t=vs(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var a=n.dispatch,r=n.pending,s=t.memoizedState;if(null!==r){n.pending=null;var o=r=r.next;do{s=e(s,o.action),o=o.next}while(o!==r);oa(s,t.memoizedState)||(yo=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,a]}function js(){}function ks(e,t){var n=ss,a=vs(),r=t(),s=!oa(a.memoizedState,r);if(s&&(a.memoizedState=r,yo=!0),a=a.queue,Os(Cs.bind(null,n,a,e),[e]),a.getSnapshot!==t||s||null!==ls&&1&ls.memoizedState.tag){if(n.flags|=2048,Ts(9,Ss.bind(null,n,a,r,t),void 0,null),null===Pl)throw Error(i(349));0!==(30&is)||ws(n,t,r)}return r}function ws(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ss.updateQueue)?(t={lastEffect:null,stores:null},ss.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ss(e,t,n,a){t.value=n,t.getSnapshot=a,Ns(t)&&As(e)}function Cs(e,t,n){return n(function(){Ns(t)&&As(e)})}function Ns(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!oa(e,n)}catch(a){return!0}}function As(e){var t=Ii(e,1);null!==t&&nd(t,e,1,-1)}function Ps(e){var t=xs();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:e},t.queue=e,e=e.dispatch=$s.bind(null,ss,e),[t.memoizedState,e]}function Ts(e,t,n,a){return e={tag:e,create:t,destroy:n,deps:a,next:null},null===(t=ss.updateQueue)?(t={lastEffect:null,stores:null},ss.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function Es(){return vs().memoizedState}function zs(e,t,n,a){var r=xs();ss.flags|=e,r.memoizedState=Ts(1|t,n,void 0,void 0===a?null:a)}function Rs(e,t,n,a){var r=vs();a=void 0===a?null:a;var i=void 0;if(null!==os){var s=os.memoizedState;if(i=s.destroy,null!==a&&ms(a,s.deps))return void(r.memoizedState=Ts(t,n,i,a))}ss.flags|=e,r.memoizedState=Ts(1|t,n,i,a)}function Is(e,t){return zs(8390656,8,e,t)}function Os(e,t){return Rs(2048,8,e,t)}function Fs(e,t){return Rs(4,2,e,t)}function Ds(e,t){return Rs(4,4,e,t)}function Ls(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Bs(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Rs(4,4,Ls.bind(null,t,e),n)}function Ms(){}function Us(e,t){var n=vs();t=void 0===t?null:t;var a=n.memoizedState;return null!==a&&null!==t&&ms(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Vs(e,t){var n=vs();t=void 0===t?null:t;var a=n.memoizedState;return null!==a&&null!==t&&ms(t,a[1])?a[0]:(e=e(),n.memoizedState=[e,t],e)}function Ws(e,t,n){return 0===(21&is)?(e.baseState&&(e.baseState=!1,yo=!0),e.memoizedState=n):(oa(n,t)||(n=ht(),ss.lanes|=n,Fl|=n,e.baseState=!0),t)}function qs(e,t){var n=yt;yt=0!==n&&4>n?n:4,e(!0);var a=rs.transition;rs.transition={};try{e(!1),t()}finally{yt=n,rs.transition=a}}function Ks(){return vs().memoizedState}function Hs(e,t,n){var a=td(e);if(n={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null},Ys(e))Qs(t,n);else if(null!==(n=Ri(e,t,n,a))){nd(n,e,a,ed()),Js(n,t,a)}}function $s(e,t,n){var a=td(e),r={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ys(e))Qs(t,r);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=i(s,n);if(r.hasEagerState=!0,r.eagerState=o,oa(o,s)){var l=t.interleaved;return null===l?(r.next=r,zi(t)):(r.next=l.next,l.next=r),void(t.interleaved=r)}}catch(d){}null!==(n=Ri(e,t,r,a))&&(nd(n,e,a,r=ed()),Js(n,t,a))}}function Ys(e){var t=e.alternate;return e===ss||null!==t&&t===ss}function Qs(e,t){cs=ds=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Js(e,t,n){if(0!==(4194240&n)){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Gs={readContext:Ti,useCallback:fs,useContext:fs,useEffect:fs,useImperativeHandle:fs,useInsertionEffect:fs,useLayoutEffect:fs,useMemo:fs,useReducer:fs,useRef:fs,useState:fs,useDebugValue:fs,useDeferredValue:fs,useTransition:fs,useMutableSource:fs,useSyncExternalStore:fs,useId:fs,unstable_isNewReconciler:!1},Xs={readContext:Ti,useCallback:function(e,t){return xs().memoizedState=[e,void 0===t?null:t],e},useContext:Ti,useEffect:Is,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zs(4194308,4,Ls.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zs(4194308,4,e,t)},useInsertionEffect:function(e,t){return zs(4,2,e,t)},useMemo:function(e,t){var n=xs();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var a=xs();return t=void 0!==n?n(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=Hs.bind(null,ss,e),[a.memoizedState,e]},useRef:function(e){return e={current:e},xs().memoizedState=e},useState:Ps,useDebugValue:Ms,useDeferredValue:function(e){return xs().memoizedState=e},useTransition:function(){var e=Ps(!1),t=e[0];return e=qs.bind(null,e[1]),xs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var a=ss,r=xs();if(ri){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Pl)throw Error(i(349));0!==(30&is)||ws(a,t,n)}r.memoizedState=n;var s={value:n,getSnapshot:t};return r.queue=s,Is(Cs.bind(null,a,s,e),[e]),a.flags|=2048,Ts(9,Ss.bind(null,a,s,n,t),void 0,null),n},useId:function(){var e=xs(),t=Pl.identifierPrefix;if(ri){var n=Gr;t=":"+t+"R"+(n=(Jr&~(1<<32-st(Jr)-1)).toString(32)+n),0<(n=us++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ps++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Zs={readContext:Ti,useCallback:Us,useContext:Ti,useEffect:Os,useImperativeHandle:Bs,useInsertionEffect:Fs,useLayoutEffect:Ds,useMemo:Vs,useReducer:_s,useRef:Es,useState:function(){return _s(ys)},useDebugValue:Ms,useDeferredValue:function(e){return Ws(vs(),os.memoizedState,e)},useTransition:function(){return[_s(ys)[0],vs().memoizedState]},useMutableSource:js,useSyncExternalStore:ks,useId:Ks,unstable_isNewReconciler:!1},eo={readContext:Ti,useCallback:Us,useContext:Ti,useEffect:Os,useImperativeHandle:Bs,useInsertionEffect:Fs,useLayoutEffect:Ds,useMemo:Vs,useReducer:bs,useRef:Es,useState:function(){return bs(ys)},useDebugValue:Ms,useDeferredValue:function(e){var t=vs();return null===os?t.memoizedState=e:Ws(t,os.memoizedState,e)},useTransition:function(){return[bs(ys)[0],vs().memoizedState]},useMutableSource:js,useSyncExternalStore:ks,useId:Ks,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var n in t=D({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function no(e,t,n,a){n=null===(n=n(a,t=e.memoizedState))||void 0===n?t:D({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ao={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var a=ed(),r=td(e),i=Li(a,r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Bi(e,i,r))&&(nd(t,e,r,a),Mi(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=ed(),r=td(e),i=Li(a,r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Bi(e,i,r))&&(nd(t,e,r,a),Mi(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ed(),a=td(e),r=Li(n,a);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=Bi(e,r,a))&&(nd(t,e,a,n),Mi(t,e,a))}};function ro(e,t,n,a,r,i,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(a,i,s):!t.prototype||!t.prototype.isPureReactComponent||(!la(n,a)||!la(r,i))}function io(e,t,n){var a=!1,r=Nr,i=t.contextType;return"object"===typeof i&&null!==i?i=Ti(i):(r=zr(t)?Tr:Ar.current,i=(a=null!==(a=t.contextTypes)&&void 0!==a)?Er(e,r):Nr),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ao,e.stateNode=t,t._reactInternals=e,a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=i),t}function so(e,t,n,a){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,a),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&ao.enqueueReplaceState(t,t.state,null)}function oo(e,t,n,a){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},Fi(e);var i=t.contextType;"object"===typeof i&&null!==i?r.context=Ti(i):(i=zr(t)?Tr:Ar.current,r.context=Er(e,i)),r.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(no(e,t,i,n),r.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(t=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&ao.enqueueReplaceState(r,r.state,null),Vi(e,n,r,a),r.state=e.memoizedState),"function"===typeof r.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var n="",a=t;do{n+=U(a),a=a.return}while(a);var r=n}catch(i){r="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:r,digest:null}}function co(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function uo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var po="function"===typeof WeakMap?WeakMap:Map;function fo(e,t,n){(n=Li(-1,n)).tag=3,n.payload={element:null};var a=t.value;return n.callback=function(){ql||(ql=!0,Kl=a),uo(0,t)},n}function mo(e,t,n){(n=Li(-1,n)).tag=3;var a=e.type.getDerivedStateFromError;if("function"===typeof a){var r=t.value;n.payload=function(){return a(r)},n.callback=function(){uo(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){uo(0,t),"function"!==typeof a&&(null===Hl?Hl=new Set([this]):Hl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ho(e,t,n){var a=e.pingCache;if(null===a){a=e.pingCache=new po;var r=new Set;a.set(t,r)}else void 0===(r=a.get(t))&&(r=new Set,a.set(t,r));r.has(n)||(r.add(n),e=Sd.bind(null,e,t,n),t.then(e,e))}function go(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function xo(e,t,n,a,r){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Li(-1,1)).tag=2,Bi(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=r,e)}var vo=_.ReactCurrentOwner,yo=!1;function _o(e,t,n,a){t.child=null===e?bi(t,null,n,a):_i(t,e.child,n,a)}function bo(e,t,n,a,r){n=n.render;var i=t.ref;return Pi(t,r),a=hs(e,t,n,a,i,r),n=gs(),null===e||yo?(ri&&n&&ei(t),t.flags|=1,_o(e,t,a,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,qo(e,t,r))}function jo(e,t,n,a,r){if(null===e){var i=n.type;return"function"!==typeof i||zd(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Id(n.type,null,a,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,ko(e,t,i,a,r))}if(i=e.child,0===(e.lanes&r)){var s=i.memoizedProps;if((n=null!==(n=n.compare)?n:la)(s,a)&&e.ref===t.ref)return qo(e,t,r)}return t.flags|=1,(e=Rd(i,a)).ref=t.ref,e.return=t,t.child=e}function ko(e,t,n,a,r){if(null!==e){var i=e.memoizedProps;if(la(i,a)&&e.ref===t.ref){if(yo=!1,t.pendingProps=a=i,0===(e.lanes&r))return t.lanes=e.lanes,qo(e,t,r);0!==(131072&e.flags)&&(yo=!0)}}return Co(e,t,n,a,r)}function wo(e,t,n){var a=t.pendingProps,r=a.children,i=null!==e?e.memoizedState:null;if("hidden"===a.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Cr(Rl,zl),zl|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Cr(Rl,zl),zl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=null!==i?i.baseLanes:n,Cr(Rl,zl),zl|=a}else null!==i?(a=i.baseLanes|n,t.memoizedState=null):a=n,Cr(Rl,zl),zl|=a;return _o(e,t,r,n),t.child}function So(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Co(e,t,n,a,r){var i=zr(n)?Tr:Ar.current;return i=Er(t,i),Pi(t,r),n=hs(e,t,n,a,i,r),a=gs(),null===e||yo?(ri&&a&&ei(t),t.flags|=1,_o(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,qo(e,t,r))}function No(e,t,n,a,r){if(zr(n)){var i=!0;Fr(t)}else i=!1;if(Pi(t,r),null===t.stateNode)Wo(e,t),io(t,n,a),oo(t,n,a,r),a=!0;else if(null===e){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,d=n.contextType;"object"===typeof d&&null!==d?d=Ti(d):d=Er(t,d=zr(n)?Tr:Ar.current);var c=n.getDerivedStateFromProps,u="function"===typeof c||"function"===typeof s.getSnapshotBeforeUpdate;u||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==a||l!==d)&&so(t,s,a,d),Oi=!1;var p=t.memoizedState;s.state=p,Vi(t,a,s,r),l=t.memoizedState,o!==a||p!==l||Pr.current||Oi?("function"===typeof c&&(no(t,n,c,a),l=t.memoizedState),(o=Oi||ro(t,n,o,a,p,l,d))?(u||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=l),s.props=a,s.state=l,s.context=d,a=o):("function"===typeof s.componentDidMount&&(t.flags|=4194308),a=!1)}else{s=t.stateNode,Di(e,t),o=t.memoizedProps,d=t.type===t.elementType?o:to(t.type,o),s.props=d,u=t.pendingProps,p=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ti(l):l=Er(t,l=zr(n)?Tr:Ar.current);var f=n.getDerivedStateFromProps;(c="function"===typeof f||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==u||p!==l)&&so(t,s,a,l),Oi=!1,p=t.memoizedState,s.state=p,Vi(t,a,s,r);var m=t.memoizedState;o!==u||p!==m||Pr.current||Oi?("function"===typeof f&&(no(t,n,f,a),m=t.memoizedState),(d=Oi||ro(t,n,d,a,p,m,l)||!1)?(c||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(a,m,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(a,m,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=m),s.props=a,s.state=m,s.context=l,a=d):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),a=!1)}return Ao(e,t,n,a,i,r)}function Ao(e,t,n,a,r,i){So(e,t);var s=0!==(128&t.flags);if(!a&&!s)return r&&Dr(t,n,!1),qo(e,t,i);a=t.stateNode,vo.current=t;var o=s&&"function"!==typeof n.getDerivedStateFromError?null:a.render();return t.flags|=1,null!==e&&s?(t.child=_i(t,e.child,null,i),t.child=_i(t,null,o,i)):_o(e,t,o,i),t.memoizedState=a.state,r&&Dr(t,n,!0),t.child}function Po(e){var t=e.stateNode;t.pendingContext?Ir(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ir(0,t.context,!1),Qi(e,t.containerInfo)}function To(e,t,n,a,r){return fi(),mi(r),t.flags|=256,_o(e,t,n,a),t.child}var Eo,zo,Ro,Io,Oo={dehydrated:null,treeContext:null,retryLane:0};function Fo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Do(e,t,n){var a,r=t.pendingProps,s=Zi.current,o=!1,l=0!==(128&t.flags);if((a=l)||(a=(null===e||null!==e.memoizedState)&&0!==(2&s)),a?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Cr(Zi,1&s),null===e)return di(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=r.children,e=r.fallback,o?(r=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&r)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Fd(l,r,0,null),e=Od(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Fo(n),t.memoizedState=Oo,e):Lo(t,l));if(null!==(s=e.memoizedState)&&null!==(a=s.dehydrated))return function(e,t,n,a,r,s,o){if(n)return 256&t.flags?(t.flags&=-257,Bo(e,t,o,a=co(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=a.fallback,r=t.mode,a=Fd({mode:"visible",children:a.children},r,0,null),(s=Od(s,r,o,null)).flags|=2,a.return=t,s.return=t,a.sibling=s,t.child=a,0!==(1&t.mode)&&_i(t,e.child,null,o),t.child.memoizedState=Fo(o),t.memoizedState=Oo,s);if(0===(1&t.mode))return Bo(e,t,o,null);if("$!"===r.data){if(a=r.nextSibling&&r.nextSibling.dataset)var l=a.dgst;return a=l,Bo(e,t,o,a=co(s=Error(i(419)),a,void 0))}if(l=0!==(o&e.childLanes),yo||l){if(null!==(a=Pl)){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!==(r&(a.suspendedLanes|o))?0:r)&&r!==s.retryLane&&(s.retryLane=r,Ii(e,r),nd(a,e,r,-1))}return hd(),Bo(e,t,o,a=co(Error(i(421))))}return"$?"===r.data?(t.flags|=128,t.child=e.child,t=Nd.bind(null,e),r._reactRetry=t,null):(e=s.treeContext,ai=dr(r.nextSibling),ni=t,ri=!0,ii=null,null!==e&&($r[Yr++]=Jr,$r[Yr++]=Gr,$r[Yr++]=Qr,Jr=e.id,Gr=e.overflow,Qr=t),t=Lo(t,a.children),t.flags|=4096,t)}(e,t,l,r,a,s,n);if(o){o=r.fallback,l=t.mode,a=(s=e.child).sibling;var d={mode:"hidden",children:r.children};return 0===(1&l)&&t.child!==s?((r=t.child).childLanes=0,r.pendingProps=d,t.deletions=null):(r=Rd(s,d)).subtreeFlags=14680064&s.subtreeFlags,null!==a?o=Rd(a,o):(o=Od(o,l,n,null)).flags|=2,o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,l=null===(l=e.child.memoizedState)?Fo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Oo,r}return e=(o=e.child).sibling,r=Rd(o,{mode:"visible",children:r.children}),0===(1&t.mode)&&(r.lanes=n),r.return=t,r.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Lo(e,t){return(t=Fd({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bo(e,t,n,a){return null!==a&&mi(a),_i(t,e.child,null,n),(e=Lo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Mo(e,t,n){e.lanes|=t;var a=e.alternate;null!==a&&(a.lanes|=t),Ai(e.return,t,n)}function Uo(e,t,n,a,r){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:r}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=a,i.tail=n,i.tailMode=r)}function Vo(e,t,n){var a=t.pendingProps,r=a.revealOrder,i=a.tail;if(_o(e,t,a.children,n),0!==(2&(a=Zi.current)))a=1&a|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Mo(e,n,t);else if(19===e.tag)Mo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Cr(Zi,a),0===(1&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===es(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Uo(t,!1,r,n,i);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===es(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Uo(t,!0,n,null,i);break;case"together":Uo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Rd(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rd(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ko(e,t){if(!ri)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;null!==n;)null!==n.alternate&&(a=n),n=n.sibling;null===a?t||null===e.tail?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Ho(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,a=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,a|=14680064&r.subtreeFlags,a|=14680064&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,a|=r.subtreeFlags,a|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function $o(e,t,n){var a=t.pendingProps;switch(ti(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ho(t),null;case 1:case 17:return zr(t.type)&&Rr(),Ho(t),null;case 3:return a=t.stateNode,Ji(),Sr(Pr),Sr(Ar),ns(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),null!==e&&null!==e.child||(ui(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ii&&(sd(ii),ii=null))),zo(e,t),Ho(t),null;case 5:Xi(t);var r=Yi($i.current);if(n=t.type,null!==e&&null!=t.stateNode)Ro(e,t,n,a,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(null===t.stateNode)throw Error(i(166));return Ho(t),null}if(e=Yi(Ki.current),ui(t)){a=t.stateNode,n=t.type;var s=t.memoizedProps;switch(a[pr]=t,a[fr]=s,e=0!==(1&t.mode),n){case"dialog":Ba("cancel",a),Ba("close",a);break;case"iframe":case"object":case"embed":Ba("load",a);break;case"video":case"audio":for(r=0;r<Oa.length;r++)Ba(Oa[r],a);break;case"source":Ba("error",a);break;case"img":case"image":case"link":Ba("error",a),Ba("load",a);break;case"details":Ba("toggle",a);break;case"input":J(a,s),Ba("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!s.multiple},Ba("invalid",a);break;case"textarea":re(a,s),Ba("invalid",a)}for(var l in ve(n,s),r=null,s)if(s.hasOwnProperty(l)){var d=s[l];"children"===l?"string"===typeof d?a.textContent!==d&&(!0!==s.suppressHydrationWarning&&Xa(a.textContent,d,e),r=["children",d]):"number"===typeof d&&a.textContent!==""+d&&(!0!==s.suppressHydrationWarning&&Xa(a.textContent,d,e),r=["children",""+d]):o.hasOwnProperty(l)&&null!=d&&"onScroll"===l&&Ba("scroll",a)}switch(n){case"input":H(a),Z(a,s,!0);break;case"textarea":H(a),se(a);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(a.onclick=Za)}a=r,t.updateQueue=a,null!==a&&(t.flags|=4)}else{l=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof a.is?e=l.createElement(n,{is:a.is}):(e=l.createElement(n),"select"===n&&(l=e,a.multiple?l.multiple=!0:a.size&&(l.size=a.size))):e=l.createElementNS(e,n),e[pr]=t,e[fr]=a,Eo(e,t,!1,!1),t.stateNode=e;e:{switch(l=ye(n,a),n){case"dialog":Ba("cancel",e),Ba("close",e),r=a;break;case"iframe":case"object":case"embed":Ba("load",e),r=a;break;case"video":case"audio":for(r=0;r<Oa.length;r++)Ba(Oa[r],e);r=a;break;case"source":Ba("error",e),r=a;break;case"img":case"image":case"link":Ba("error",e),Ba("load",e),r=a;break;case"details":Ba("toggle",e),r=a;break;case"input":J(e,a),r=Q(e,a),Ba("invalid",e);break;case"option":default:r=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},r=D({},a,{value:void 0}),Ba("invalid",e);break;case"textarea":re(e,a),r=ae(e,a),Ba("invalid",e)}for(s in ve(n,r),d=r)if(d.hasOwnProperty(s)){var c=d[s];"style"===s?ge(e,c):"dangerouslySetInnerHTML"===s?null!=(c=c?c.__html:void 0)&&ue(e,c):"children"===s?"string"===typeof c?("textarea"!==n||""!==c)&&pe(e,c):"number"===typeof c&&pe(e,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(o.hasOwnProperty(s)?null!=c&&"onScroll"===s&&Ba("scroll",e):null!=c&&y(e,s,c,l))}switch(n){case"input":H(e),Z(e,a,!1);break;case"textarea":H(e),se(e);break;case"option":null!=a.value&&e.setAttribute("value",""+q(a.value));break;case"select":e.multiple=!!a.multiple,null!=(s=a.value)?ne(e,!!a.multiple,s,!1):null!=a.defaultValue&&ne(e,!!a.multiple,a.defaultValue,!0);break;default:"function"===typeof r.onClick&&(e.onclick=Za)}switch(n){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ho(t),null;case 6:if(e&&null!=t.stateNode)Io(e,t,e.memoizedProps,a);else{if("string"!==typeof a&&null===t.stateNode)throw Error(i(166));if(n=Yi($i.current),Yi(Ki.current),ui(t)){if(a=t.stateNode,n=t.memoizedProps,a[pr]=t,(s=a.nodeValue!==n)&&null!==(e=ni))switch(e.tag){case 3:Xa(a.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xa(a.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(a=(9===n.nodeType?n:n.ownerDocument).createTextNode(a))[pr]=t,t.stateNode=a}return Ho(t),null;case 13:if(Sr(Zi),a=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ri&&null!==ai&&0!==(1&t.mode)&&0===(128&t.flags))pi(),fi(),t.flags|=98560,s=!1;else if(s=ui(t),null!==a&&null!==a.dehydrated){if(null===e){if(!s)throw Error(i(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(i(317));s[pr]=t}else fi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ho(t),s=!1}else null!==ii&&(sd(ii),ii=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((a=null!==a)!==(null!==e&&null!==e.memoizedState)&&a&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zi.current)?0===Il&&(Il=3):hd())),null!==t.updateQueue&&(t.flags|=4),Ho(t),null);case 4:return Ji(),zo(e,t),null===e&&Va(t.stateNode.containerInfo),Ho(t),null;case 10:return Ni(t.type._context),Ho(t),null;case 19:if(Sr(Zi),null===(s=t.memoizedState))return Ho(t),null;if(a=0!==(128&t.flags),null===(l=s.rendering))if(a)Ko(s,!1);else{if(0!==Il||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=es(e))){for(t.flags|=128,Ko(s,!1),null!==(a=l.updateQueue)&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=n,n=t.child;null!==n;)e=a,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Cr(Zi,1&Zi.current|2),t.child}e=e.sibling}null!==s.tail&&Ge()>Vl&&(t.flags|=128,a=!0,Ko(s,!1),t.lanes=4194304)}else{if(!a)if(null!==(e=es(l))){if(t.flags|=128,a=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ko(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!ri)return Ho(t),null}else 2*Ge()-s.renderingStartTime>Vl&&1073741824!==n&&(t.flags|=128,a=!0,Ko(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ge(),t.sibling=null,n=Zi.current,Cr(Zi,a?1&n|2:1&n),t):(Ho(t),null);case 22:case 23:return ud(),a=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==a&&(t.flags|=8192),a&&0!==(1&t.mode)?0!==(1073741824&zl)&&(Ho(t),6&t.subtreeFlags&&(t.flags|=8192)):Ho(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Yo(e,t){switch(ti(t),t.tag){case 1:return zr(t.type)&&Rr(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ji(),Sr(Pr),Sr(Ar),ns(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Xi(t),null;case 13:if(Sr(Zi),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));fi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Sr(Zi),null;case 4:return Ji(),null;case 10:return Ni(t.type._context),null;case 22:case 23:return ud(),null;default:return null}}Eo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},zo=function(){},Ro=function(e,t,n,a){var r=e.memoizedProps;if(r!==a){e=t.stateNode,Yi(Ki.current);var i,s=null;switch(n){case"input":r=Q(e,r),a=Q(e,a),s=[];break;case"select":r=D({},r,{value:void 0}),a=D({},a,{value:void 0}),s=[];break;case"textarea":r=ae(e,r),a=ae(e,a),s=[];break;default:"function"!==typeof r.onClick&&"function"===typeof a.onClick&&(e.onclick=Za)}for(c in ve(n,a),n=null,r)if(!a.hasOwnProperty(c)&&r.hasOwnProperty(c)&&null!=r[c])if("style"===c){var l=r[c];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(o.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in a){var d=a[c];if(l=null!=r?r[c]:void 0,a.hasOwnProperty(c)&&d!==l&&(null!=d||null!=l))if("style"===c)if(l){for(i in l)!l.hasOwnProperty(i)||d&&d.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in d)d.hasOwnProperty(i)&&l[i]!==d[i]&&(n||(n={}),n[i]=d[i])}else n||(s||(s=[]),s.push(c,n)),n=d;else"dangerouslySetInnerHTML"===c?(d=d?d.__html:void 0,l=l?l.__html:void 0,null!=d&&l!==d&&(s=s||[]).push(c,d)):"children"===c?"string"!==typeof d&&"number"!==typeof d||(s=s||[]).push(c,""+d):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(o.hasOwnProperty(c)?(null!=d&&"onScroll"===c&&Ba("scroll",e),s||l===d||(s=[])):(s=s||[]).push(c,d))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}},Io=function(e,t,n,a){n!==a&&(t.flags|=4)};var Qo=!1,Jo=!1,Go="function"===typeof WeakSet?WeakSet:Set,Xo=null;function Zo(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(a){wd(e,t,a)}else n.current=null}function el(e,t,n){try{n()}catch(a){wd(e,t,a)}}var tl=!1;function nl(e,t,n){var a=t.updateQueue;if(null!==(a=null!==a?a.lastEffect:null)){var r=a=a.next;do{if((r.tag&e)===e){var i=r.destroy;r.destroy=void 0,void 0!==i&&el(t,n,i)}r=r.next}while(r!==a)}}function al(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var a=n.create;n.destroy=a()}n=n.next}while(n!==t)}}function rl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function il(e){var t=e.alternate;null!==t&&(e.alternate=null,il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[pr],delete t[fr],delete t[hr],delete t[gr],delete t[xr])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Za));else if(4!==a&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function dl(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==a&&null!==(e=e.child))for(dl(e,t,n),e=e.sibling;null!==e;)dl(e,t,n),e=e.sibling}var cl=null,ul=!1;function pl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(rt,n)}catch(o){}switch(n.tag){case 5:Jo||Zo(n,t);case 6:var a=cl,r=ul;cl=null,pl(e,t,n),ul=r,null!==(cl=a)&&(ul?(e=cl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(ul?(e=cl,n=n.stateNode,8===e.nodeType?lr(e.parentNode,n):1===e.nodeType&&lr(e,n),Vt(e)):lr(cl,n.stateNode));break;case 4:a=cl,r=ul,cl=n.stateNode.containerInfo,ul=!0,pl(e,t,n),cl=a,ul=r;break;case 0:case 11:case 14:case 15:if(!Jo&&(null!==(a=n.updateQueue)&&null!==(a=a.lastEffect))){r=a=a.next;do{var i=r,s=i.destroy;i=i.tag,void 0!==s&&(0!==(2&i)||0!==(4&i))&&el(n,t,s),r=r.next}while(r!==a)}pl(e,t,n);break;case 1:if(!Jo&&(Zo(n,t),"function"===typeof(a=n.stateNode).componentWillUnmount))try{a.props=n.memoizedProps,a.state=n.memoizedState,a.componentWillUnmount()}catch(o){wd(n,t,o)}pl(e,t,n);break;case 21:pl(e,t,n);break;case 22:1&n.mode?(Jo=(a=Jo)||null!==n.memoizedState,pl(e,t,n),Jo=a):pl(e,t,n);break;default:pl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Go),t.forEach(function(t){var a=Ad.bind(null,e,t);n.has(t)||(n.add(t),t.then(a,a))})}}function hl(e,t){var n=t.deletions;if(null!==n)for(var a=0;a<n.length;a++){var r=n[a];try{var s=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,ul=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,ul=!0;break e}l=l.return}if(null===cl)throw Error(i(160));fl(s,o,r),cl=null,ul=!1;var d=r.alternate;null!==d&&(d.return=null),r.return=null}catch(c){wd(r,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(hl(t,e),xl(e),4&a){try{nl(3,e,e.return),al(3,e)}catch(g){wd(e,e.return,g)}try{nl(5,e,e.return)}catch(g){wd(e,e.return,g)}}break;case 1:hl(t,e),xl(e),512&a&&null!==n&&Zo(n,n.return);break;case 5:if(hl(t,e),xl(e),512&a&&null!==n&&Zo(n,n.return),32&e.flags){var r=e.stateNode;try{pe(r,"")}catch(g){wd(e,e.return,g)}}if(4&a&&null!=(r=e.stateNode)){var s=e.memoizedProps,o=null!==n?n.memoizedProps:s,l=e.type,d=e.updateQueue;if(e.updateQueue=null,null!==d)try{"input"===l&&"radio"===s.type&&null!=s.name&&G(r,s),ye(l,o);var c=ye(l,s);for(o=0;o<d.length;o+=2){var u=d[o],p=d[o+1];"style"===u?ge(r,p):"dangerouslySetInnerHTML"===u?ue(r,p):"children"===u?pe(r,p):y(r,u,p,c)}switch(l){case"input":X(r,s);break;case"textarea":ie(r,s);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var m=s.value;null!=m?ne(r,!!s.multiple,m,!1):f!==!!s.multiple&&(null!=s.defaultValue?ne(r,!!s.multiple,s.defaultValue,!0):ne(r,!!s.multiple,s.multiple?[]:"",!1))}r[fr]=s}catch(g){wd(e,e.return,g)}}break;case 6:if(hl(t,e),xl(e),4&a){if(null===e.stateNode)throw Error(i(162));r=e.stateNode,s=e.memoizedProps;try{r.nodeValue=s}catch(g){wd(e,e.return,g)}}break;case 3:if(hl(t,e),xl(e),4&a&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(g){wd(e,e.return,g)}break;case 4:default:hl(t,e),xl(e);break;case 13:hl(t,e),xl(e),8192&(r=e.child).flags&&(s=null!==r.memoizedState,r.stateNode.isHidden=s,!s||null!==r.alternate&&null!==r.alternate.memoizedState||(Ul=Ge())),4&a&&ml(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?(Jo=(c=Jo)||u,hl(t,e),Jo=c):hl(t,e),xl(e),8192&a){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!u&&0!==(1&e.mode))for(Xo=e,u=e.child;null!==u;){for(p=Xo=u;null!==Xo;){switch(m=(f=Xo).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Zo(f,f.return);var h=f.stateNode;if("function"===typeof h.componentWillUnmount){a=f,n=f.return;try{t=a,h.props=t.memoizedProps,h.state=t.memoizedState,h.componentWillUnmount()}catch(g){wd(a,n,g)}}break;case 5:Zo(f,f.return);break;case 22:if(null!==f.memoizedState){bl(p);continue}}null!==m?(m.return=f,Xo=m):bl(p)}u=u.sibling}e:for(u=null,p=e;;){if(5===p.tag){if(null===u){u=p;try{r=p.stateNode,c?"function"===typeof(s=r.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=p.stateNode,o=void 0!==(d=p.memoizedProps.style)&&null!==d&&d.hasOwnProperty("display")?d.display:null,l.style.display=he("display",o))}catch(g){wd(e,e.return,g)}}}else if(6===p.tag){if(null===u)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(g){wd(e,e.return,g)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===e)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;null===p.sibling;){if(null===p.return||p.return===e)break e;u===p&&(u=null),p=p.return}u===p&&(u=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:hl(t,e),xl(e),4&a&&ml(e);case 21:}}function xl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var a=n;break e}n=n.return}throw Error(i(160))}switch(a.tag){case 5:var r=a.stateNode;32&a.flags&&(pe(r,""),a.flags&=-33),dl(e,ol(e),r);break;case 3:case 4:var s=a.stateNode.containerInfo;ll(e,ol(e),s);break;default:throw Error(i(161))}}catch(o){wd(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Xo=e,yl(e,t,n)}function yl(e,t,n){for(var a=0!==(1&e.mode);null!==Xo;){var r=Xo,i=r.child;if(22===r.tag&&a){var s=null!==r.memoizedState||Qo;if(!s){var o=r.alternate,l=null!==o&&null!==o.memoizedState||Jo;o=Qo;var d=Jo;if(Qo=s,(Jo=l)&&!d)for(Xo=r;null!==Xo;)l=(s=Xo).child,22===s.tag&&null!==s.memoizedState?jl(r):null!==l?(l.return=s,Xo=l):jl(r);for(;null!==i;)Xo=i,yl(i,t,n),i=i.sibling;Xo=r,Qo=o,Jo=d}_l(e)}else 0!==(8772&r.subtreeFlags)&&null!==i?(i.return=r,Xo=i):_l(e)}}function _l(e){for(;null!==Xo;){var t=Xo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Jo||al(5,t);break;case 1:var a=t.stateNode;if(4&t.flags&&!Jo)if(null===n)a.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:to(t.type,n.memoizedProps);a.componentDidUpdate(r,n.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Wi(t,s,a);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Wi(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var u=c.memoizedState;if(null!==u){var p=u.dehydrated;null!==p&&Vt(p)}}}break;default:throw Error(i(163))}Jo||512&t.flags&&rl(t)}catch(f){wd(t,t.return,f)}}if(t===e){Xo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xo=n;break}Xo=t.return}}function bl(e){for(;null!==Xo;){var t=Xo;if(t===e){Xo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xo=n;break}Xo=t.return}}function jl(e){for(;null!==Xo;){var t=Xo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{al(4,t)}catch(l){wd(t,n,l)}break;case 1:var a=t.stateNode;if("function"===typeof a.componentDidMount){var r=t.return;try{a.componentDidMount()}catch(l){wd(t,r,l)}}var i=t.return;try{rl(t)}catch(l){wd(t,i,l)}break;case 5:var s=t.return;try{rl(t)}catch(l){wd(t,s,l)}}}catch(l){wd(t,t.return,l)}if(t===e){Xo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Xo=o;break}Xo=t.return}}var kl,wl=Math.ceil,Sl=_.ReactCurrentDispatcher,Cl=_.ReactCurrentOwner,Nl=_.ReactCurrentBatchConfig,Al=0,Pl=null,Tl=null,El=0,zl=0,Rl=wr(0),Il=0,Ol=null,Fl=0,Dl=0,Ll=0,Bl=null,Ml=null,Ul=0,Vl=1/0,Wl=null,ql=!1,Kl=null,Hl=null,$l=!1,Yl=null,Ql=0,Jl=0,Gl=null,Xl=-1,Zl=0;function ed(){return 0!==(6&Al)?Ge():-1!==Xl?Xl:Xl=Ge()}function td(e){return 0===(1&e.mode)?1:0!==(2&Al)&&0!==El?El&-El:null!==hi.transition?(0===Zl&&(Zl=ht()),Zl):0!==(e=yt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function nd(e,t,n,a){if(50<Jl)throw Jl=0,Gl=null,Error(i(185));xt(e,n,a),0!==(2&Al)&&e===Pl||(e===Pl&&(0===(2&Al)&&(Dl|=n),4===Il&&od(e,El)),ad(e,a),1===n&&0===Al&&0===(1&t.mode)&&(Vl=Ge()+500,Br&&Vr()))}function ad(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,r=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-st(i),o=1<<s,l=r[s];-1===l?0!==(o&n)&&0===(o&a)||(r[s]=ft(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}(e,t);var a=pt(e,e===Pl?El:0);if(0===a)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){Br=!0,Ur(e)}(ld.bind(null,e)):Ur(ld.bind(null,e)),sr(function(){0===(6&Al)&&Vr()}),n=null;else{switch(_t(a)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=at}n=Pd(n,rd.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rd(e,t){if(Xl=-1,Zl=0,0!==(6&Al))throw Error(i(327));var n=e.callbackNode;if(jd()&&e.callbackNode!==n)return null;var a=pt(e,e===Pl?El:0);if(0===a)return null;if(0!==(30&a)||0!==(a&e.expiredLanes)||t)t=gd(e,a);else{t=a;var r=Al;Al|=2;var s=md();for(Pl===e&&El===t||(Wl=null,Vl=Ge()+500,pd(e,t));;)try{vd();break}catch(l){fd(e,l)}Ci(),Sl.current=s,Al=r,null!==Tl?t=0:(Pl=null,El=0,t=Il)}if(0!==t){if(2===t&&(0!==(r=mt(e))&&(a=r,t=id(e,r))),1===t)throw n=Ol,pd(e,0),od(e,a),ad(e,Ge()),n;if(6===t)od(e,a);else{if(r=e.current.alternate,0===(30&a)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var a=0;a<n.length;a++){var r=n[a],i=r.getSnapshot;r=r.value;try{if(!oa(i(),r))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(r)&&(2===(t=gd(e,a))&&(0!==(s=mt(e))&&(a=s,t=id(e,s))),1===t))throw n=Ol,pd(e,0),od(e,a),ad(e,Ge()),n;switch(e.finishedWork=r,e.finishedLanes=a,t){case 0:case 1:throw Error(i(345));case 2:case 5:bd(e,Ml,Wl);break;case 3:if(od(e,a),(130023424&a)===a&&10<(t=Ul+500-Ge())){if(0!==pt(e,0))break;if(((r=e.suspendedLanes)&a)!==a){ed(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=ar(bd.bind(null,e,Ml,Wl),t);break}bd(e,Ml,Wl);break;case 4:if(od(e,a),(4194240&a)===a)break;for(t=e.eventTimes,r=-1;0<a;){var o=31-st(a);s=1<<o,(o=t[o])>r&&(r=o),a&=~s}if(a=r,10<(a=(120>(a=Ge()-a)?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*wl(a/1960))-a)){e.timeoutHandle=ar(bd.bind(null,e,Ml,Wl),a);break}bd(e,Ml,Wl);break;default:throw Error(i(329))}}}return ad(e,Ge()),e.callbackNode===n?rd.bind(null,e):null}function id(e,t){var n=Bl;return e.current.memoizedState.isDehydrated&&(pd(e,t).flags|=256),2!==(e=gd(e,t))&&(t=Ml,Ml=n,null!==t&&sd(t)),e}function sd(e){null===Ml?Ml=e:Ml.push.apply(Ml,e)}function od(e,t){for(t&=~Ll,t&=~Dl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),a=1<<n;e[n]=-1,t&=~a}}function ld(e){if(0!==(6&Al))throw Error(i(327));jd();var t=pt(e,0);if(0===(1&t))return ad(e,Ge()),null;var n=gd(e,t);if(0!==e.tag&&2===n){var a=mt(e);0!==a&&(t=a,n=id(e,a))}if(1===n)throw n=Ol,pd(e,0),od(e,t),ad(e,Ge()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bd(e,Ml,Wl),ad(e,Ge()),null}function dd(e,t){var n=Al;Al|=1;try{return e(t)}finally{0===(Al=n)&&(Vl=Ge()+500,Br&&Vr())}}function cd(e){null!==Yl&&0===Yl.tag&&0===(6&Al)&&jd();var t=Al;Al|=1;var n=Nl.transition,a=yt;try{if(Nl.transition=null,yt=1,e)return e()}finally{yt=a,Nl.transition=n,0===(6&(Al=t))&&Vr()}}function ud(){zl=Rl.current,Sr(Rl)}function pd(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,rr(n)),null!==Tl)for(n=Tl.return;null!==n;){var a=n;switch(ti(a),a.tag){case 1:null!==(a=a.type.childContextTypes)&&void 0!==a&&Rr();break;case 3:Ji(),Sr(Pr),Sr(Ar),ns();break;case 5:Xi(a);break;case 4:Ji();break;case 13:case 19:Sr(Zi);break;case 10:Ni(a.type._context);break;case 22:case 23:ud()}n=n.return}if(Pl=e,Tl=e=Rd(e.current,null),El=zl=t,Il=0,Ol=null,Ll=Dl=Fl=0,Ml=Bl=null,null!==Ei){for(t=0;t<Ei.length;t++)if(null!==(a=(n=Ei[t]).interleaved)){n.interleaved=null;var r=a.next,i=n.pending;if(null!==i){var s=i.next;i.next=r,a.next=s}n.pending=a}Ei=null}return e}function fd(e,t){for(;;){var n=Tl;try{if(Ci(),as.current=Gs,ds){for(var a=ss.memoizedState;null!==a;){var r=a.queue;null!==r&&(r.pending=null),a=a.next}ds=!1}if(is=0,ls=os=ss=null,cs=!1,us=0,Cl.current=null,null===n||null===n.return){Il=1,Ol=t,Tl=null;break}e:{var s=e,o=n.return,l=n,d=t;if(t=El,l.flags|=32768,null!==d&&"object"===typeof d&&"function"===typeof d.then){var c=d,u=l,p=u.tag;if(0===(1&u.mode)&&(0===p||11===p||15===p)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=go(o);if(null!==m){m.flags&=-257,xo(m,o,l,0,t),1&m.mode&&ho(s,c,t),d=c;var h=(t=m).updateQueue;if(null===h){var g=new Set;g.add(d),t.updateQueue=g}else h.add(d);break e}if(0===(1&t)){ho(s,c,t),hd();break e}d=Error(i(426))}else if(ri&&1&l.mode){var x=go(o);if(null!==x){0===(65536&x.flags)&&(x.flags|=256),xo(x,o,l,0,t),mi(lo(d,l));break e}}s=d=lo(d,l),4!==Il&&(Il=2),null===Bl?Bl=[s]:Bl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Ui(s,fo(0,d,t));break e;case 1:l=d;var v=s.type,y=s.stateNode;if(0===(128&s.flags)&&("function"===typeof v.getDerivedStateFromError||null!==y&&"function"===typeof y.componentDidCatch&&(null===Hl||!Hl.has(y)))){s.flags|=65536,t&=-t,s.lanes|=t,Ui(s,mo(s,l,t));break e}}s=s.return}while(null!==s)}_d(n)}catch(_){t=_,Tl===n&&null!==n&&(Tl=n=n.return);continue}break}}function md(){var e=Sl.current;return Sl.current=Gs,null===e?Gs:e}function hd(){0!==Il&&3!==Il&&2!==Il||(Il=4),null===Pl||0===(268435455&Fl)&&0===(268435455&Dl)||od(Pl,El)}function gd(e,t){var n=Al;Al|=2;var a=md();for(Pl===e&&El===t||(Wl=null,pd(e,t));;)try{xd();break}catch(r){fd(e,r)}if(Ci(),Al=n,Sl.current=a,null!==Tl)throw Error(i(261));return Pl=null,El=0,Il}function xd(){for(;null!==Tl;)yd(Tl)}function vd(){for(;null!==Tl&&!Qe();)yd(Tl)}function yd(e){var t=kl(e.alternate,e,zl);e.memoizedProps=e.pendingProps,null===t?_d(e):Tl=t,Cl.current=null}function _d(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=$o(n,t,zl)))return void(Tl=n)}else{if(null!==(n=Yo(n,t)))return n.flags&=32767,void(Tl=n);if(null===e)return Il=6,void(Tl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Tl=t);Tl=t=e}while(null!==t);0===Il&&(Il=5)}function bd(e,t,n){var a=yt,r=Nl.transition;try{Nl.transition=null,yt=1,function(e,t,n,a){do{jd()}while(null!==Yl);if(0!==(6&Al))throw Error(i(327));n=e.finishedWork;var r=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-st(n),i=1<<r;t[r]=0,a[r]=-1,e[r]=-1,n&=~i}}(e,s),e===Pl&&(Tl=Pl=null,El=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||$l||($l=!0,Pd(tt,function(){return jd(),null})),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Nl.transition,Nl.transition=null;var o=yt;yt=1;var l=Al;Al|=4,Cl.current=null,function(e,t){if(er=qt,fa(e=pa())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var a=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(a&&0!==a.rangeCount){n=a.anchorNode;var r=a.anchorOffset,s=a.focusNode;a=a.focusOffset;try{n.nodeType,s.nodeType}catch(b){n=null;break e}var o=0,l=-1,d=-1,c=0,u=0,p=e,f=null;t:for(;;){for(var m;p!==n||0!==r&&3!==p.nodeType||(l=o+r),p!==s||0!==a&&3!==p.nodeType||(d=o+a),3===p.nodeType&&(o+=p.nodeValue.length),null!==(m=p.firstChild);)f=p,p=m;for(;;){if(p===e)break t;if(f===n&&++c===r&&(l=o),f===s&&++u===a&&(d=o),null!==(m=p.nextSibling))break;f=(p=f).parentNode}p=m}n=-1===l||-1===d?null:{start:l,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(tr={focusedElem:e,selectionRange:n},qt=!1,Xo=t;null!==Xo;)if(e=(t=Xo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xo=e;else for(;null!==Xo;){t=Xo;try{var h=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==h){var g=h.memoizedProps,x=h.memoizedState,v=t.stateNode,y=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:to(t.type,g),x);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var _=t.stateNode.containerInfo;1===_.nodeType?_.textContent="":9===_.nodeType&&_.documentElement&&_.removeChild(_.documentElement);break;default:throw Error(i(163))}}catch(b){wd(t,t.return,b)}if(null!==(e=t.sibling)){e.return=t.return,Xo=e;break}Xo=t.return}h=tl,tl=!1}(e,n),gl(n,e),ma(tr),qt=!!er,tr=er=null,e.current=n,vl(n,e,r),Je(),Al=l,yt=o,Nl.transition=s}else e.current=n;if($l&&($l=!1,Yl=e,Ql=r),s=e.pendingLanes,0===s&&(Hl=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ad(e,Ge()),null!==t)for(a=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],a(r.value,{componentStack:r.stack,digest:r.digest});if(ql)throw ql=!1,e=Kl,Kl=null,e;0!==(1&Ql)&&0!==e.tag&&jd(),s=e.pendingLanes,0!==(1&s)?e===Gl?Jl++:(Jl=0,Gl=e):Jl=0,Vr()}(e,t,n,a)}finally{Nl.transition=r,yt=a}return null}function jd(){if(null!==Yl){var e=_t(Ql),t=Nl.transition,n=yt;try{if(Nl.transition=null,yt=16>e?16:e,null===Yl)var a=!1;else{if(e=Yl,Yl=null,Ql=0,0!==(6&Al))throw Error(i(331));var r=Al;for(Al|=4,Xo=e.current;null!==Xo;){var s=Xo,o=s.child;if(0!==(16&Xo.flags)){var l=s.deletions;if(null!==l){for(var d=0;d<l.length;d++){var c=l[d];for(Xo=c;null!==Xo;){var u=Xo;switch(u.tag){case 0:case 11:case 15:nl(8,u,s)}var p=u.child;if(null!==p)p.return=u,Xo=p;else for(;null!==Xo;){var f=(u=Xo).sibling,m=u.return;if(il(u),u===c){Xo=null;break}if(null!==f){f.return=m,Xo=f;break}Xo=m}}}var h=s.alternate;if(null!==h){var g=h.child;if(null!==g){h.child=null;do{var x=g.sibling;g.sibling=null,g=x}while(null!==g)}}Xo=s}}if(0!==(2064&s.subtreeFlags)&&null!==o)o.return=s,Xo=o;else e:for(;null!==Xo;){if(0!==(2048&(s=Xo).flags))switch(s.tag){case 0:case 11:case 15:nl(9,s,s.return)}var v=s.sibling;if(null!==v){v.return=s.return,Xo=v;break e}Xo=s.return}}var y=e.current;for(Xo=y;null!==Xo;){var _=(o=Xo).child;if(0!==(2064&o.subtreeFlags)&&null!==_)_.return=o,Xo=_;else e:for(o=y;null!==Xo;){if(0!==(2048&(l=Xo).flags))try{switch(l.tag){case 0:case 11:case 15:al(9,l)}}catch(j){wd(l,l.return,j)}if(l===o){Xo=null;break e}var b=l.sibling;if(null!==b){b.return=l.return,Xo=b;break e}Xo=l.return}}if(Al=r,Vr(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(rt,e)}catch(j){}a=!0}return a}finally{yt=n,Nl.transition=t}}return!1}function kd(e,t,n){e=Bi(e,t=fo(0,t=lo(n,t),1),1),t=ed(),null!==e&&(xt(e,1,t),ad(e,t))}function wd(e,t,n){if(3===e.tag)kd(e,e,n);else for(;null!==t;){if(3===t.tag){kd(t,e,n);break}if(1===t.tag){var a=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof a.componentDidCatch&&(null===Hl||!Hl.has(a))){t=Bi(t,e=mo(t,e=lo(n,e),1),1),e=ed(),null!==t&&(xt(t,1,e),ad(t,e));break}}t=t.return}}function Sd(e,t,n){var a=e.pingCache;null!==a&&a.delete(t),t=ed(),e.pingedLanes|=e.suspendedLanes&n,Pl===e&&(El&n)===n&&(4===Il||3===Il&&(130023424&El)===El&&500>Ge()-Ul?pd(e,0):Ll|=n),ad(e,t)}function Cd(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=ed();null!==(e=Ii(e,t))&&(xt(e,t,n),ad(e,n))}function Nd(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cd(e,n)}function Ad(e,t){var n=0;switch(e.tag){case 13:var a=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(i(314))}null!==a&&a.delete(t),Cd(e,n)}function Pd(e,t){return $e(e,t)}function Td(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ed(e,t,n,a){return new Td(e,t,n,a)}function zd(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rd(e,t){var n=e.alternate;return null===n?((n=Ed(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Id(e,t,n,a,r,s){var o=2;if(a=e,"function"===typeof e)zd(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case k:return Od(n.children,r,s,t);case w:o=8,r|=8;break;case S:return(e=Ed(12,n,t,2|r)).elementType=S,e.lanes=s,e;case P:return(e=Ed(13,n,t,r)).elementType=P,e.lanes=s,e;case T:return(e=Ed(19,n,t,r)).elementType=T,e.lanes=s,e;case R:return Fd(n,r,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:o=10;break e;case N:o=9;break e;case A:o=11;break e;case E:o=14;break e;case z:o=16,a=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Ed(o,n,t,r)).elementType=e,t.type=a,t.lanes=s,t}function Od(e,t,n,a){return(e=Ed(7,e,a,t)).lanes=n,e}function Fd(e,t,n,a){return(e=Ed(22,e,a,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Dd(e,t,n){return(e=Ed(6,e,null,t)).lanes=n,e}function Ld(e,t,n){return(t=Ed(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bd(e,t,n,a,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=a,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Md(e,t,n,a,r,i,s,o,l){return e=new Bd(e,t,n,o,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Ed(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:a,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fi(i),e}function Ud(e){if(!e)return Nr;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(zr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(zr(n))return Or(e,n,t)}return t}function Vd(e,t,n,a,r,i,s,o,l){return(e=Md(n,a,!0,e,0,i,0,o,l)).context=Ud(null),n=e.current,(i=Li(a=ed(),r=td(n))).callback=void 0!==t&&null!==t?t:null,Bi(n,i,r),e.current.lanes=r,xt(e,r,a),ad(e,a),e}function Wd(e,t,n,a){var r=t.current,i=ed(),s=td(r);return n=Ud(n),null===t.context?t.context=n:t.pendingContext=n,(t=Li(i,s)).payload={element:e},null!==(a=void 0===a?null:a)&&(t.callback=a),null!==(e=Bi(r,t,s))&&(nd(e,r,s,i),Mi(e,r,s)),s}function qd(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Hd(e,t){Kd(e,t),(e=e.alternate)&&Kd(e,t)}kl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Pr.current)yo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return yo=!1,function(e,t,n){switch(t.tag){case 3:Po(t),fi();break;case 5:Gi(t);break;case 1:zr(t.type)&&Fr(t);break;case 4:Qi(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,r=t.memoizedProps.value;Cr(ji,a._currentValue),a._currentValue=r;break;case 13:if(null!==(a=t.memoizedState))return null!==a.dehydrated?(Cr(Zi,1&Zi.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Do(e,t,n):(Cr(Zi,1&Zi.current),null!==(e=qo(e,t,n))?e.sibling:null);Cr(Zi,1&Zi.current);break;case 19:if(a=0!==(n&t.childLanes),0!==(128&e.flags)){if(a)return Vo(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),Cr(Zi,Zi.current),a)break;return null;case 22:case 23:return t.lanes=0,wo(e,t,n)}return qo(e,t,n)}(e,t,n);yo=0!==(131072&e.flags)}else yo=!1,ri&&0!==(1048576&t.flags)&&Zr(t,Hr,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;Wo(e,t),e=t.pendingProps;var r=Er(t,Ar.current);Pi(t,n),r=hs(null,t,a,e,r,n);var s=gs();return t.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,zr(a)?(s=!0,Fr(t)):s=!1,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,Fi(t),r.updater=ao,t.stateNode=r,r._reactInternals=t,oo(t,a,e,n),t=Ao(null,t,a,!0,s,n)):(t.tag=0,ri&&s&&ei(t),_o(null,t,r,n),t=t.child),t;case 16:a=t.elementType;e:{switch(Wo(e,t),e=t.pendingProps,a=(r=a._init)(a._payload),t.type=a,r=t.tag=function(e){if("function"===typeof e)return zd(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===E)return 14}return 2}(a),e=to(a,e),r){case 0:t=Co(null,t,a,e,n);break e;case 1:t=No(null,t,a,e,n);break e;case 11:t=bo(null,t,a,e,n);break e;case 14:t=jo(null,t,a,to(a.type,e),n);break e}throw Error(i(306,a,""))}return t;case 0:return a=t.type,r=t.pendingProps,Co(e,t,a,r=t.elementType===a?r:to(a,r),n);case 1:return a=t.type,r=t.pendingProps,No(e,t,a,r=t.elementType===a?r:to(a,r),n);case 3:e:{if(Po(t),null===e)throw Error(i(387));a=t.pendingProps,r=(s=t.memoizedState).element,Di(e,t),Vi(t,a,null,n);var o=t.memoizedState;if(a=o.element,s.isDehydrated){if(s={element:a,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=To(e,t,a,n,r=lo(Error(i(423)),t));break e}if(a!==r){t=To(e,t,a,n,r=lo(Error(i(424)),t));break e}for(ai=dr(t.stateNode.containerInfo.firstChild),ni=t,ri=!0,ii=null,n=bi(t,null,a,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fi(),a===r){t=qo(e,t,n);break e}_o(e,t,a,n)}t=t.child}return t;case 5:return Gi(t),null===e&&di(t),a=t.type,r=t.pendingProps,s=null!==e?e.memoizedProps:null,o=r.children,nr(a,r)?o=null:null!==s&&nr(a,s)&&(t.flags|=32),So(e,t),_o(e,t,o,n),t.child;case 6:return null===e&&di(t),null;case 13:return Do(e,t,n);case 4:return Qi(t,t.stateNode.containerInfo),a=t.pendingProps,null===e?t.child=_i(t,null,a,n):_o(e,t,a,n),t.child;case 11:return a=t.type,r=t.pendingProps,bo(e,t,a,r=t.elementType===a?r:to(a,r),n);case 7:return _o(e,t,t.pendingProps,n),t.child;case 8:case 12:return _o(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(a=t.type._context,r=t.pendingProps,s=t.memoizedProps,o=r.value,Cr(ji,a._currentValue),a._currentValue=o,null!==s)if(oa(s.value,o)){if(s.children===r.children&&!Pr.current){t=qo(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){o=s.child;for(var d=l.firstContext;null!==d;){if(d.context===a){if(1===s.tag){(d=Li(-1,n&-n)).tag=2;var c=s.updateQueue;if(null!==c){var u=(c=c.shared).pending;null===u?d.next=d:(d.next=u.next,u.next=d),c.pending=d}}s.lanes|=n,null!==(d=s.alternate)&&(d.lanes|=n),Ai(s.return,n,t),l.lanes|=n;break}d=d.next}}else if(10===s.tag)o=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(o=s.return))throw Error(i(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ai(o,n,t),o=s.sibling}else o=s.child;if(null!==o)o.return=s;else for(o=s;null!==o;){if(o===t){o=null;break}if(null!==(s=o.sibling)){s.return=o.return,o=s;break}o=o.return}s=o}_o(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,a=t.pendingProps.children,Pi(t,n),a=a(r=Ti(r)),t.flags|=1,_o(e,t,a,n),t.child;case 14:return r=to(a=t.type,t.pendingProps),jo(e,t,a,r=to(a.type,r),n);case 15:return ko(e,t,t.type,t.pendingProps,n);case 17:return a=t.type,r=t.pendingProps,r=t.elementType===a?r:to(a,r),Wo(e,t),t.tag=1,zr(a)?(e=!0,Fr(t)):e=!1,Pi(t,n),io(t,a,r),oo(t,a,r,n),Ao(null,t,a,!0,e,n);case 19:return Vo(e,t,n);case 22:return wo(e,t,n)}throw Error(i(156,t.tag))};var $d="function"===typeof reportError?reportError:function(e){console.error(e)};function Yd(e){this._internalRoot=e}function Qd(e){this._internalRoot=e}function Jd(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Gd(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xd(){}function Zd(e,t,n,a,r){var i=n._reactRootContainer;if(i){var s=i;if("function"===typeof r){var o=r;r=function(){var e=qd(s);o.call(e)}}Wd(t,s,e,r)}else s=function(e,t,n,a,r){if(r){if("function"===typeof a){var i=a;a=function(){var e=qd(s);i.call(e)}}var s=Vd(t,a,e,0,null,!1,0,"",Xd);return e._reactRootContainer=s,e[mr]=s.current,Va(8===e.nodeType?e.parentNode:e),cd(),s}for(;r=e.lastChild;)e.removeChild(r);if("function"===typeof a){var o=a;a=function(){var e=qd(l);o.call(e)}}var l=Md(e,0,!1,null,0,!1,0,"",Xd);return e._reactRootContainer=l,e[mr]=l.current,Va(8===e.nodeType?e.parentNode:e),cd(function(){Wd(t,l,n,a)}),l}(n,t,e,r,a);return qd(s)}Qd.prototype.render=Yd.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Wd(e,t,null,null)},Qd.prototype.unmount=Yd.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cd(function(){Wd(null,e,null,null)}),t[mr]=null}},Qd.prototype.unstable_scheduleHydration=function(e){if(e){var t=wt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Dt(e)}},bt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(vt(t,1|n),ad(t,Ge()),0===(6&Al)&&(Vl=Ge()+500,Vr()))}break;case 13:cd(function(){var t=Ii(e,1);if(null!==t){var n=ed();nd(t,e,1,n)}}),Hd(e,1)}},jt=function(e){if(13===e.tag){var t=Ii(e,134217728);if(null!==t)nd(t,e,134217728,ed());Hd(e,134217728)}},kt=function(e){if(13===e.tag){var t=td(e),n=Ii(e,t);if(null!==n)nd(n,e,t,ed());Hd(e,t)}},wt=function(){return yt},St=function(e,t){var n=yt;try{return yt=e,t()}finally{yt=n}},je=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var r=br(a);if(!r)throw Error(i(90));$(a),X(a,r)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ae=dd,Pe=cd;var ec={usingClientEntryPoint:!1,Events:[yr,_r,br,Ce,Ne,dd]},tc={findFiberByHostInstance:vr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nc={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ac.isDisabled&&ac.supportsFiber)try{rt=ac.inject(nc),it=ac}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jd(t))throw Error(i(200));return function(e,t,n){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:j,key:null==a?null:""+a,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jd(e))throw Error(i(299));var n=!1,a="",r=$d;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(a=t.identifierPrefix),void 0!==t.onRecoverableError&&(r=t.onRecoverableError)),t=Md(e,1,!1,null,0,n,0,a,r),e[mr]=t.current,Va(8===e.nodeType?e.parentNode:e),new Yd(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return cd(e)},t.hydrate=function(e,t,n){if(!Gd(t))throw Error(i(200));return Zd(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jd(e))throw Error(i(405));var a=null!=n&&n.hydratedSources||null,r=!1,s="",o=$d;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Vd(t,null,e,1,null!=n?n:null,r,0,s,o),e[mr]=t.current,Va(e),a)for(e=0;e<a.length;e++)r=(r=(n=a[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new Qd(t)},t.render=function(e,t,n){if(!Gd(t))throw Error(i(200));return Zd(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Gd(e))throw Error(i(40));return!!e._reactRootContainer&&(cd(function(){Zd(null,null,e,!1,function(){e._reactRootContainer=null,e[mr]=null})}),!0)},t.unstable_batchedUpdates=dd,t.unstable_renderSubtreeIntoContainer=function(e,t,n,a){if(!Gd(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return Zd(e,t,n,!1,a)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var i=t[a]={exports:{}};return e[a](i,i.exports,n),i.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(a,r){if(1&r&&(a=this(a)),8&r)return a;if("object"===typeof a&&a){if(4&r&&a.__esModule)return a;if(16&r&&"function"===typeof a.then)return a}var i=Object.create(null);n.r(i);var s={};e=e||[null,t({}),t([]),t(t)];for(var o=2&r&&a;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>s[e]=()=>a[e]);return s.default=()=>a,n.d(i,s),i}})(),n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var a,r=n(43),i=n.t(r,2),s=n(391);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(a||(a={}));const l="popstate";function d(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function c(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function u(e,t){return{usr:e.state,key:e.key,idx:t}}function p(e,t,n,a){return void 0===n&&(n=null),o({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?m(t):t,{state:n,key:t&&t.key||a||Math.random().toString(36).substr(2,8)})}function f(e){let{pathname:t="/",search:n="",hash:a=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),a&&"#"!==a&&(t+="#"===a.charAt(0)?a:"#"+a),t}function m(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function h(e,t,n,r){void 0===r&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,c=i.history,m=a.Pop,h=null,g=x();function x(){return(c.state||{idx:null}).idx}function v(){m=a.Pop;let e=x(),t=null==e?null:e-g;g=e,h&&h({action:m,location:_.location,delta:t})}function y(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:f(e);return n=n.replace(/ $/,"%20"),d(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,c.replaceState(o({},c.state,{idx:g}),""));let _={get action(){return m},get location(){return e(i,c)},listen(e){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(l,v),h=e,()=>{i.removeEventListener(l,v),h=null}},createHref:e=>t(i,e),createURL:y,encodeLocation(e){let t=y(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){m=a.Push;let r=p(_.location,e,t);n&&n(r,e),g=x()+1;let o=u(r,g),l=_.createHref(r);try{c.pushState(o,"",l)}catch(d){if(d instanceof DOMException&&"DataCloneError"===d.name)throw d;i.location.assign(l)}s&&h&&h({action:m,location:_.location,delta:1})},replace:function(e,t){m=a.Replace;let r=p(_.location,e,t);n&&n(r,e),g=x();let i=u(r,g),o=_.createHref(r);c.replaceState(i,"",o),s&&h&&h({action:m,location:_.location,delta:0})},go:e=>c.go(e)};return _}var g;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(g||(g={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function x(e,t,n){return void 0===n&&(n="/"),v(e,t,n,!1)}function v(e,t,n,a){let r=z(("string"===typeof t?m(t):t).pathname||"/",n);if(null==r)return null;let i=y(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(i);let s=null;for(let o=0;null==s&&o<i.length;++o){let e=E(r);s=P(i[o],e,a)}return s}function y(e,t,n,a){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===a&&(a="");let r=(e,r,i)=>{let s={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:r,route:e};s.relativePath.startsWith("/")&&(d(s.relativePath.startsWith(a),'Absolute route path "'+s.relativePath+'" nested under path "'+a+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(a.length));let o=D([a,s.relativePath]),l=n.concat(s);e.children&&e.children.length>0&&(d(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),y(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:A(o,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let a of _(e.path))r(e,t,a);else r(e,t)}),t}function _(e){let t=e.split("/");if(0===t.length)return[];let[n,...a]=t,r=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===a.length)return r?[i,""]:[i];let s=_(a.join("/")),o=[];return o.push(...s.map(e=>""===e?i:[i,e].join("/"))),r&&o.push(...s),o.map(t=>e.startsWith("/")&&""===t?"/":t)}const b=/^:[\w-]+$/,j=3,k=2,w=1,S=10,C=-2,N=e=>"*"===e;function A(e,t){let n=e.split("/"),a=n.length;return n.some(N)&&(a+=C),t&&(a+=k),n.filter(e=>!N(e)).reduce((e,t)=>e+(b.test(t)?j:""===t?w:S),a)}function P(e,t,n){void 0===n&&(n=!1);let{routesMeta:a}=e,r={},i="/",s=[];for(let o=0;o<a.length;++o){let e=a[o],l=o===a.length-1,d="/"===i?t:t.slice(i.length)||"/",c=T({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},d),u=e.route;if(!c&&l&&n&&!a[a.length-1].route.index&&(c=T({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},d)),!c)return null;Object.assign(r,c.params),s.push({params:r,pathname:D([i,c.pathname]),pathnameBase:L(D([i,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(i=D([i,c.pathnameBase]))}return s}function T(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,a]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);c("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let a=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(a.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(a.push({paramName:"*"}),r+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":""!==e&&"/"!==e&&(r+="(?:(?=\\/|$))");let i=new RegExp(r,t?void 0:"i");return[i,a]}(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let i=r[0],s=i.replace(/(.)\/+$/,"$1"),o=r.slice(1);return{params:a.reduce((e,t,n)=>{let{paramName:a,isOptional:r}=t;if("*"===a){let e=o[n]||"";s=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[a]=r&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:i,pathnameBase:s,pattern:e}}function E(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return c(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function z(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,a=e.charAt(n);return a&&"/"!==a?null:e.slice(n)||"/"}function R(e,t,n,a){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function I(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function O(e,t){let n=I(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function F(e,t,n,a){let r;void 0===a&&(a=!1),"string"===typeof e?r=m(e):(r=o({},e),d(!r.pathname||!r.pathname.includes("?"),R("?","pathname","search",r)),d(!r.pathname||!r.pathname.includes("#"),R("#","pathname","hash",r)),d(!r.search||!r.search.includes("#"),R("#","search","hash",r)));let i,s=""===e||""===r.pathname,l=s?"/":r.pathname;if(null==l)i=n;else{let e=t.length-1;if(!a&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}i=e>=0?t[e]:"/"}let c=function(e,t){void 0===t&&(t="/");let{pathname:n,search:a="",hash:r=""}="string"===typeof e?m(e):e,i=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:i,search:B(a),hash:M(r)}}(r,i),u=l&&"/"!==l&&l.endsWith("/"),p=(s||"."===l)&&n.endsWith("/");return c.pathname.endsWith("/")||!u&&!p||(c.pathname+="/"),c}const D=e=>e.join("/").replace(/\/\/+/g,"/"),L=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),B=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",M=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function U(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const V=["post","put","patch","delete"],W=(new Set(V),["get",...V]);new Set(W),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function q(){return q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},q.apply(this,arguments)}const K=r.createContext(null);const H=r.createContext(null);const $=r.createContext(null);const Y=r.createContext(null);const Q=r.createContext({outlet:null,matches:[],isDataRoute:!1});const J=r.createContext(null);function G(){return null!=r.useContext(Y)}function X(){return G()||d(!1),r.useContext(Y).location}function Z(e){r.useContext($).static||r.useLayoutEffect(e)}function ee(){let{isDataRoute:e}=r.useContext(Q);return e?function(){let{router:e}=ce(le.UseNavigateStable),t=pe(de.UseNavigateStable),n=r.useRef(!1);return Z(()=>{n.current=!0}),r.useCallback(function(a,r){void 0===r&&(r={}),n.current&&("number"===typeof a?e.navigate(a):e.navigate(a,q({fromRouteId:t},r)))},[e,t])}():function(){G()||d(!1);let e=r.useContext(K),{basename:t,future:n,navigator:a}=r.useContext($),{matches:i}=r.useContext(Q),{pathname:s}=X(),o=JSON.stringify(O(i,n.v7_relativeSplatPath)),l=r.useRef(!1);return Z(()=>{l.current=!0}),r.useCallback(function(n,r){if(void 0===r&&(r={}),!l.current)return;if("number"===typeof n)return void a.go(n);let i=F(n,JSON.parse(o),s,"path"===r.relative);null==e&&"/"!==t&&(i.pathname="/"===i.pathname?t:D([t,i.pathname])),(r.replace?a.replace:a.push)(i,r.state,r)},[t,a,o,s,e])}()}function te(e,t){let{relative:n}=void 0===t?{}:t,{future:a}=r.useContext($),{matches:i}=r.useContext(Q),{pathname:s}=X(),o=JSON.stringify(O(i,a.v7_relativeSplatPath));return r.useMemo(()=>F(e,JSON.parse(o),s,"path"===n),[e,o,s,n])}function ne(e,t,n,i){G()||d(!1);let{navigator:s}=r.useContext($),{matches:o}=r.useContext(Q),l=o[o.length-1],c=l?l.params:{},u=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let p,f=X();if(t){var h;let e="string"===typeof t?m(t):t;"/"===u||(null==(h=e.pathname)?void 0:h.startsWith(u))||d(!1),p=e}else p=f;let g=p.pathname||"/",v=g;if("/"!==u){let e=u.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let y=x(e,{pathname:v});let _=oe(y&&y.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:D([u,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:D([u,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),o,n,i);return t&&_?r.createElement(Y.Provider,{value:{location:q({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:a.Pop}},_):_}function ae(){let e=function(){var e;let t=r.useContext(J),n=ue(de.UseRouteError),a=pe(de.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[a]}(),t=U(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:a};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:i},n):null,null)}const re=r.createElement(ae,null);class ie extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?r.createElement(Q.Provider,{value:this.props.routeContext},r.createElement(J.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function se(e){let{routeContext:t,match:n,children:a}=e,i=r.useContext(K);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(Q.Provider,{value:t},a)}function oe(e,t,n,a){var i;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===a&&(a=null),null==e){var s;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(s=a)&&s.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let o=e,l=null==(i=n)?void 0:i.errors;if(null!=l){let e=o.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||d(!1),o=o.slice(0,Math.min(o.length,e+1))}let c=!1,u=-1;if(n&&a&&a.v7_partialHydration)for(let r=0;r<o.length;r++){let e=o[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=r),e.route.id){let{loaderData:t,errors:a}=n,r=e.route.loader&&void 0===t[e.route.id]&&(!a||void 0===a[e.route.id]);if(e.route.lazy||r){c=!0,o=u>=0?o.slice(0,u+1):[o[0]];break}}}return o.reduceRight((e,a,i)=>{let s,d=!1,p=null,f=null;var m;n&&(s=l&&a.route.id?l[a.route.id]:void 0,p=a.route.errorElement||re,c&&(u<0&&0===i?(m="route-fallback",!1||fe[m]||(fe[m]=!0),d=!0,f=null):u===i&&(d=!0,f=a.route.hydrateFallbackElement||null)));let h=t.concat(o.slice(0,i+1)),g=()=>{let t;return t=s?p:d?f:a.route.Component?r.createElement(a.route.Component,null):a.route.element?a.route.element:e,r.createElement(se,{match:a,routeContext:{outlet:e,matches:h,isDataRoute:null!=n},children:t})};return n&&(a.route.ErrorBoundary||a.route.errorElement||0===i)?r.createElement(ie,{location:n.location,revalidation:n.revalidation,component:p,error:s,children:g(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):g()},null)}var le=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(le||{}),de=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(de||{});function ce(e){let t=r.useContext(K);return t||d(!1),t}function ue(e){let t=r.useContext(H);return t||d(!1),t}function pe(e){let t=function(){let e=r.useContext(Q);return e||d(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||d(!1),n.route.id}const fe={};function me(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}i.startTransition;function he(e){let{to:t,replace:n,state:a,relative:i}=e;G()||d(!1);let{future:s,static:o}=r.useContext($),{matches:l}=r.useContext(Q),{pathname:c}=X(),u=ee(),p=F(t,O(l,s.v7_relativeSplatPath),c,"path"===i),f=JSON.stringify(p);return r.useEffect(()=>u(JSON.parse(f),{replace:n,state:a,relative:i}),[u,f,i,n,a]),null}function ge(e){d(!1)}function xe(e){let{basename:t="/",children:n=null,location:i,navigationType:s=a.Pop,navigator:o,static:l=!1,future:c}=e;G()&&d(!1);let u=t.replace(/^\/*/,"/"),p=r.useMemo(()=>({basename:u,navigator:o,static:l,future:q({v7_relativeSplatPath:!1},c)}),[u,c,o,l]);"string"===typeof i&&(i=m(i));let{pathname:f="/",search:h="",hash:g="",state:x=null,key:v="default"}=i,y=r.useMemo(()=>{let e=z(f,u);return null==e?null:{location:{pathname:e,search:h,hash:g,state:x,key:v},navigationType:s}},[u,f,h,g,x,v,s]);return null==y?null:r.createElement($.Provider,{value:p},r.createElement(Y.Provider,{children:n,value:y}))}function ve(e){let{children:t,location:n}=e;return ne(ye(t),n)}new Promise(()=>{});r.Component;function ye(e,t){void 0===t&&(t=[]);let n=[];return r.Children.forEach(e,(e,a)=>{if(!r.isValidElement(e))return;let i=[...t,a];if(e.type===r.Fragment)return void n.push.apply(n,ye(e.props.children,i));e.type!==ge&&d(!1),e.props.index&&e.props.children&&d(!1);let s={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=ye(e.props.children,i)),n.push(s)}),n}var _e=n(950),be=n.t(_e,2);function je(){return je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},je.apply(this,arguments)}function ke(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const we=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(rt){}new Map;const Se=i.startTransition;be.flushSync,i.useId;function Ce(e){let{basename:t,children:n,future:a,window:i}=e,s=r.useRef();var o;null==s.current&&(s.current=(void 0===(o={window:i,v5Compat:!0})&&(o={}),h(function(e,t){let{pathname:n,search:a,hash:r}=e.location;return p("",{pathname:n,search:a,hash:r},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:f(t)},null,o)));let l=s.current,[d,c]=r.useState({action:l.action,location:l.location}),{v7_startTransition:u}=a||{},m=r.useCallback(e=>{u&&Se?Se(()=>c(e)):c(e)},[c,u]);return r.useLayoutEffect(()=>l.listen(m),[l,m]),r.useEffect(()=>me(a),[a]),r.createElement(xe,{basename:t,children:n,location:d.location,navigationType:d.action,navigator:l,future:a})}const Ne="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ae=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pe=r.forwardRef(function(e,t){let n,{onClick:a,relative:i,reloadDocument:s,replace:o,state:l,target:c,to:u,preventScrollReset:p,viewTransition:m}=e,h=ke(e,we),{basename:g}=r.useContext($),x=!1;if("string"===typeof u&&Ae.test(u)&&(n=u,Ne))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=z(t.pathname,g);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:x=!0}catch(rt){}let v=function(e,t){let{relative:n}=void 0===t?{}:t;G()||d(!1);let{basename:a,navigator:i}=r.useContext($),{hash:s,pathname:o,search:l}=te(e,{relative:n}),c=o;return"/"!==a&&(c="/"===o?a:D([a,o])),i.createHref({pathname:c,search:l,hash:s})}(u,{relative:i}),y=function(e,t){let{target:n,replace:a,state:i,preventScrollReset:s,relative:o,viewTransition:l}=void 0===t?{}:t,d=ee(),c=X(),u=te(e,{relative:o});return r.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==a?a:f(c)===f(u);d(e,{replace:n,state:i,preventScrollReset:s,relative:o,viewTransition:l})}},[c,d,u,a,i,n,e,s,o,l])}(u,{replace:o,state:l,target:c,preventScrollReset:p,relative:i,viewTransition:m});return r.createElement("a",je({},h,{href:n||v,onClick:x||s?a:function(e){a&&a(e),e.defaultPrevented||y(e)},ref:t,target:c}))});var Te,Ee;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Te||(Te={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ee||(Ee={}));var ze=n(677);const Re=async(e,t)=>(await ze.api.post("/auth/login/",{username:e,password:t})).data,Ie=async e=>{await ze.api.post("/auth/logout/",{refresh_token:e})},Oe=async()=>(await ze.api.get("/auth/users/me/")).data;var Fe=n(579);const De=(0,r.createContext)(void 0),Le=e=>{let{children:t}=e;const[n,a]=(0,r.useState)(null),[i,s]=(0,r.useState)(localStorage.getItem("token"));(0,r.useEffect)(()=>{i&&Oe().then(a).catch(()=>{localStorage.removeItem("token"),s(null)})},[i]);return(0,Fe.jsx)(De.Provider,{value:{user:n,isAuthenticated:!!i,login:async(e,t)=>{const n=await Re(e,t);s(n.access),a(n.user),localStorage.setItem("token",n.access),n.refresh&&localStorage.setItem("refresh_token",n.refresh)},logout:()=>{i&&Ie(localStorage.getItem("refresh_token")||""),localStorage.removeItem("token"),localStorage.removeItem("refresh_token"),s(null),a(null)},token:i},children:t})},Be=()=>{const e=(0,r.useContext)(De);if(void 0===e)throw new Error("useAuth must be used within an AuthProvider");return e},Me=()=>{const[e,t]=(0,r.useState)(""),[n,a]=(0,r.useState)(""),[i,s]=(0,r.useState)(""),[o,l]=(0,r.useState)(!1),{login:d}=Be(),c=ee();return(0,Fe.jsx)("div",{className:"login-container",children:(0,Fe.jsxs)("div",{className:"login-card",children:[(0,Fe.jsx)("h1",{children:"TMS - Prisijungimas"}),(0,Fe.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),s(""),l(!0);try{await d(e,n),c("/")}catch(p){var a,r,i,o,u;if(console.error("Login error:",p),p.response)s((null===(a=p.response)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.detail)||(null===(i=p.response)||void 0===i||null===(o=i.data)||void 0===o?void 0:o.message)||JSON.stringify(null===(u=p.response)||void 0===u?void 0:u.data)||"Prisijungimo klaida");else p.request?s("Nepavyko prisijungti prie serverio. Patikrinkite ar backend serveris veikia."):s(p.message||"Prisijungimo klaida")}finally{l(!1)}},children:[i&&(0,Fe.jsx)("div",{className:"error-message",children:i}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{htmlFor:"username",children:"Vartotojo vardas"}),(0,Fe.jsx)("input",{type:"text",id:"username",value:e,onChange:e=>t(e.target.value),required:!0,autoFocus:!0})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{htmlFor:"password",children:"Slapta\u017eodis"}),(0,Fe.jsx)("input",{type:"password",id:"password",value:n,onChange:e=>a(e.target.value),required:!0})]}),(0,Fe.jsx)("button",{type:"submit",className:"button",disabled:o,children:o?"Jungiamasi...":"Prisijungti"})]})]})})},Ue=()=>{const[e,t]=(0,r.useState)(null),[n,a]=(0,r.useState)(!0),[i,s]=(0,r.useState)(null);(0,r.useEffect)(()=>{(async()=>{try{a(!0);const e=await ze.api.get("/dashboard/statistics/");t(e.data),s(null)}catch(r){var e,n;s((null===(e=r.response)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.error)||"Klaida u\u017ekraunant statistik\u0105"),console.error("Dashboard statistics error:",r)}finally{a(!1)}})()},[]);const o=e=>{const t=parseFloat(e);return new Intl.NumberFormat("lt-LT",{style:"currency",currency:"EUR",minimumFractionDigits:2}).format(t)};return(0,Fe.jsx)("div",{className:"dashboard",children:(0,Fe.jsxs)("div",{className:"container",children:[(0,Fe.jsx)("h1",{style:{marginBottom:"15px",color:"#333",fontSize:"20px"},children:"Pagrindinis"}),n&&(0,Fe.jsx)("div",{style:{textAlign:"center",padding:"40px",color:"#666"},children:"Kraunama..."}),i&&(0,Fe.jsx)("div",{style:{padding:"15px",backgroundColor:"#fee",color:"#c33",borderRadius:"4px",marginBottom:"20px"},children:i}),e&&!n&&(0,Fe.jsxs)("div",{className:"dashboard-stats",children:[(0,Fe.jsxs)("div",{className:"stats-section",children:[(0,Fe.jsx)("h2",{children:"S\u0105skaitos"}),(0,Fe.jsxs)("div",{className:"stats-grid",children:[(0,Fe.jsxs)("div",{className:"stat-card",children:[(0,Fe.jsx)("div",{className:"stat-label",children:"Neapmok\u0117tos i\u0161ra\u0161ytos"}),(0,Fe.jsx)("div",{className:"stat-value",children:e.invoices.unpaid_sales.count}),(0,Fe.jsx)("div",{className:"stat-amount",children:o(e.invoices.unpaid_sales.total)}),e.invoices.unpaid_sales.oldest_invoices&&e.invoices.unpaid_sales.oldest_invoices.length>0&&(0,Fe.jsx)("div",{className:"stat-invoices-list",children:e.invoices.unpaid_sales.oldest_invoices.map((e,t)=>(0,Fe.jsxs)("div",{className:"stat-invoice-item",children:[(0,Fe.jsx)("div",{className:"stat-invoice-number",children:e.invoice_number}),(0,Fe.jsx)("div",{className:"stat-invoice-partner",children:e.partner_name})]},t))})]}),(0,Fe.jsxs)("div",{className:"stat-card",children:[(0,Fe.jsx)("div",{className:"stat-label",children:"Neapmok\u0117tos gautos"}),(0,Fe.jsx)("div",{className:"stat-value",children:e.invoices.unpaid_purchase.count}),(0,Fe.jsx)("div",{className:"stat-amount",children:o(e.invoices.unpaid_purchase.total)}),e.invoices.unpaid_purchase.oldest_invoices&&e.invoices.unpaid_purchase.oldest_invoices.length>0&&(0,Fe.jsx)("div",{className:"stat-invoices-list",children:e.invoices.unpaid_purchase.oldest_invoices.map((e,t)=>(0,Fe.jsxs)("div",{className:"stat-invoice-item",children:[(0,Fe.jsx)("div",{className:"stat-invoice-number",children:e.invoice_number}),(0,Fe.jsx)("div",{className:"stat-invoice-partner",children:e.partner_name})]},t))})]}),(0,Fe.jsxs)("div",{className:"stat-card stat-card-warning",children:[(0,Fe.jsx)("div",{className:"stat-label",children:"V\u0117luojan\u010dios i\u0161ra\u0161ytos"}),(0,Fe.jsx)("div",{className:"stat-value",children:"object"===typeof e.invoices.overdue_sales?e.invoices.overdue_sales.count:e.invoices.overdue_sales}),"object"===typeof e.invoices.overdue_sales&&e.invoices.overdue_sales.oldest_invoices&&e.invoices.overdue_sales.oldest_invoices.length>0&&(0,Fe.jsx)("div",{className:"stat-invoices-list",children:e.invoices.overdue_sales.oldest_invoices.map((e,t)=>(0,Fe.jsxs)("div",{className:"stat-invoice-item",children:[(0,Fe.jsx)("div",{className:"stat-invoice-number",children:e.invoice_number}),(0,Fe.jsx)("div",{className:"stat-invoice-partner",children:e.partner_name})]},t))})]}),(0,Fe.jsxs)("div",{className:"stat-card stat-card-warning",children:[(0,Fe.jsx)("div",{className:"stat-label",children:"V\u0117luojan\u010dios gautos"}),(0,Fe.jsx)("div",{className:"stat-value",children:"object"===typeof e.invoices.overdue_purchase?e.invoices.overdue_purchase.count:e.invoices.overdue_purchase}),"object"===typeof e.invoices.overdue_purchase&&e.invoices.overdue_purchase.oldest_invoices&&e.invoices.overdue_purchase.oldest_invoices.length>0&&(0,Fe.jsx)("div",{className:"stat-invoices-list",children:e.invoices.overdue_purchase.oldest_invoices.map((e,t)=>(0,Fe.jsxs)("div",{className:"stat-invoice-item",children:[(0,Fe.jsx)("div",{className:"stat-invoice-number",children:e.invoice_number}),(0,Fe.jsx)("div",{className:"stat-invoice-partner",children:e.partner_name})]},t))})]})]})]}),(0,Fe.jsxs)("div",{className:"stats-section",children:[(0,Fe.jsx)("h2",{children:"U\u017esakymai (\u0161is m\u0117nuo)"}),(0,Fe.jsxs)("div",{className:"stats-grid",children:[(0,Fe.jsxs)("div",{className:"stat-card stat-card-success",children:[(0,Fe.jsx)("div",{className:"stat-label",children:"Baigti"}),(0,Fe.jsx)("div",{className:"stat-value",children:e.orders.finished})]}),(0,Fe.jsxs)("div",{className:"stat-card stat-card-info",children:[(0,Fe.jsx)("div",{className:"stat-label",children:"Nebaigti"}),(0,Fe.jsx)("div",{className:"stat-value",children:e.orders.unfinished})]}),(0,Fe.jsxs)("div",{className:"stat-card stat-card-new",children:[(0,Fe.jsx)("div",{className:"stat-label",children:"Nauji"}),(0,Fe.jsx)("div",{className:"stat-value",children:e.orders.new})]})]})]}),(0,Fe.jsxs)("div",{className:"stats-section",children:[(0,Fe.jsx)("h2",{children:"Klientai"}),(0,Fe.jsx)("div",{className:"stats-grid",children:(0,Fe.jsxs)("div",{className:"stat-card stat-card-new",children:[(0,Fe.jsx)("div",{className:"stat-label",children:"Nauji \u0161\u012f m\u0117nes\u012f"}),(0,Fe.jsx)("div",{className:"stat-value",children:e.clients.new_this_month})]})})]})]})]})})};var Ve=n(555);const We=()=>{var e;const[t,n]=(0,r.useState)([]),[a,i]=(0,r.useState)(!0),[s,o]=(0,r.useState)("all"),[l,d]=(0,r.useState)(1),[c,u]=(0,r.useState)(1),[p,f]=(0,r.useState)(0),[m,h]=(0,r.useState)(!1),[g,x]=(0,r.useState)(""),[v,y]=(0,r.useState)(null),[_,b]=(0,r.useState)(!1),[j,k]=(0,r.useState)(null),[w,S]=(0,r.useState)(!1),[C,N]=(0,r.useState)(null),[A,P]=(0,r.useState)(!0),[T,E]=(0,r.useState)(!1),[z,R]=(0,r.useState)(!1),[I,O]=(0,r.useState)("all"),[F,D]=(0,r.useState)(!1),[L,B]=(0,r.useState)(!1),[M,U]=(0,r.useState)(!1),[V,W]=(0,r.useState)(null),[q,K]=(0,r.useState)({type:"info",message:"",visible:!1}),H=(0,r.useRef)(null),$=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3500;K({type:e,message:t,visible:!0}),null!==H.current&&window.clearTimeout(H.current),H.current=window.setTimeout(()=>K(e=>(0,Ve.A)((0,Ve.A)({},e),{},{visible:!1})),n)};(0,r.useEffect)(()=>()=>{H.current&&window.clearTimeout(H.current)},[]);const[Y,Q]=(0,r.useState)({open:!1}),[J,G]=(0,r.useState)(!1),[X,Z]=(0,r.useState)(!1),[ee,te]=(0,r.useState)([]),[ne,ae]=(0,r.useState)({}),[re,ie]=(0,r.useState)("code"),[se,oe]=(0,r.useState)({name:"",code:"",vat_code:"",address:"",is_client:!0,is_supplier:!1,status:"active",payment_term_days:30,notes:""}),[le,de]=(0,r.useState)([{first_name:"",last_name:"",email:"",phone:"",position:"",notes:"",is_primary:!0}]),ce=(0,r.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;i(!0);try{const t={page:e,page_size:100};"clients"===s?t.is_client=!0:"suppliers"===s&&(t.is_supplier=!0),g&&(t.search=g);const a=await ze.api.get("/partners/partners/",{params:t});if(a.data.results){n(a.data.results),f(a.data.count||a.data.results.length);const e=100;u(Math.ceil((a.data.count||a.data.results.length)/e))}else n(a.data),f(a.data.length),u(1)}catch(t){console.error("Klaida u\u017ekraunant partnerius:",t)}finally{i(!1)}},[s,g]),ue=(0,r.useRef)(s),pe=(0,r.useRef)(g);(0,r.useEffect)(()=>{ue.current!==s||pe.current!==g?(ue.current=s,pe.current=g,d(1),ce(1)):ce(l)},[s,g,l,ce]);const fe=e=>{y(e),b(!0),(async()=>{try{const t=await ze.api.get("/partners/partners/".concat(e.id,"/"));y(t.data)}catch(rt){}})()},me=async()=>{Z(!0);try{var e;const t=(null===(e=(await ze.api.get("/partners/partners/duplicates_preview/",{params:{by:re}})).data)||void 0===e?void 0:e.groups)||[];te(t);const n={};t.forEach(e=>{var t;n[e.key]={primaryId:null===(t=e.partners[0])||void 0===t?void 0:t.id,duplicateIds:[]}}),ae(n)}catch(rt){var t,n;$("error","Nepavyko u\u017ekrauti dublikat\u0173: "+((null===(t=rt.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||rt.message))}finally{Z(!1)}},[he,ge]=(0,r.useState)({first_name:"",last_name:"",email:"",phone:"",position:"",notes:""});return(0,Fe.jsx)("div",{className:"page",children:(0,Fe.jsxs)("div",{className:"container",children:[q.visible&&(0,Fe.jsx)("div",{style:{position:"fixed",top:"20%",left:"50%",transform:"translateX(-50%)",zIndex:2e3,backgroundColor:"success"===q.type?"#28a745":"error"===q.type?"#dc3545":"#17a2b8",color:"white",padding:"12px 18px",borderRadius:8,boxShadow:"0 6px 20px rgba(0,0,0,0.25)",maxWidth:"90%",textAlign:"center"},children:q.message}),(0,Fe.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",gap:"10px",flexWrap:"wrap"},children:[(0,Fe.jsx)("h1",{style:{margin:0},children:"Partneriai"}),(0,Fe.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[(0,Fe.jsx)("button",{className:"button",onClick:()=>B(!0),children:"Prid\u0117ti partner\u012f"}),(0,Fe.jsx)("button",{className:"button button-secondary",onClick:async()=>{G(!0),await me()},children:"Rasti dublikatus"}),(0,Fe.jsx)("button",{className:"button",onClick:()=>h(!m),children:m?"Sl\u0117pti import\u0105":"Importuoti partnerius"})]})]}),m&&(0,Fe.jsxs)("div",{className:"card",style:{marginBottom:"20px"},children:[(0,Fe.jsx)("h2",{children:"Importuoti i\u0161 XLSX/CSV failo"}),(0,Fe.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!j)return;S(!0),N(null);const t=new FormData;t.append("file",j),t.append("is_client",A.toString()),t.append("is_supplier",T.toString()),t.append("update_existing",z.toString());try{const e=await ze.api.post("/partners/import/upload/",t,{headers:{"Content-Type":"multipart/form-data"}});N(e.data),k(null),await ce(),$("success","Importas baigtas")}catch(r){var n,a;const e=(null===(n=r.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.error)||"Importo klaida";N({success:!1,error:e}),$("error",e)}finally{S(!1)}},children:[(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{htmlFor:"importFile",children:"Pasirinkite fail\u0105 (XLSX arba CSV)"}),(0,Fe.jsx)("input",{type:"file",id:"importFile",accept:".xlsx,.csv",onChange:e=>{e.target.files&&e.target.files[0]&&k(e.target.files[0])},required:!0})]}),(0,Fe.jsx)("div",{className:"form-group",children:(0,Fe.jsxs)("label",{children:[(0,Fe.jsx)("input",{type:"checkbox",checked:A,onChange:e=>P(e.target.checked)})," ","Pa\u017eym\u0117ti kaip klientus"]})}),(0,Fe.jsx)("div",{className:"form-group",children:(0,Fe.jsxs)("label",{children:[(0,Fe.jsx)("input",{type:"checkbox",checked:T,onChange:e=>E(e.target.checked)})," ","Pa\u017eym\u0117ti kaip tiek\u0117jus"]})}),(0,Fe.jsx)("div",{className:"form-group",children:(0,Fe.jsxs)("label",{children:[(0,Fe.jsx)("input",{type:"checkbox",checked:z,onChange:e=>R(e.target.checked)})," ","Atnaujinti egzistuojan\u010dius (pagal \u012fmon\u0117s kod\u0105)"]})}),(0,Fe.jsx)("button",{type:"submit",className:"button",disabled:w||!j,children:w?"Importuojama...":"Importuoti"})]}),C&&(0,Fe.jsxs)("div",{style:{marginTop:"20px",padding:"15px",backgroundColor:C.success?"#d4edda":"#f8d7da",borderRadius:"4px"},children:[(0,Fe.jsx)("h3",{children:"Rezultatai:"}),C.success?(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsxs)("p",{children:[(0,Fe.jsx)("strong",{children:"Importuota/Atnaujinta:"})," ",C.imported]}),(0,Fe.jsxs)("p",{children:[(0,Fe.jsx)("strong",{children:"Praleista:"})," ",C.skipped]}),C.errors>0&&(0,Fe.jsxs)("p",{children:[(0,Fe.jsx)("strong",{children:"Klaid\u0173:"})," ",C.errors]}),C.results&&C.results.length>0&&(0,Fe.jsxs)("details",{style:{marginTop:"10px"},open:!0,children:[(0,Fe.jsxs)("summary",{style:{cursor:"pointer",fontWeight:"bold",marginBottom:"10px"},children:["Detal\u016bs rezultatai (pirmi ",C.results.length,")"]}),(0,Fe.jsxs)("div",{style:{marginTop:"10px",maxHeight:"400px",overflow:"auto",backgroundColor:"#f8f9fa",padding:"10px",borderRadius:"4px"},children:[(0,Fe.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,Fe.jsx)("strong",{children:"Filtruoti:"})," ",(0,Fe.jsx)("button",{onClick:()=>O("all"),style:{margin:"0 5px",padding:"5px 10px",cursor:"pointer"},children:"Visi"}),(0,Fe.jsx)("button",{onClick:()=>O("skipped"),style:{margin:"0 5px",padding:"5px 10px",cursor:"pointer"},children:"Tik praleisti"}),(0,Fe.jsx)("button",{onClick:()=>O("imported"),style:{margin:"0 5px",padding:"5px 10px",cursor:"pointer"},children:"Tik importuoti"})]}),(0,Fe.jsx)("ul",{style:{marginTop:"10px",listStyle:"none",padding:0},children:C.results.filter(e=>"all"===I||e.status===I).map((e,t)=>(0,Fe.jsxs)("li",{style:{fontSize:"12px",padding:"5px",marginBottom:"3px",backgroundColor:"imported"===e.status?"#d4edda":"skipped"===e.status?"#fff3cd":"error"===e.status?"#f8d7da":"#e9ecef",borderRadius:"3px"},children:[(0,Fe.jsxs)("strong",{children:["Eilut\u0117 ",e.row,":"]})," [",e.status,"] ",e.message]},t))})]})]})]}):(0,Fe.jsx)("p",{style:{color:"#721c24"},children:C.error})]})]}),(0,Fe.jsx)("div",{className:"card",style:{marginBottom:"20px"},children:(0,Fe.jsxs)("div",{style:{display:"flex",gap:"10px",alignItems:"center",flexWrap:"wrap"},children:[(0,Fe.jsxs)("div",{style:{flex:1,minWidth:"300px"},children:[(0,Fe.jsx)("label",{htmlFor:"search",style:{display:"block",marginBottom:"5px"},children:"Paie\u0161ka:"}),(0,Fe.jsx)("input",{type:"text",id:"search",placeholder:"Paie\u0161ka pagal pavadinim\u0105, kod\u0105, PVM kod\u0105...",value:g,onChange:e=>x(e.target.value),style:{width:"100%",padding:"8px 12px",border:"1px solid #ddd",borderRadius:"4px"}})]}),g&&(0,Fe.jsx)("button",{className:"button button-secondary",onClick:()=>x(""),style:{alignSelf:"flex-end"},children:"I\u0161valyti"})]})}),(0,Fe.jsxs)("div",{className:"filters",style:{marginBottom:"20px",display:"flex",gap:"10px",flexWrap:"wrap",alignItems:"center"},children:[(0,Fe.jsx)("label",{style:{marginRight:"5px",fontWeight:"500"},children:"Filtruoti:"}),(0,Fe.jsx)("button",{className:"filter-btn ".concat("all"===s?"active":""),onClick:()=>o("all"),style:{padding:"8px 16px",border:"1px solid #ddd",background:"all"===s?"#007bff":"white",color:"all"===s?"white":"#333",borderRadius:"4px",cursor:"pointer",transition:"all 0.2s",fontWeight:"all"===s?"600":"normal"},children:"Visi"}),(0,Fe.jsx)("button",{className:"filter-btn ".concat("clients"===s?"active":""),onClick:()=>o("clients"),style:{padding:"8px 16px",border:"1px solid #ddd",background:"clients"===s?"#007bff":"white",color:"clients"===s?"white":"#333",borderRadius:"4px",cursor:"pointer",transition:"all 0.2s",fontWeight:"clients"===s?"600":"normal"},children:"Klientai"}),(0,Fe.jsx)("button",{className:"filter-btn ".concat("suppliers"===s?"active":""),onClick:()=>o("suppliers"),style:{padding:"8px 16px",border:"1px solid #ddd",background:"suppliers"===s?"#007bff":"white",color:"suppliers"===s?"white":"#333",borderRadius:"4px",cursor:"pointer",transition:"all 0.2s",fontWeight:"suppliers"===s?"600":"normal"},children:"Tiek\u0117jai"})]}),a?(0,Fe.jsx)("div",{children:"Kraunama..."}):(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsxs)("div",{style:{marginBottom:"15px",padding:"10px",backgroundColor:"#e9ecef",borderRadius:"4px"},children:[(0,Fe.jsxs)("strong",{children:["I\u0161 viso partneri\u0173: ",p]}),c>1&&(0,Fe.jsxs)("span",{children:[" | Puslapis ",l," i\u0161 ",c]})]}),(0,Fe.jsx)("div",{style:{marginBottom:"10px"},children:(0,Fe.jsx)("button",{className:"button button-secondary",onClick:()=>D(!F),style:{fontSize:"12px",padding:"6px 12px"},children:F?"\u2715 Sl\u0117pti papildomus stulpelius":"\u25b6 Rodyti visus stulpelius"})}),(0,Fe.jsx)("div",{style:{overflowX:"auto",width:"100%"},children:(0,Fe.jsxs)("table",{className:"table",style:{fontSize:"13px",minWidth:F?"1200px":"800px"},children:[(0,Fe.jsx)("thead",{children:(0,Fe.jsxs)("tr",{children:[(0,Fe.jsx)("th",{style:{minWidth:"150px"},children:"Pavadinimas"}),(0,Fe.jsx)("th",{style:{minWidth:"100px"},children:"Kodas"}),(0,Fe.jsx)("th",{style:{minWidth:"100px"},children:"PVM"}),F&&(0,Fe.jsx)("th",{style:{minWidth:"150px"},children:"Adresas"}),F&&(0,Fe.jsx)("th",{style:{minWidth:"120px"},children:"Kontaktas"}),F&&(0,Fe.jsx)("th",{style:{minWidth:"100px"},children:"Tel."}),F&&(0,Fe.jsx)("th",{style:{minWidth:"150px"},children:"El. pa\u0161tas"}),F&&(0,Fe.jsx)("th",{style:{minWidth:"90px"},children:"Terminas"}),(0,Fe.jsx)("th",{style:{minWidth:"100px"},children:"Tipas"}),(0,Fe.jsx)("th",{style:{minWidth:"80px"},children:"B\u016bsena"}),(0,Fe.jsx)("th",{style:{minWidth:"140px"},children:"Veiksmai"})]})}),(0,Fe.jsx)("tbody",{children:0===t.length?(0,Fe.jsx)("tr",{children:(0,Fe.jsx)("td",{colSpan:F?11:6,style:{textAlign:"center",padding:"20px"},children:"Partneri\u0173 nerasta"})}):t.map(e=>{var t,n;return(0,Fe.jsxs)("tr",{onClick:()=>(e=>{W(e),U(!0),(async()=>{try{const t=await ze.api.get("/partners/partners/".concat(e.id,"/"));W(t.data)}catch(rt){}})()})(e),style:{cursor:"pointer"},children:[(0,Fe.jsx)("td",{style:{wordBreak:"break-word"},children:e.name}),(0,Fe.jsx)("td",{children:e.code}),(0,Fe.jsx)("td",{children:e.vat_code||"-"}),F&&(0,Fe.jsx)("td",{style:{maxWidth:"150px",wordBreak:"break-word"},title:e.address||"",children:e.address?e.address.length>30?e.address.substring(0,30)+"...":e.address:"-"}),F&&(0,Fe.jsx)("td",{style:{whiteSpace:"nowrap"},children:e.contact_person&&"".concat(e.contact_person.first_name," ").concat(e.contact_person.last_name).trim()||"-"}),F&&(0,Fe.jsx)("td",{style:{whiteSpace:"nowrap"},children:(null===(t=e.contact_person)||void 0===t?void 0:t.phone)||"-"}),F&&(0,Fe.jsx)("td",{style:{wordBreak:"break-all"},children:(null===(n=e.contact_person)||void 0===n?void 0:n.email)||"-"}),F&&(0,Fe.jsx)("td",{children:e.payment_term_days?"".concat(e.payment_term_days,"d"):"-"}),(0,Fe.jsxs)("td",{children:[e.is_client&&(0,Fe.jsx)("span",{className:"badge badge-info",style:{fontSize:"11px",marginRight:"3px"},children:"K"}),e.is_supplier&&(0,Fe.jsx)("span",{className:"badge badge-info",style:{fontSize:"11px"},children:"T"}),!e.is_client&&!e.is_supplier&&"-"]}),(0,Fe.jsx)("td",{children:(0,Fe.jsx)("span",{className:"badge ".concat("active"===e.status?"badge-success":"badge-danger"),style:{fontSize:"11px"},children:"active"===e.status?"Aktyvus":"U\u017eblokuotas"})}),(0,Fe.jsx)("td",{children:(0,Fe.jsxs)("div",{style:{display:"flex",gap:"5px"},children:[(0,Fe.jsx)("button",{className:"button button-secondary",onClick:t=>{t.stopPropagation(),fe(e)},style:{fontSize:"11px",padding:"4px 8px"},children:"Redaguoti"}),(0,Fe.jsx)("button",{className:"button button-secondary",onClick:t=>{t.stopPropagation(),(async(e,t)=>{if(window.confirm('Ar tikrai norite i\u0161trinti partner\u012f "'.concat(t,'"?')))try{await ze.api.delete("/partners/partners/".concat(e,"/")),await ce(l),$("success","Partneris s\u0117kmingai i\u0161trintas")}catch(r){var n,a;$("error",(null===(n=r.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.error)||"Klaida trinant partner\u012f")}})(e.id,e.name)},style:{fontSize:"11px",padding:"4px 8px",backgroundColor:"#dc3545",color:"white",border:"none"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#c82333",onMouseOut:e=>e.currentTarget.style.backgroundColor="#dc3545",children:"Trinti"})]})})]},e.id)})})]})}),c>1&&(0,Fe.jsxs)("div",{style:{marginTop:"20px",display:"flex",gap:"10px",justifyContent:"center"},children:[(0,Fe.jsx)("button",{className:"button button-secondary",onClick:()=>d(Math.max(1,l-1)),disabled:1===l,children:"\u2190 Ankstesnis"}),(0,Fe.jsxs)("span",{style:{padding:"10px",alignSelf:"center"},children:["Puslapis ",l," i\u0161 ",c]}),(0,Fe.jsx)("button",{className:"button button-secondary",onClick:()=>d(Math.min(c,l+1)),disabled:l===c,children:"Sekantis \u2192"})]})]}),_&&v&&(0,Fe.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:(0,Fe.jsxs)("div",{className:"card",style:{width:"90%",maxWidth:"600px",maxHeight:"90vh",overflow:"auto"},children:[(0,Fe.jsxs)("h2",{children:["Redaguoti partner\u012f: ",v.name]}),(0,Fe.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),v)try{await ze.api.put("/partners/partners/".concat(v.id,"/"),v),b(!1),y(null),await ce(l)}catch(a){var t,n;$("error",(null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Klaida i\u0161saugant")}},children:[(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Firmos pavadinimas *"}),(0,Fe.jsxs)("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[(0,Fe.jsx)("input",{type:"text",value:v.name||"",onChange:e=>y((0,Ve.A)((0,Ve.A)({},v),{},{name:e.target.value})),required:!0,style:{flex:1}}),(0,Fe.jsx)("button",{type:"button",className:"button button-secondary",onClick:async()=>{const e=(v.vat_code||"").trim();if(e)try{const t=(await ze.api.get("/partners/partners/resolve_name/",{params:{vat_code:e}})).data;t.valid&&t.name?y((0,Ve.A)((0,Ve.A)({},v),{},{name:t.name,address:t.address||v.address||"",is_client:!0})):$("info","VIES nerado pavadinimo pagal \u0161\u012f PVM kod\u0105")}catch(rt){var t,n;$("error","Nepavyko patikrinti internete: "+((null===(t=rt.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||rt.message))}else $("info","\u012eveskite PVM kod\u0105")},title:"Tikrinti internete (VIES)",children:"Tikrinti internete"})]})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"\u012emon\u0117s kodas *"}),(0,Fe.jsx)("input",{type:"text",value:v.code||"",onChange:e=>y((0,Ve.A)((0,Ve.A)({},v),{},{code:e.target.value})),required:!0})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"PVM kodas"}),(0,Fe.jsx)("input",{type:"text",value:v.vat_code||"",onChange:e=>y((0,Ve.A)((0,Ve.A)({},v),{},{vat_code:e.target.value}))})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Adresas"}),(0,Fe.jsx)("textarea",{value:v.address||"",onChange:e=>y((0,Ve.A)((0,Ve.A)({},v),{},{address:e.target.value}))})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Mok\u0117jimo terminas (dienos)"}),(0,Fe.jsx)("input",{type:"number",value:v.payment_term_days||30,onChange:e=>y((0,Ve.A)((0,Ve.A)({},v),{},{payment_term_days:parseInt(e.target.value)||0})),min:"0"})]}),(0,Fe.jsx)("div",{className:"form-group",children:(0,Fe.jsxs)("label",{children:[(0,Fe.jsx)("input",{type:"checkbox",checked:v.is_client,onChange:e=>y((0,Ve.A)((0,Ve.A)({},v),{},{is_client:e.target.checked}))})," ","Klientas"]})}),(0,Fe.jsx)("div",{className:"form-group",children:(0,Fe.jsxs)("label",{children:[(0,Fe.jsx)("input",{type:"checkbox",checked:v.is_supplier,onChange:e=>y((0,Ve.A)((0,Ve.A)({},v),{},{is_supplier:e.target.checked}))})," ","Tiek\u0117jas"]})}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"B\u016bsena"}),(0,Fe.jsxs)("select",{value:v.status,onChange:e=>y((0,Ve.A)((0,Ve.A)({},v),{},{status:e.target.value})),children:[(0,Fe.jsx)("option",{value:"active",children:"Aktyvus"}),(0,Fe.jsx)("option",{value:"blocked",children:"U\u017eblokuotas"})]})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Pastabos"}),(0,Fe.jsx)("textarea",{value:v.notes||"",onChange:e=>y((0,Ve.A)((0,Ve.A)({},v),{},{notes:e.target.value}))})]}),(0,Fe.jsxs)("div",{style:{marginTop:"20px",padding:"15px",backgroundColor:"#f8f9fa",borderRadius:"4px"},children:[(0,Fe.jsx)("h3",{children:"Kontaktiniai asmenys"}),v.contacts&&v.contacts.length>0?(0,Fe.jsx)("ul",{style:{listStyle:"none",padding:0,margin:0},children:v.contacts.map(e=>{var t;return(0,Fe.jsxs)("li",{style:{border:"1px solid #e0e0e0",borderRadius:4,padding:10,marginBottom:8},children:[(0,Fe.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{children:(0,Fe.jsxs)("strong",{children:[e.first_name," ",e.last_name]})}),(0,Fe.jsx)("div",{style:{fontSize:12,color:"#555"},children:e.position||""}),(0,Fe.jsx)("div",{style:{fontSize:12},children:e.email||"-"}),(0,Fe.jsx)("div",{style:{fontSize:12},children:e.phone||"-"})]}),(0,Fe.jsx)("div",{style:{display:"flex",alignItems:"center",gap:8},children:(0,Fe.jsxs)("label",{style:{fontSize:12},children:[(0,Fe.jsx)("input",{type:"radio",name:"primaryEditingContact",checked:(null===(t=v.contact_person)||void 0===t?void 0:t.id)===e.id,onChange:()=>(async(e,t)=>{try{await ze.api.patch("/partners/partners/".concat(e,"/"),{contact_person_id:t});const n=await ze.api.get("/partners/partners/".concat(e,"/"));y(n.data),await ce(l)}catch(n){$("error","Nepavyko nustatyti pirminio kontakto")}})(v.id,e.id)})," ","Pirminis"]})})]}),e.notes&&(0,Fe.jsx)("div",{style:{marginTop:6,fontSize:12,color:"#666"},children:e.notes})]},e.id)})}):(0,Fe.jsx)("div",{style:{fontSize:13,color:"#666"},children:"Kontaktini\u0173 asmen\u0173 n\u0117ra"}),(0,Fe.jsxs)("div",{style:{marginTop:12,borderTop:"1px solid #e0e0e0",paddingTop:12},children:[(0,Fe.jsx)("h4",{style:{marginBottom:8},children:"Prid\u0117ti kontakt\u0105"}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Vardas"}),(0,Fe.jsx)("input",{type:"text",value:he.first_name||"",onChange:e=>ge((0,Ve.A)((0,Ve.A)({},he),{},{first_name:e.target.value}))})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Pavard\u0117"}),(0,Fe.jsx)("input",{type:"text",value:he.last_name||"",onChange:e=>ge((0,Ve.A)((0,Ve.A)({},he),{},{last_name:e.target.value}))})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"El. pa\u0161tas"}),(0,Fe.jsx)("input",{type:"email",value:he.email||"",onChange:e=>ge((0,Ve.A)((0,Ve.A)({},he),{},{email:e.target.value}))})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Telefonas"}),(0,Fe.jsx)("input",{type:"tel",value:he.phone||"",onChange:e=>ge((0,Ve.A)((0,Ve.A)({},he),{},{phone:e.target.value}))})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Pareigos"}),(0,Fe.jsx)("input",{type:"text",value:he.position||"",onChange:e=>ge((0,Ve.A)((0,Ve.A)({},he),{},{position:e.target.value}))})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Pastabos"}),(0,Fe.jsx)("textarea",{value:he.notes||"",onChange:e=>ge((0,Ve.A)((0,Ve.A)({},he),{},{notes:e.target.value}))})]}),(0,Fe.jsx)("button",{type:"button",className:"button",onClick:async()=>{if(!v)return;if(!!(he.first_name||he.last_name||he.email||he.phone||he.position||he.notes))try{await ze.api.post("/partners/contacts/",{partner_id:v.id,first_name:he.first_name||"",last_name:he.last_name||"",email:he.email||"",phone:he.phone||"",position:he.position||"",notes:he.notes||""});const e=await ze.api.get("/partners/partners/".concat(v.id,"/"));y(e.data),ge({first_name:"",last_name:"",email:"",phone:"",position:"",notes:""})}catch(e){$("error","Nepavyko prid\u0117ti kontakto")}else $("info","U\u017epildykite bent vien\u0105 kontakto lauk\u0105")},children:"+ Prid\u0117ti"})]})]}),(0,Fe.jsxs)("div",{style:{marginTop:"20px",display:"flex",gap:"10px"},children:[(0,Fe.jsx)("button",{type:"submit",className:"button",children:"I\u0161saugoti"}),(0,Fe.jsx)("button",{type:"button",className:"button button-secondary",onClick:()=>{b(!1),y(null)},children:"At\u0161aukti"})]})]})]})}),M&&V&&(0,Fe.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:(0,Fe.jsxs)("div",{className:"card",style:{width:"90%",maxWidth:"700px",maxHeight:"90vh",overflow:"auto"},children:[(0,Fe.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Fe.jsx)("h2",{style:{margin:0},children:"Partnerio informacija"}),(0,Fe.jsxs)("div",{style:{display:"flex",gap:8},children:[(0,Fe.jsx)("button",{className:"button button-secondary",onClick:()=>{U(!1)},children:"U\u017edaryti"}),(0,Fe.jsx)("button",{className:"button",onClick:()=>{U(!1),V&&fe(V)},children:"Redaguoti"})]})]}),(0,Fe.jsxs)("div",{style:{marginTop:16},children:[(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Pavadinimas"}),(0,Fe.jsx)("div",{children:V.name})]}),(0,Fe.jsxs)("div",{className:"form-group",style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12},children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{children:"\u012emon\u0117s kodas"}),(0,Fe.jsx)("div",{children:V.code})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{children:"PVM kodas"}),(0,Fe.jsx)("div",{children:V.vat_code||"-"})]})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Adresas"}),(0,Fe.jsx)("div",{style:{whiteSpace:"pre-wrap"},children:V.address||"-"})]}),(0,Fe.jsxs)("div",{className:"form-group",style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12},children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{children:"Mok\u0117jimo terminas"}),(0,Fe.jsx)("div",{children:V.payment_term_days?"".concat(V.payment_term_days," d."):"-"})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{children:"B\u016bsena"}),(0,Fe.jsx)("div",{children:(0,Fe.jsx)("span",{className:"badge ".concat("active"===V.status?"badge-success":"badge-danger"),children:V.status_display})})]})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Tipas"}),(0,Fe.jsxs)("div",{children:[V.is_client&&(0,Fe.jsx)("span",{className:"badge badge-info",style:{marginRight:6},children:"Klientas"}),V.is_supplier&&(0,Fe.jsx)("span",{className:"badge badge-info",children:"Tiek\u0117jas"}),!V.is_client&&!V.is_supplier&&"-"]})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Pastabos"}),(0,Fe.jsx)("div",{style:{whiteSpace:"pre-wrap"},children:V.notes||"-"})]}),(0,Fe.jsxs)("div",{style:{marginTop:16,paddingTop:12,borderTop:"1px solid #e0e0e0"},children:[(0,Fe.jsx)("h3",{children:"Kontaktiniai asmenys"}),V.contacts&&V.contacts.length>0?(0,Fe.jsx)("ul",{style:{listStyle:"none",padding:0,margin:0},children:V.contacts.map(e=>{var t;return(0,Fe.jsxs)("li",{style:{border:"1px solid #e0e0e0",borderRadius:4,padding:10,marginBottom:8},children:[(0,Fe.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{children:(0,Fe.jsxs)("strong",{children:[e.first_name," ",e.last_name]})}),(0,Fe.jsx)("div",{style:{fontSize:12,color:"#555"},children:e.position||""}),(0,Fe.jsx)("div",{style:{fontSize:12},children:e.email||"-"}),(0,Fe.jsx)("div",{style:{fontSize:12},children:e.phone||"-"})]}),(null===(t=V.contact_person)||void 0===t?void 0:t.id)===e.id&&(0,Fe.jsx)("span",{className:"badge badge-info",style:{fontSize:11},children:"Pirminis"})]}),e.notes&&(0,Fe.jsx)("div",{style:{marginTop:6,fontSize:12,color:"#666"},children:e.notes})]},e.id)})}):(0,Fe.jsx)("div",{style:{fontSize:13,color:"#666"},children:"Kontaktini\u0173 asmen\u0173 n\u0117ra"})]})]})]})}),J&&(0,Fe.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:(0,Fe.jsxs)("div",{className:"card",style:{width:"95%",maxWidth:"900px",maxHeight:"90vh",overflow:"auto"},children:[(0,Fe.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:10},children:[(0,Fe.jsx)("h2",{style:{margin:0},children:"Dublikatai pagal \u012fmon\u0117s kod\u0105"}),(0,Fe.jsxs)("div",{style:{display:"flex",gap:8},children:[(0,Fe.jsx)("button",{className:"button button-secondary",onClick:()=>G(!1),children:"U\u017edaryti"}),(0,Fe.jsx)("button",{className:"button button-secondary",onClick:me,disabled:X,children:X?"Atnaujinama...":"Atnaujinti"}),(0,Fe.jsx)("button",{className:"button",onClick:async()=>{if(window.confirm("Ar tikrai sujungti VISAS rastas grupes automati\u0161kai? Veiksmas neat\u0161aukiamas."))try{await ze.api.post("/partners/partners/duplicates_merge_auto/",{by:re}),await me(),await ce(1),d(1),$("success","Partneris sukurtas"),$("success","Visos grup\u0117s sujungtos automati\u0161kai")}catch(rt){var e,t;$("error","Nepavyko masi\u0161kai sujungti: "+((null===(e=rt.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||rt.message))}},disabled:0===ee.length,children:"Sujungti visas grupes automati\u0161kai"})]})]}),(0,Fe.jsxs)("div",{style:{marginBottom:10,display:"flex",alignItems:"center",gap:10},children:[(0,Fe.jsx)("label",{children:"Ie\u0161koti pagal:"}),(0,Fe.jsxs)("select",{value:re,onChange:e=>ie(e.target.value),children:[(0,Fe.jsx)("option",{value:"code",children:"\u012emon\u0117s kod\u0105"}),(0,Fe.jsx)("option",{value:"name",children:"Pavadinim\u0105"}),(0,Fe.jsx)("option",{value:"vat",children:"PVM kod\u0105"})]})]}),0===ee.length?(0,Fe.jsx)("div",{style:{padding:10,color:"#666"},children:X?"Kraunama...":"Dublikat\u0173 nerasta"}):(0,Fe.jsx)("div",{style:{display:"grid",gap:12},children:ee.map(e=>(0,Fe.jsxs)("div",{style:{border:"1px solid #e0e0e0",borderRadius:6,padding:12},children:[(0,Fe.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8},children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("strong",{children:["Rakta\u017eodis (",e.by,"):"]})," ",e.key]}),(0,Fe.jsx)("button",{className:"button",onClick:()=>(async e=>{const t=ne[e];if(null!==t&&void 0!==t&&t.primaryId&&t.duplicateIds&&0!==t.duplicateIds.length)try{await ze.api.post("/partners/partners/duplicates_merge/",{primary_id:t.primaryId,duplicate_ids:t.duplicateIds}),await me(),await ce(l),$("success","S\u0117kmingai sujungta")}catch(rt){var n,a;$("error","Nepavyko sujungti: "+((null===(n=rt.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.error)||rt.message))}else $("info","Pasirinkite pirmin\u012f partner\u012f ir bent vien\u0105 dublikat\u0105")})(e.key),children:"Sujungti pa\u017eym\u0117tus"})]}),(0,Fe.jsx)("div",{style:{overflowX:"auto"},children:(0,Fe.jsxs)("table",{className:"table",style:{fontSize:13,minWidth:700},children:[(0,Fe.jsx)("thead",{children:(0,Fe.jsxs)("tr",{children:[(0,Fe.jsx)("th",{children:"Pirminis"}),(0,Fe.jsx)("th",{children:"Pa\u017eym\u0117ti kaip dublikatus"}),(0,Fe.jsx)("th",{children:"ID"}),(0,Fe.jsx)("th",{children:"Pavadinimas"}),(0,Fe.jsx)("th",{children:"Kodas"}),(0,Fe.jsx)("th",{children:"PVM"})]})}),(0,Fe.jsx)("tbody",{children:e.partners.map(t=>{var n,a,r;return(0,Fe.jsxs)("tr",{children:[(0,Fe.jsx)("td",{children:(0,Fe.jsx)("input",{type:"radio",name:"primary_".concat(e.key),checked:(null===(n=ne[e.key])||void 0===n?void 0:n.primaryId)===t.id,onChange:()=>{return n=e.key,a=t.id,void ae(e=>{var t;return(0,Ve.A)((0,Ve.A)({},e),{},{[n]:{primaryId:a,duplicateIds:((null===(t=e[n])||void 0===t?void 0:t.duplicateIds)||[]).filter(e=>e!==a)}})});var n,a}})}),(0,Fe.jsx)("td",{children:(0,Fe.jsx)("input",{type:"checkbox",checked:(null===(a=ne[e.key])||void 0===a||null===(r=a.duplicateIds)||void 0===r?void 0:r.includes(t.id))||!1,onChange:()=>{return n=e.key,a=t.id,void ae(e=>{const t=e[n]||{primaryId:void 0,duplicateIds:[]},r=t.duplicateIds.includes(a)?t.duplicateIds.filter(e=>e!==a):[...t.duplicateIds,a];return(0,Ve.A)((0,Ve.A)({},e),{},{[n]:{primaryId:t.primaryId,duplicateIds:r}})});var n,a}})}),(0,Fe.jsx)("td",{children:t.id}),(0,Fe.jsx)("td",{children:t.name}),(0,Fe.jsx)("td",{children:t.code}),(0,Fe.jsx)("td",{children:t.vat_code||"-"})]},t.id)})})]})}),(0,Fe.jsx)("div",{style:{fontSize:12,color:"#666"},children:"Pastaba: pasirinkite vien\u0105 pirmin\u012f ir bent vien\u0105 dublikat\u0105."})]},e.key))})]})}),L&&(0,Fe.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:(0,Fe.jsxs)("div",{className:"card",style:{width:"90%",maxWidth:"600px",maxHeight:"90vh",overflow:"auto"},children:[(0,Fe.jsx)("h2",{children:"Naujas partneris"}),(0,Fe.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),se.name&&se.code)if(se.is_client||se.is_supplier)try{var t;const e={name:se.name,code:se.code,vat_code:se.vat_code||"",address:se.address||"",is_client:!!se.is_client,is_supplier:!!se.is_supplier,status:se.status||"active",payment_term_days:null!==(t=se.payment_term_days)&&void 0!==t?t:30,notes:se.notes||""},n=(await ze.api.post("/partners/partners/",e)).data.id,a=[];for(const t of le){if(!!!(t.first_name||t.last_name||t.email||t.phone||t.position||t.notes))continue;const e={partner_id:n,first_name:t.first_name||"",last_name:t.last_name||"",email:t.email||"",phone:t.phone||"",position:t.position||"",notes:t.notes||""},r=await ze.api.post("/partners/contacts/",e);a.push(r.data.id)}const r=Math.max(0,le.findIndex(e=>e.is_primary));if(a.length>0){const e=a[r]||a[0];await ze.api.patch("/partners/partners/".concat(n,"/"),{contact_person_id:e})}B(!1),oe({name:"",code:"",vat_code:"",address:"",is_client:!0,is_supplier:!1,status:"active",payment_term_days:30,notes:""}),de([{first_name:"",last_name:"",email:"",phone:"",position:"",notes:"",is_primary:!0}]),await ce(1),d(1)}catch(a){var n;const e=null===a||void 0===a||null===(n=a.response)||void 0===n?void 0:n.data;let t="Klaida kuriant partner\u012f";if("string"===typeof e)t=e;else if(e&&"object"===typeof e){const n=[];Object.keys(e).forEach(t=>{const a=e[t];Array.isArray(a)?n.push("".concat(t,": ").concat(a.join(", "))):"string"===typeof a&&n.push("".concat(t,": ").concat(a))}),n.length&&(t=n.join("\n"))}$("error",t)}else $("info","Pa\u017eym\u0117kite bent vien\u0105 tip\u0105: Klientas arba Tiek\u0117jas");else $("info","Pavadinimas ir \u012fmon\u0117s kodas yra privalomi")},children:[(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Firmos pavadinimas *"}),(0,Fe.jsxs)("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[(0,Fe.jsx)("input",{type:"text",value:se.name||"",onChange:e=>oe((0,Ve.A)((0,Ve.A)({},se),{},{name:e.target.value})),required:!0,style:{flex:1}}),(0,Fe.jsx)("button",{type:"button",className:"button button-secondary",onClick:async()=>{const e=(se.vat_code||"").trim();if(e)try{const t=(await ze.api.get("/partners/partners/resolve_name/",{params:{vat_code:e}})).data;t.valid&&t.name?oe(e=>(0,Ve.A)((0,Ve.A)({},e),{},{name:t.name,address:t.address||e.address||"",is_client:!0})):$("info","VIES nerado pavadinimo pagal \u0161\u012f PVM kod\u0105")}catch(rt){var t,n;$("error","Nepavyko patikrinti internete: "+((null===(t=rt.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||rt.message))}else $("info","\u012eveskite PVM kod\u0105")},title:"Tikrinti internete (VIES)",children:"Tikrinti internete"})]})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"\u012emon\u0117s kodas *"}),(0,Fe.jsx)("input",{type:"text",value:se.code||"",onChange:e=>oe((0,Ve.A)((0,Ve.A)({},se),{},{code:e.target.value})),required:!0})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"PVM kodas"}),(0,Fe.jsx)("input",{type:"text",value:se.vat_code||"",onChange:e=>oe((0,Ve.A)((0,Ve.A)({},se),{},{vat_code:e.target.value}))})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Adresas"}),(0,Fe.jsx)("textarea",{value:se.address||"",onChange:e=>oe((0,Ve.A)((0,Ve.A)({},se),{},{address:e.target.value}))})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Mok\u0117jimo terminas (dienos)"}),(0,Fe.jsx)("input",{type:"number",value:null!==(e=se.payment_term_days)&&void 0!==e?e:30,onChange:e=>oe((0,Ve.A)((0,Ve.A)({},se),{},{payment_term_days:parseInt(e.target.value)||0})),min:"0"})]}),(0,Fe.jsx)("div",{className:"form-group",children:(0,Fe.jsxs)("label",{children:[(0,Fe.jsx)("input",{type:"checkbox",checked:!!se.is_client,onChange:e=>oe((0,Ve.A)((0,Ve.A)({},se),{},{is_client:e.target.checked}))})," ","Klientas"]})}),(0,Fe.jsx)("div",{className:"form-group",children:(0,Fe.jsxs)("label",{children:[(0,Fe.jsx)("input",{type:"checkbox",checked:!!se.is_supplier,onChange:e=>oe((0,Ve.A)((0,Ve.A)({},se),{},{is_supplier:e.target.checked}))})," ","Tiek\u0117jas"]})}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"B\u016bsena"}),(0,Fe.jsxs)("select",{value:se.status||"active",onChange:e=>oe((0,Ve.A)((0,Ve.A)({},se),{},{status:e.target.value})),children:[(0,Fe.jsx)("option",{value:"active",children:"Aktyvus"}),(0,Fe.jsx)("option",{value:"blocked",children:"U\u017eblokuotas"})]})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Pastabos"}),(0,Fe.jsx)("textarea",{value:se.notes||"",onChange:e=>oe((0,Ve.A)((0,Ve.A)({},se),{},{notes:e.target.value}))})]}),(0,Fe.jsxs)("div",{style:{marginTop:"20px",padding:"15px",backgroundColor:"#f8f9fa",borderRadius:"4px"},children:[(0,Fe.jsx)("h3",{children:"Kontaktiniai asmenys (neprivaloma)"}),le.map((e,t)=>(0,Fe.jsxs)("div",{style:{border:"1px solid #e0e0e0",borderRadius:4,padding:10,marginBottom:10},children:[(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Vardas"}),(0,Fe.jsx)("input",{type:"text",value:e.first_name||"",onChange:e=>{const n=[...le];n[t].first_name=e.target.value,de(n)}})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Pavard\u0117"}),(0,Fe.jsx)("input",{type:"text",value:e.last_name||"",onChange:e=>{const n=[...le];n[t].last_name=e.target.value,de(n)}})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"El. pa\u0161tas"}),(0,Fe.jsx)("input",{type:"email",value:e.email||"",onChange:e=>{const n=[...le];n[t].email=e.target.value,de(n)}})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Telefonas"}),(0,Fe.jsx)("input",{type:"tel",value:e.phone||"",onChange:e=>{const n=[...le];n[t].phone=e.target.value,de(n)}})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Pareigos"}),(0,Fe.jsx)("input",{type:"text",value:e.position||"",onChange:e=>{const n=[...le];n[t].position=e.target.value,de(n)}})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Pastabos"}),(0,Fe.jsx)("textarea",{value:e.notes||"",onChange:e=>{const n=[...le];n[t].notes=e.target.value,de(n)}})]}),(0,Fe.jsxs)("div",{style:{display:"flex",gap:10,alignItems:"center"},children:[(0,Fe.jsxs)("label",{children:[(0,Fe.jsx)("input",{type:"radio",name:"primaryContact",checked:!!e.is_primary,onChange:()=>(e=>{de(le.map((t,n)=>(0,Ve.A)((0,Ve.A)({},t),{},{is_primary:n===e})))})(t)})," ","Pirminis"]}),(0,Fe.jsx)("button",{type:"button",className:"button button-secondary",onClick:()=>(e=>{const t=[...le];t.splice(e,1),0===t.length&&t.push({first_name:"",last_name:"",email:"",phone:"",position:"",notes:"",is_primary:!0}),de(t)})(t),children:"Pa\u0161alinti"})]})]},t)),(0,Fe.jsx)("button",{type:"button",className:"button",onClick:()=>{de([...le,{first_name:"",last_name:"",email:"",phone:"",position:"",notes:""}])},children:"+ Prid\u0117ti kontakt\u0105"})]}),(0,Fe.jsxs)("div",{style:{marginTop:"20px",display:"flex",gap:"10px"},children:[(0,Fe.jsx)("button",{type:"submit",className:"button",children:"I\u0161saugoti"}),(0,Fe.jsx)("button",{type:"button",className:"button button-secondary",onClick:()=>B(!1),children:"At\u0161aukti"})]})]})]})}),Y.open&&(0,Fe.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3},children:(0,Fe.jsxs)("div",{className:"card",style:{width:420},children:[(0,Fe.jsx)("h3",{style:{marginTop:0},children:Y.title||"Patvirtinkite veiksm\u0105"}),(0,Fe.jsx)("p",{style:{margin:"10px 0 20px"},children:Y.message||"Ar tikrai?"}),(0,Fe.jsxs)("div",{style:{display:"flex",gap:10,justifyContent:"flex-end"},children:[(0,Fe.jsx)("button",{className:"button button-secondary",onClick:()=>Q({open:!1}),children:"At\u0161aukti"}),(0,Fe.jsx)("button",{className:"button",onClick:()=>Y.onConfirm&&Y.onConfirm(),children:"Patvirtinti"})]})]})})]})})},qe=()=>{var e,t,n,a,i,s,o,l,d,c;const{user:u}=Be(),p=X(),f=ee(),[m,h]=(0,r.useState)([]),[g,x]=(0,r.useState)(!0),[v,y]=(0,r.useState)(!1),[_,b]=(0,r.useState)(!1),[j,k]=(0,r.useState)(!1),[w,S]=(0,r.useState)(null),[C,N]=(0,r.useState)(!1),[A,P]=(0,r.useState)(null),[T,E]=(0,r.useState)(null),[z,R]=(0,r.useState)([]),[I,O]=(0,r.useState)([]),[F,D]=(0,r.useState)({}),[L,B]=(0,r.useState)(!1),[M,U]=(0,r.useState)(null),[V,W]=(0,r.useState)(""),[q,K]=(0,r.useState)([]),[H,$]=(0,r.useState)(""),[Y,Q]=(0,r.useState)(null),[J,G]=(0,r.useState)("all"),[Z,te]=(0,r.useState)(!1),[ne,ae]=(0,r.useState)({status:[],client_id:"",carrier_id:"",order_type:"",route_from:"",route_to:"",order_date_from:"",order_date_to:"",loading_date_from:"",loading_date_to:"",unloading_date_from:"",unloading_date_to:"",manager_id:""}),[re,ie]=(0,r.useState)([]),[se,oe]=(0,r.useState)([]),[le,de]=(0,r.useState)([]),[ce,ue]=(0,r.useState)({type:"info",message:"",visible:!1}),pe=(0,r.useRef)(null),fe=(0,r.useCallback)(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3500;ue({type:e,message:t,visible:!0}),null!==pe.current&&window.clearTimeout(pe.current),pe.current=window.setTimeout(()=>ue(e=>(0,Ve.A)((0,Ve.A)({},e),{},{visible:!1})),n)},[]);(0,r.useEffect)(()=>()=>{pe.current&&window.clearTimeout(pe.current)},[]);const[me,he]=(0,r.useState)({open:!1}),[ge,xe]=(0,r.useState)(""),[ve,ye]=(0,r.useState)(""),[_e,be]=(0,r.useState)([]),[je,ke]=(0,r.useState)([]),[we,Se]=(0,r.useState)(!1),[Ce,Ne]=(0,r.useState)(!1),[Ae,Pe]=(0,r.useState)([]),[Te,Ee]=(0,r.useState)(null),[Re,Ie]=(0,r.useState)(null),[Oe,De]=(0,r.useState)(!1),[Le,Me]=(0,r.useState)("carrier"),[Ue,We]=(0,r.useState)(""),[qe,Ke]=(0,r.useState)([]),[He,$e]=(0,r.useState)(""),[Ye,Qe]=(0,r.useState)([]),[Je,Ge]=(0,r.useState)([]),[Xe,Ze]=(0,r.useState)(!1),[et,tt]=(0,r.useState)(!1),[nt,at]=(0,r.useState)([]),[it,st]=(0,r.useState)(!1),[ot,lt]=(0,r.useState)([]),[dt,ct]=(0,r.useState)(null),[ut,pt]=(0,r.useState)(null),[ft,mt]=(0,r.useState)(!1),[ht,gt]=(0,r.useState)([]),[xt,vt]=(0,r.useState)({client_id:"",carrier_id:"",order_type:"transport",manager_id:"",status:"new",price_net:"",client_price_net:"",my_price_net:"",other_costs:[],vat_rate:"21",vat_rate_article:"",client_invoice_issued:!1,client_invoice_received:!1,client_payment_status:"not_paid",route_from:"",route_to:"",route_from_country:"",route_from_postal_code:"",route_from_city:"",route_from_address:"",route_to_country:"",route_to_postal_code:"",route_to_city:"",route_to_address:"",order_date:"",loading_date:"",unloading_date:"",is_partial:!1,weight_kg:"",ldm:"",length_m:"",width_m:"",height_m:"",is_palletized:!1,is_stackable:!1,vehicle_type:"",requires_forklift:!1,requires_crane:!1,requires_special_equipment:!1,fragile:!1,hazardous:!1,temperature_controlled:!1,requires_permit:!1,notes:""}),[yt,_t]=(0,r.useState)(null),[bt,jt]=(0,r.useState)(null),kt=(0,r.useCallback)(async()=>{try{const e=await ze.api.get("/settings/pvm-rates/?is_active=true");gt(e.data.results||e.data||[])}catch(e){console.error("Klaida u\u017ekraunant PVM tarifus:",e)}},[]),wt=async e=>{if(e&&e.trim())try{const t=await ze.api.get("/orders/vehicle-types/",{params:{search:e.trim()}}),n=t.data.results||t.data||[];n.some(t=>t.name.toLowerCase()===e.trim().toLowerCase())||await ze.api.post("/orders/vehicle-types/",{name:e.trim()})}catch(t){}},St=(0,r.useCallback)(async()=>{try{const e=await ze.api.get("/partners/partners/",{params:{is_client:!0,page_size:200}}),t=e.data.results||e.data||[];ie(Array.isArray(t)?t:[])}catch(e){console.error("Klaida u\u017ekraunant klientus:",e),ie([])}},[]),Ct=(0,r.useCallback)(async()=>{try{const e=await ze.api.get("/partners/partners/",{params:{page_size:200}}),t=e.data.results||e.data||[];oe(Array.isArray(t)?t:[])}catch(e){console.error("Klaida u\u017ekraunant ve\u017e\u0117jus:",e),oe([])}},[]),Nt=(0,r.useCallback)(async e=>{if(e.length<1)be([]);else try{const t=await ze.api.get("/partners/partners/",{params:{search:e,is_client:!0,page_size:10}}),n=t.data.results||t.data||[];be(Array.isArray(n)?n:[])}catch(t){console.error("Klaida ie\u0161kant klient\u0173:",t),be([])}},[]),At=(0,r.useCallback)(async e=>{if(e.length<1)ke([]);else try{const t=await ze.api.get("/partners/partners/",{params:{search:e,page_size:10}}),n=t.data.results||t.data||[];ke(Array.isArray(n)?n:[])}catch(t){console.error("Klaida ie\u0161kant ve\u017e\u0117j\u0173:",t),ke([])}},[]);(0,r.useEffect)(()=>{if(ge){const e=setTimeout(()=>Nt(ge),300);return()=>clearTimeout(e)}be([])},[ge,Nt]),(0,r.useEffect)(()=>{if(ve){const e=setTimeout(()=>At(ve),300);return()=>clearTimeout(e)}ke([])},[ve,At]),(0,r.useEffect)(()=>{if(ne.client_id){const e=re.find(e=>e.id.toString()===ne.client_id);e&&xe(e.name)}},[ne.client_id,re]),(0,r.useEffect)(()=>{if(ne.carrier_id){const e=se.find(e=>e.id.toString()===ne.carrier_id);e&&ye(e.name)}},[ne.carrier_id,se]);const Pt=(0,r.useCallback)(async()=>{try{const e=await ze.api.get("/auth/users/",{params:{page_size:200}}),t=e.data.results||e.data||[];de(Array.isArray(t)?t:[])}catch(e){console.error("Klaida u\u017ekraunant vadybininkus:",e),de([])}},[]),Tt=async()=>{try{const e=await ze.api.get("/orders/cities/",{params:{page_size:500}}),t=(e.data.results||e.data||[]).map(e=>e.name).sort();Qe(t),Ge(t);const n=await ze.api.get("/orders/vehicle-types/",{params:{page_size:500}}),a=(n.data.results||n.data||[]).map(e=>e.name).sort();at(a)}catch(e){console.error("Klaida u\u017ekraunant pasi\u016blymus:",e)}},Et=(0,r.useCallback)(async()=>{x(!0);try{const e={page_size:100};ne.status.length>0?e.status__in=ne.status.join(","):"all"!==J&&(e.status=J),ne.client_id&&(e.client=ne.client_id),ne.carrier_id&&(e.carrier=ne.carrier_id),ne.order_type&&(e.order_type=ne.order_type),ne.route_from&&(e.route_from=ne.route_from),ne.route_to&&(e.route_to=ne.route_to),ne.order_date_from&&(e.order_date__gte=ne.order_date_from),ne.order_date_to&&(e.order_date__lte=ne.order_date_to),ne.loading_date_from&&(e.loading_date__gte=ne.loading_date_from),ne.loading_date_to&&(e.loading_date__lte=ne.loading_date_to),ne.unloading_date_from&&(e.unloading_date__gte=ne.unloading_date_from),ne.unloading_date_to&&(e.unloading_date__lte=ne.unloading_date_to),ne.manager_id&&(e.manager=ne.manager_id);const t=await ze.api.get("/orders/orders/",{params:e});let n=[];Array.isArray(t.data)?n=t.data:t.data.results&&Array.isArray(t.data.results)?n=t.data.results:t.data.data&&Array.isArray(t.data.data)&&(n=t.data.data),h(n)}catch(a){var e,t,n;if(401===(null===(e=a.response)||void 0===e?void 0:e.status))fe("info","Reikia prisijungti");else fe("error","Klaida u\u017ekraunant u\u017esakymus: "+((null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||a.message||"Ne\u017einoma klaida"));h([])}finally{x(!1)}},[ne,J,fe]),zt=(0,r.useRef)(null);(0,r.useEffect)(()=>{const e=()=>{null!==zt.current&&window.clearTimeout(zt.current),zt.current=window.setTimeout(()=>{Et()},500)};return window.addEventListener("focus",e),()=>{window.removeEventListener("focus",e),null!==zt.current&&window.clearTimeout(zt.current)}},[Et]);const Rt=(0,r.useRef)(!0);(0,r.useEffect)(()=>{Rt.current?(Rt.current=!1,Et(),kt(),Tt(),St(),Ct(),Pt()):Et()},[J,ne]),(0,r.useEffect)(()=>{const e=new URLSearchParams(p.search).get("order_id");if(e&&m.length>0){const t=m.find(t=>t.id===parseInt(e));t&&(qt(t),f("/orders",{replace:!0}))}},[p.search,m,f]);const It=(0,r.useCallback)(async e=>{if(e.length<2)K([]);else try{const t=await ze.api.get("/partners/partners/",{params:{search:e,is_client:!0,page_size:10}}),n=t.data.results||t.data||[];K(Array.isArray(n)?n:[])}catch(t){console.error("Klaida ie\u0161kant klient\u0173:",t),K([])}},[]);(0,r.useEffect)(()=>{if(V&&V!==H){const e=setTimeout(()=>It(V),300);return()=>clearTimeout(e)}V||K([])},[V,H,It]);const Ot=async e=>{var t,n,a,r,i;if(P(e),b(!0),y(!1),0===nt.length&&await Tt(),vt({client_id:(e.client_id||e.client.id).toString(),carrier_id:e.carrier_id?e.carrier_id.toString():null!==(t=e.carrier)&&void 0!==t&&t.id?e.carrier.id.toString():"",order_type:e.order_type,manager_id:(null===(n=e.manager_id||(null===(a=e.manager)||void 0===a?void 0:a.id))||void 0===n?void 0:n.toString())||"",status:e.status,price_net:e.price_net,client_price_net:e.client_price_net||"",my_price_net:e.my_price_net?String(e.my_price_net):"",other_costs:e.other_costs||[],vat_rate:e.vat_rate,vat_rate_article:e.vat_rate_article||"",client_invoice_issued:e.client_invoice_issued,client_invoice_received:e.client_invoice_received,client_payment_status:e.client_payment_status||"not_paid",route_from:e.route_from||"",route_to:e.route_to||"",route_from_country:e.route_from_country||"",route_from_postal_code:e.route_from_postal_code||"",route_from_city:e.route_from_city||"",route_from_address:e.route_from_address||"",route_to_country:e.route_to_country||"",route_to_postal_code:e.route_to_postal_code||"",route_to_city:e.route_to_city||"",route_to_address:e.route_to_address||"",order_date:e.order_date?e.order_date.includes("T")?e.order_date.split("T")[0]+"T00:00":e.order_date:"",loading_date:e.loading_date?e.loading_date.includes("T")?e.loading_date.split("T")[0]+"T00:00":e.loading_date:"",unloading_date:e.unloading_date?e.unloading_date.includes("T")?e.unloading_date.split("T")[0]+"T00:00":e.unloading_date:"",is_partial:e.is_partial||!1,weight_kg:e.weight_kg?String(e.weight_kg):"",ldm:e.ldm?String(e.ldm):"",length_m:e.length_m?String(e.length_m):"",width_m:e.width_m?String(e.width_m):"",height_m:e.height_m?String(e.height_m):"",is_palletized:e.is_palletized||!1,is_stackable:e.is_stackable||!1,vehicle_type:e.vehicle_type||"",requires_forklift:e.requires_forklift||!1,requires_crane:e.requires_crane||!1,requires_special_equipment:e.requires_special_equipment||!1,fragile:e.fragile||!1,hazardous:e.hazardous||!1,temperature_controlled:e.temperature_controlled||!1,requires_permit:e.requires_permit||!1,notes:e.notes||""}),W((null===(r=e.client)||void 0===r?void 0:r.name)||""),$((null===(i=e.client)||void 0===i?void 0:i.name)||""),K([]),e.client_id?ze.api.get("/partners/partners/".concat(e.client_id,"/")).then(e=>{Q(e.data)}).catch(t=>{console.error("Klaida gaunant kliento informacij\u0105:",t),e.client&&Q(e.client)}):e.client&&Q(e.client),e.carriers&&e.carriers.length>0?Pe(e.carriers.map(e=>(0,Ve.A)((0,Ve.A)({},e),{},{id:e.id,price_net:e.price_net?"string"===typeof e.price_net?e.price_net:String(e.price_net):null,route_from:e.route_from||"",route_to:e.route_to||"",loading_date:e.loading_date?e.loading_date.includes("T")?e.loading_date.split("T")[0]+"T00:00":e.loading_date:null,unloading_date:e.unloading_date?e.unloading_date.includes("T")?e.unloading_date.split("T")[0]+"T00:00":e.unloading_date:null,status:e.status||"new",status_display:e.status_display||"Naujas",payment_status:e.payment_status||"not_paid",payment_status_display:e.payment_status_display||"Neapmok\u0117ta",payment_date:e.payment_date||null,documents_status:e.documents_status||"not_received",documents_status_display:e.documents_status_display||"Negauta",payment_status_info:e.payment_status_info,invoice_issued:e.invoice_issued||!1,invoice_received:e.invoice_received||!1,notes:e.notes||""}))):Ft(e.id).then(e=>{e.length>0&&Pe(e.map(e=>(0,Ve.A)((0,Ve.A)({},e),{},{id:e.id,price_net:e.price_net?"string"===typeof e.price_net?e.price_net:String(e.price_net):null,route_from:e.route_from||"",route_to:e.route_to||"",loading_date:e.loading_date||null,unloading_date:e.unloading_date||null,status:e.status||"new",status_display:e.status_display||"Naujas",payment_status:e.payment_status||"not_paid",payment_status_display:e.payment_status_display||"Neapmok\u0117ta",invoice_issued:e.invoice_issued||!1,invoice_received:e.invoice_received||!1,notes:e.notes||""})))}),e.cargo_items&&e.cargo_items.length>0)lt(e.cargo_items.map(e=>(0,Ve.A)((0,Ve.A)({},e),{},{sequence_order:e.sequence_order||0})));else try{const t=await ze.api.get("/orders/cargo-items/?order=".concat(e.id)),n=t.data.results||t.data||[];n.length>0?lt(n.map(e=>(0,Ve.A)((0,Ve.A)({},e),{},{sequence_order:e.sequence_order||0}))):lt([])}catch(s){console.error("Klaida u\u017ekraunant krovini\u0173 apra\u0161ymus:",s),lt([])}b(!0),0===nt.length&&Tt()},Ft=async e=>{try{const t=await ze.api.get("/orders/carriers/?order=".concat(e));return t.data.results||t.data||[]}catch(t){return console.error("Klaida u\u017ekraunant ve\u017e\u0117jus/sand\u0117lius:",t),[]}},Dt=(0,r.useCallback)(async e=>{if(e.length<2)Ke([]);else try{const t=await ze.api.get("/partners/partners/",{params:{search:e,page_size:10}}),n=t.data.results||t.data||[];Ke(Array.isArray(n)?n:[])}catch(t){console.error("Klaida ie\u0161kant partneri\u0173:",t),Ke([])}},[]);(0,r.useEffect)(()=>{if(Ue&&Ue!==He){const e=setTimeout(()=>Dt(Ue),300);return()=>clearTimeout(e)}Ue||Ke([])},[Ue,He,Dt]);const Lt=e=>{Me(e),Ee(null),Ie(null),We(""),$e(""),Ke([]),De(!0)},Bt=r.useRef(!1),Mt=r.useCallback(function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!v&&!_)return;if(Bt.current&&!e)return;const t=xt.client_price_net?parseFloat(xt.client_price_net):0;let n=Ae.reduce((e,t)=>e+(t.price_net?parseFloat(String(t.price_net)):0),0);if(Te&&null!==Re&&Te.price_net){const e=parseFloat(String(Te.price_net));if(Re>=0&&Re<Ae.length){n=n-(Ae[Re].price_net?parseFloat(String(Ae[Re].price_net)):0)+e}else n+=e}const a=t-n-xt.other_costs.reduce((e,t)=>e+("number"===typeof t.amount?t.amount:parseFloat(String(t.amount))||0),0);vt(e=>{const t=e.my_price_net?parseFloat(e.my_price_net):0;return Math.abs(t-a)>.01?(0,Ve.A)((0,Ve.A)({},e),{},{my_price_net:a.toFixed(2)}):e})},[Ae,xt.client_price_net,xt.other_costs,v,_,Te,Re]);(0,r.useEffect)(()=>{Mt()},[Mt]);const Ut=()=>{if(dt){if(null!==ut&&ut>=0&&ut<ot.length){const e=[...ot];e[ut]=(0,Ve.A)((0,Ve.A)({},dt),{},{sequence_order:ut}),lt(e)}else lt([...ot,(0,Ve.A)((0,Ve.A)({},dt),{},{sequence_order:ot.length})]);mt(!1),ct(null),pt(null)}},Vt=async e=>{try{const t=await ze.api.get("/orders/orders/".concat(e,"/status_history/"));R(t.data),E(e)}catch(t){console.error("Klaida u\u017ekraunant statuso istorij\u0105:",t)}},Wt=()=>{Bt.current=!1,Q(null),W(""),$(""),K([]),vt({client_id:"",carrier_id:"",order_type:"transport",manager_id:null!==u&&void 0!==u&&u.id?u.id.toString():"",status:"new",price_net:"",client_price_net:"",my_price_net:"",other_costs:[],vat_rate:"21",vat_rate_article:"",client_invoice_issued:!1,client_invoice_received:!1,client_payment_status:"not_paid",route_from:"",route_to:"",route_from_country:"",route_from_postal_code:"",route_from_city:"",route_from_address:"",route_to_country:"",route_to_postal_code:"",route_to_city:"",route_to_address:"",order_date:"",loading_date:"",unloading_date:"",is_partial:!1,weight_kg:"",ldm:"",length_m:"",width_m:"",height_m:"",is_palletized:!1,is_stackable:!1,vehicle_type:"",requires_forklift:!1,requires_crane:!1,requires_special_equipment:!1,fragile:!1,hazardous:!1,temperature_controlled:!1,requires_permit:!1,notes:""}),_t(null),jt(null),W(""),$(""),K([]),Pe([]),Ee(null),Ie(null),De(!1),We(""),Ke([]),lt([]),ct(null),pt(null),mt(!1)},qt=async e=>{const t=await Ft(e.id);S((0,Ve.A)((0,Ve.A)({},e),{},{carriers:t.length>0?t:e.carriers||[]})),k(!0);try{const n=await ze.api.get("/invoices/sales/",{params:{related_order:e.id,page_size:100}}),a=(n.data.results||n.data||[]).filter(t=>t.related_order&&(t.related_order.id===e.id||t.related_order===e.id));O(a.map(e=>({id:e.id,invoice_number:e.invoice_number,issue_date:e.issue_date,amount_total:String(e.amount_total)})));const r=t.length>0?t:e.carriers||[],i={};for(const t of r)if(t.id&&t.partner)try{const n=await ze.api.get("/invoices/purchase/",{params:{related_order:e.id,partner:t.partner.id,page_size:100}}),a=(n.data.results||n.data||[]||[]).filter(n=>n.related_order&&(n.related_order.id===e.id||n.related_order===e.id)&&n.partner&&(n.partner.id===t.partner.id||n.partner===t.partner.id));i[t.id]=a.map(e=>({id:e.id,invoice_number:e.invoice_number,received_invoice_number:e.received_invoice_number,issue_date:e.issue_date,amount_total:String(e.amount_total)}))}catch(rt){i[t.id]=[]}D(i)}catch(rt){O([]),D({})}},Kt={new:"badge-info",assigned:"badge-warning",executing:"badge-primary",waiting_for_docs:"badge-warning",finished:"badge-success",canceled:"badge-danger"},Ht=e=>Kt[e]||"badge-secondary",$t=(0,r.useMemo)(()=>{if(!C||!w)return null;const e=(t=w)?t.route_from_country?[t.route_from_country,t.route_from_postal_code,t.route_from_city,t.route_from_address].filter(Boolean).join(", "):t.route_from||"":"";var t;const n=(e=>e?e.route_to_country?[e.route_to_country,e.route_to_postal_code,e.route_to_city,e.route_to_address].filter(Boolean).join(", "):e.route_to||"":"")(w);return e||n?{from:e,to:n,fromDisplay:e||"Nenurodytas",toDisplay:n||"Nenurodytas"}:null},[C,w]),Yt=(0,r.useMemo)(()=>Array.from(new Set(m.map(e=>e.route_from_country).filter(Boolean))),[m]),Qt=(0,r.useMemo)(()=>Array.from(new Set(m.map(e=>e.route_from_postal_code).filter(Boolean))),[m]),Jt=(0,r.useMemo)(()=>Array.from(new Set(m.map(e=>e.route_from_city).filter(Boolean))),[m]),Gt=(0,r.useMemo)(()=>Array.from(new Set(m.map(e=>e.route_from_address).filter(Boolean))),[m]),Xt=(0,r.useMemo)(()=>Array.from(new Set(m.map(e=>e.route_to_country).filter(Boolean))),[m]),Zt=(0,r.useMemo)(()=>Array.from(new Set(m.map(e=>e.route_to_postal_code).filter(Boolean))),[m]),en=(0,r.useMemo)(()=>Array.from(new Set(m.map(e=>e.route_to_city).filter(Boolean))),[m]),tn=(0,r.useMemo)(()=>Array.from(new Set(m.map(e=>e.route_to_address).filter(Boolean))),[m]);(0,r.useMemo)(()=>{if(!xt.vehicle_type||!it)return nt.slice(0,10);const e=xt.vehicle_type.toLowerCase();return nt.filter(t=>t.toLowerCase().includes(e)).slice(0,10)},[nt,xt.vehicle_type,it]);return(0,Fe.jsx)("div",{className:"page",children:(0,Fe.jsxs)("div",{className:"container",children:[ce.visible&&(0,Fe.jsx)("div",{style:{position:"fixed",top:"20%",left:"50%",transform:"translateX(-50%)",zIndex:2e3,backgroundColor:"success"===ce.type?"#28a745":"error"===ce.type?"#dc3545":"#17a2b8",color:"white",padding:"12px 18px",borderRadius:8,boxShadow:"0 6px 20px rgba(0,0,0,0.25)",maxWidth:"90%",textAlign:"center"},children:ce.message}),me.open&&(0,Fe.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3},children:(0,Fe.jsxs)("div",{className:"card",style:{width:500},children:[(0,Fe.jsx)("h3",{style:{marginTop:0},children:me.title||"Patvirtinkite veiksm\u0105"}),(0,Fe.jsx)("p",{style:{margin:"10px 0 20px",whiteSpace:"pre-line"},children:me.message||"Ar tikrai?"}),me.showDeleteOptions?(0,Fe.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:10},children:[(0,Fe.jsxs)("button",{className:"button",style:{backgroundColor:"#dc3545",color:"white",width:"100%"},onClick:()=>me.onDeleteWithInvoices&&me.onDeleteWithInvoices(),children:["I\u0161trinti u\u017esakym\u0105 ir visas s\u0105skaitas (",me.salesCount||0," pardavimo + ",me.purchaseCount||0," pirkimo)"]}),(0,Fe.jsx)("button",{className:"button",style:{backgroundColor:"#6c757d",color:"white",width:"100%"},onClick:()=>me.onDeleteWithoutInvoices&&me.onDeleteWithoutInvoices(),children:"I\u0161trinti tik u\u017esakym\u0105 (s\u0105skaitos paliekamos)"}),(0,Fe.jsx)("button",{className:"button button-secondary",style:{width:"100%"},onClick:()=>he({open:!1}),children:"At\u0161aukti"})]}):(0,Fe.jsxs)("div",{style:{display:"flex",gap:10,justifyContent:"flex-end"},children:[(0,Fe.jsx)("button",{className:"button button-secondary",onClick:()=>he({open:!1}),children:"At\u0161aukti"}),(0,Fe.jsx)("button",{className:"button",onClick:()=>me.onConfirm&&me.onConfirm(),children:"Patvirtinti"})]})]})}),(0,Fe.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[(0,Fe.jsx)("h1",{children:"U\u017esakymai"}),(0,Fe.jsx)("button",{className:"button",onClick:()=>{y(!0),Wt()},children:"+ Naujas u\u017esakymas"})]}),(0,Fe.jsxs)("div",{className:"filters-container",style:{marginBottom:"25px"},children:[(0,Fe.jsxs)("div",{className:"filters-header",children:[(0,Fe.jsxs)("button",{className:"filters-toggle-btn",onClick:()=>te(!Z),children:[(0,Fe.jsx)("span",{className:"filters-toggle-icon",children:Z?"\u25b2":"\u25bc"}),(0,Fe.jsx)("span",{className:"filters-toggle-text",children:"Detalus filtravimas"}),(ne.status.length>0||ne.client_id||ne.carrier_id||ne.order_type||ne.route_from||ne.route_to||ne.order_date_from||ne.order_date_to||ne.loading_date_from||ne.loading_date_to||ne.unloading_date_from||ne.unloading_date_to||ne.manager_id)&&(0,Fe.jsx)("span",{className:"filters-active-badge",children:"Aktyv\u016bs filtrai"})]}),(ne.status.length>0||ne.client_id||ne.carrier_id||ne.order_type||ne.route_from||ne.route_to||ne.order_date_from||ne.order_date_to||ne.loading_date_from||ne.loading_date_to||ne.unloading_date_from||ne.unloading_date_to||ne.manager_id)&&(0,Fe.jsx)("button",{className:"filters-clear-btn",onClick:()=>{ae({status:[],client_id:"",carrier_id:"",order_type:"",route_from:"",route_to:"",order_date_from:"",order_date_to:"",loading_date_from:"",loading_date_to:"",unloading_date_from:"",unloading_date_to:"",manager_id:""}),G("all"),xe(""),ye("")},children:"\ud83d\uddd1\ufe0f I\u0161valyti visus"})]}),Z&&(0,Fe.jsxs)("div",{className:"filters-panel",children:[(0,Fe.jsxs)("div",{className:"filters-section",children:[(0,Fe.jsx)("h3",{className:"filters-section-title",children:"\ud83d\udccb Pagrindin\u0117 informacija"}),(0,Fe.jsxs)("div",{className:"filters-grid",children:[(0,Fe.jsxs)("div",{className:"filter-field",children:[(0,Fe.jsx)("label",{className:"filter-label",children:"\ud83d\udd35 B\u016bsena"}),(0,Fe.jsxs)("select",{multiple:!0,className:"filter-select filter-select-multiple",value:ne.status,onChange:e=>{const t=Array.from(e.target.selectedOptions,e=>e.value);ae((0,Ve.A)((0,Ve.A)({},ne),{},{status:t}))},children:[(0,Fe.jsx)("option",{value:"new",children:"\ud83c\udd95 Naujas"}),(0,Fe.jsx)("option",{value:"assigned",children:"\ud83d\udc64 Priskirtas"}),(0,Fe.jsx)("option",{value:"executing",children:"\u2699\ufe0f Vykdomas"}),(0,Fe.jsx)("option",{value:"waiting_for_docs",children:"\ud83d\udcc4 Laukiama Dokument\u0173"}),(0,Fe.jsx)("option",{value:"finished",children:"\u2705 Baigtas"}),(0,Fe.jsx)("option",{value:"canceled",children:"\u274c At\u0161auktas"})]}),ne.status.length>0&&(0,Fe.jsxs)("div",{className:"filter-selected-count",children:["Pasirinkta: ",ne.status.length]})]}),(0,Fe.jsxs)("div",{className:"filter-field",children:[(0,Fe.jsx)("label",{className:"filter-label",children:"\ud83d\udc65 Klientas"}),(0,Fe.jsxs)("div",{style:{position:"relative"},children:[(0,Fe.jsx)("input",{type:"text",className:"filter-input",value:ge,onChange:e=>{xe(e.target.value),Se(e.target.value.length>0),e.target.value||ae((0,Ve.A)((0,Ve.A)({},ne),{},{client_id:""}))},onFocus:()=>{ge&&(Nt(ge),Se(!0))},onBlur:()=>setTimeout(()=>Se(!1),200),placeholder:"Ie\u0161koti kliento..."}),we&&_e.length>0&&(0,Fe.jsx)("div",{className:"client-dropdown",style:{zIndex:3e3},children:_e.map(e=>(0,Fe.jsxs)("div",{className:"client-dropdown-item",onClick:()=>{ae((0,Ve.A)((0,Ve.A)({},ne),{},{client_id:e.id.toString()})),xe(e.name),Se(!1)},children:[e.name," ",e.code?"(".concat(e.code,")"):""]},e.id))})]})]}),(0,Fe.jsxs)("div",{className:"filter-field",children:[(0,Fe.jsx)("label",{className:"filter-label",children:"\ud83d\ude9a Ve\u017e\u0117jas"}),(0,Fe.jsxs)("div",{style:{position:"relative"},children:[(0,Fe.jsx)("input",{type:"text",className:"filter-input",value:ve,onChange:e=>{ye(e.target.value),Ne(e.target.value.length>0),e.target.value||ae((0,Ve.A)((0,Ve.A)({},ne),{},{carrier_id:""}))},onFocus:()=>{ve&&(At(ve),Ne(!0))},onBlur:()=>setTimeout(()=>Ne(!1),200),placeholder:"Ie\u0161koti ve\u017e\u0117jo..."}),Ce&&je.length>0&&(0,Fe.jsx)("div",{className:"client-dropdown",style:{zIndex:3e3},children:je.map(e=>(0,Fe.jsxs)("div",{className:"client-dropdown-item",onClick:()=>{ae((0,Ve.A)((0,Ve.A)({},ne),{},{carrier_id:e.id.toString()})),ye(e.name),Ne(!1)},children:[e.name," ",e.code?"(".concat(e.code,")"):""]},e.id))})]})]}),(0,Fe.jsxs)("div",{className:"filter-field",children:[(0,Fe.jsx)("label",{className:"filter-label",children:"\ud83d\udce6 U\u017esakymo tipas"}),(0,Fe.jsxs)("select",{className:"filter-select",value:ne.order_type,onChange:e=>ae((0,Ve.A)((0,Ve.A)({},ne),{},{order_type:e.target.value})),children:[(0,Fe.jsx)("option",{value:"",children:"-- Visi tipai --"}),(0,Fe.jsx)("option",{value:"transport",children:"\ud83d\ude9b Transportas"}),(0,Fe.jsx)("option",{value:"logistics",children:"\ud83d\udccb Logistika"}),(0,Fe.jsx)("option",{value:"other",children:"\ud83d\udccc Kita"})]})]}),(0,Fe.jsxs)("div",{className:"filter-field",children:[(0,Fe.jsx)("label",{className:"filter-label",children:"\ud83d\udc68\u200d\ud83d\udcbc Vadybininkas"}),(0,Fe.jsxs)("select",{className:"filter-select",value:ne.manager_id,onChange:e=>ae((0,Ve.A)((0,Ve.A)({},ne),{},{manager_id:e.target.value})),children:[(0,Fe.jsx)("option",{value:"",children:"-- Visi vadybininkai --"}),le.map(e=>(0,Fe.jsx)("option",{value:e.id,children:e.username},e.id))]})]})]})]}),(0,Fe.jsxs)("div",{className:"filters-section",children:[(0,Fe.jsx)("h3",{className:"filters-section-title",children:"\ud83d\uddfa\ufe0f Mar\u0161rutai"}),(0,Fe.jsxs)("div",{className:"filters-grid",children:[(0,Fe.jsxs)("div",{className:"filter-field",children:[(0,Fe.jsx)("label",{className:"filter-label",children:"\ud83d\udccd Mar\u0161rutas i\u0161"}),(0,Fe.jsx)("input",{type:"text",className:"filter-input",value:ne.route_from,onChange:e=>ae((0,Ve.A)((0,Ve.A)({},ne),{},{route_from:e.target.value})),placeholder:"\u012eveskite miest\u0105 arba pasirinkite...",list:"route-from-suggestions"}),(0,Fe.jsx)("datalist",{id:"route-from-suggestions",children:Ye.map((e,t)=>(0,Fe.jsx)("option",{value:e},t))})]}),(0,Fe.jsxs)("div",{className:"filter-field",children:[(0,Fe.jsx)("label",{className:"filter-label",children:"\ud83d\udccd Mar\u0161rutas \u012f"}),(0,Fe.jsx)("input",{type:"text",className:"filter-input",value:ne.route_to,onChange:e=>ae((0,Ve.A)((0,Ve.A)({},ne),{},{route_to:e.target.value})),placeholder:"\u012eveskite miest\u0105 arba pasirinkite...",list:"route-to-suggestions"}),(0,Fe.jsx)("datalist",{id:"route-to-suggestions",children:Je.map((e,t)=>(0,Fe.jsx)("option",{value:e},t))})]})]})]}),(0,Fe.jsxs)("div",{className:"filters-section",children:[(0,Fe.jsx)("h3",{className:"filters-section-title",children:"\ud83d\udcc5 Datos"}),(0,Fe.jsxs)("div",{className:"filters-grid",children:[(0,Fe.jsxs)("div",{className:"filter-field",children:[(0,Fe.jsx)("label",{className:"filter-label",children:"\ud83d\udcc5 U\u017esakymo data nuo"}),(0,Fe.jsx)("input",{type:"date",className:"filter-input",value:ne.order_date_from,onChange:e=>ae((0,Ve.A)((0,Ve.A)({},ne),{},{order_date_from:e.target.value}))})]}),(0,Fe.jsxs)("div",{className:"filter-field",children:[(0,Fe.jsx)("label",{className:"filter-label",children:"\ud83d\udcc5 U\u017esakymo data iki"}),(0,Fe.jsx)("input",{type:"date",className:"filter-input",value:ne.order_date_to,onChange:e=>ae((0,Ve.A)((0,Ve.A)({},ne),{},{order_date_to:e.target.value}))})]}),(0,Fe.jsxs)("div",{className:"filter-field",children:[(0,Fe.jsx)("label",{className:"filter-label",children:"\ud83d\udce6 Pakrovimo data nuo"}),(0,Fe.jsx)("input",{type:"date",className:"filter-input",value:ne.loading_date_from,onChange:e=>ae((0,Ve.A)((0,Ve.A)({},ne),{},{loading_date_from:e.target.value}))})]}),(0,Fe.jsxs)("div",{className:"filter-field",children:[(0,Fe.jsx)("label",{className:"filter-label",children:"\ud83d\udce6 Pakrovimo data iki"}),(0,Fe.jsx)("input",{type:"date",className:"filter-input",value:ne.loading_date_to,onChange:e=>ae((0,Ve.A)((0,Ve.A)({},ne),{},{loading_date_to:e.target.value}))})]}),(0,Fe.jsxs)("div",{className:"filter-field",children:[(0,Fe.jsx)("label",{className:"filter-label",children:"\ud83d\udce4 I\u0161krovimo data nuo"}),(0,Fe.jsx)("input",{type:"date",className:"filter-input",value:ne.unloading_date_from,onChange:e=>ae((0,Ve.A)((0,Ve.A)({},ne),{},{unloading_date_from:e.target.value}))})]}),(0,Fe.jsxs)("div",{className:"filter-field",children:[(0,Fe.jsx)("label",{className:"filter-label",children:"\ud83d\udce4 I\u0161krovimo data iki"}),(0,Fe.jsx)("input",{type:"date",className:"filter-input",value:ne.unloading_date_to,onChange:e=>ae((0,Ve.A)((0,Ve.A)({},ne),{},{unloading_date_to:e.target.value}))})]})]})]})]}),(0,Fe.jsxs)("div",{className:"quick-filters",children:[(0,Fe.jsx)("button",{className:"quick-filter-btn ".concat("all"===J&&0===ne.status.length?"active":""),onClick:()=>{G("all"),ae((0,Ve.A)((0,Ve.A)({},ne),{},{status:[]}))},children:"\ud83c\udf10 Visi"}),(0,Fe.jsx)("button",{className:"quick-filter-btn ".concat("new"===J?"active":""),onClick:()=>{G("new"),ae((0,Ve.A)((0,Ve.A)({},ne),{},{status:["new"]}))},children:"\ud83c\udd95 Nauji"}),(0,Fe.jsx)("button",{className:"quick-filter-btn ".concat("executing"===J?"active":""),onClick:()=>{G("executing"),ae((0,Ve.A)((0,Ve.A)({},ne),{},{status:["executing"]}))},children:"\u2699\ufe0f Vykdomi"}),(0,Fe.jsx)("button",{className:"quick-filter-btn ".concat("finished"===J?"active":""),onClick:()=>{G("finished"),ae((0,Ve.A)((0,Ve.A)({},ne),{},{status:["finished"]}))},children:"\u2705 Baigti"})]})]}),(v||_)&&(0,Fe.jsx)("div",{className:"modal-overlay",onClick:()=>{y(!1),b(!1),Wt()},children:(0,Fe.jsxs)("div",{className:"modal-content modal-large",onClick:e=>e.stopPropagation(),style:{maxWidth:"1200px",maxHeight:"95vh",display:"flex",flexDirection:"column"},children:[(0,Fe.jsxs)("div",{className:"modal-header",style:{padding:"12px 20px",borderBottom:"1px solid #dee2e6",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Fe.jsx)("h2",{style:{margin:0,fontSize:"18px",fontWeight:"600"},children:_?"Redaguoti u\u017esakym\u0105":"Naujas u\u017esakymas"}),(0,Fe.jsx)("button",{onClick:()=>{y(!1),b(!1),Wt()},className:"button button-secondary",style:{padding:"6px 12px",fontSize:"13px"},children:"\u2715 U\u017edaryti"})]}),(0,Fe.jsx)("div",{style:{padding:"15px 20px",overflowY:"auto",flex:1},children:(0,Fe.jsxs)("form",{onSubmit:_?async e=>{if(e.preventDefault(),A)try{const e={client_id:parseInt(xt.client_id),order_type:xt.order_type,manager_id:xt.manager_id?parseInt(xt.manager_id):null,status:xt.status,price_net:Ae.reduce((e,t)=>e+(t.price_net?parseFloat(String(t.price_net)):0),0)+(xt.my_price_net?parseFloat(xt.my_price_net):0)+xt.other_costs.reduce((e,t)=>e+("number"===typeof t.amount?t.amount:parseFloat(String(t.amount))||0),0)||0,client_price_net:xt.client_price_net?parseFloat(xt.client_price_net):null,my_price_net:xt.my_price_net&&""!==xt.my_price_net.trim()?parseFloat(xt.my_price_net):null,other_costs:xt.other_costs.length>0?xt.other_costs.map(e=>({description:e.description,amount:parseFloat(String(e.amount))})):[],vat_rate:parseFloat(xt.vat_rate),vat_rate_article:xt.vat_rate_article||"",client_invoice_issued:xt.client_invoice_issued,client_invoice_received:xt.client_invoice_received,client_payment_status:xt.client_payment_status,route_from:xt.route_from||"",route_to:xt.route_to||"",route_from_country:xt.route_from_country||"",route_from_postal_code:xt.route_from_postal_code||"",route_from_city:xt.route_from_city||"",route_from_address:xt.route_from_address||"",route_to_country:xt.route_to_country||"",route_to_postal_code:xt.route_to_postal_code||"",route_to_city:xt.route_to_city||"",route_to_address:xt.route_to_address||"",order_date:xt.order_date||null,loading_date:xt.loading_date||null,unloading_date:xt.unloading_date||null,is_partial:xt.is_partial,weight_kg:xt.weight_kg?parseFloat(xt.weight_kg):null,ldm:xt.ldm?parseFloat(xt.ldm):null,length_m:xt.length_m?parseFloat(xt.length_m):null,width_m:xt.width_m?parseFloat(xt.width_m):null,height_m:xt.height_m?parseFloat(xt.height_m):null,is_palletized:xt.is_palletized,is_stackable:xt.is_stackable,vehicle_type:xt.vehicle_type||null,requires_forklift:xt.requires_forklift,requires_crane:xt.requires_crane,requires_special_equipment:xt.requires_special_equipment,fragile:xt.fragile,hazardous:xt.hazardous,temperature_controlled:xt.temperature_controlled,requires_permit:xt.requires_permit,notes:xt.notes||""};await ze.api.put("/orders/orders/".concat(A.id,"/"),e);const h=await ze.api.get("/orders/carriers/?order=".concat(A.id)),g=h.data.results||h.data||[];for(const t of g)await ze.api.delete("/orders/carriers/".concat(t.id,"/"));if(Ae.length>0)for(const l of Ae)try{var t;const e=l.partner_id||(null===(t=l.partner)||void 0===t?void 0:t.id);if(!e){fe("info","Klaida: ve\u017e\u0117jas/sand\u0117lys neturi partnerio ID. Praleid\u017eiamas.");continue}const n={order:A.id,partner_id:e,carrier_type:l.carrier_type||"carrier",sequence_order:l.sequence_order||0,price_net:l.price_net?parseFloat(String(l.price_net)):null,route_from:l.route_from||"",route_to:l.route_to||"",loading_date:l.loading_date||null,unloading_date:l.unloading_date||null,status:l.status||"new",invoice_issued:l.invoice_issued||!1,invoice_received:l.invoice_received||!1,payment_status:l.payment_status||"not_paid",payment_date:l.payment_date||null,documents_status:l.documents_status||"not_received",notes:l.notes||""};await ze.api.post("/orders/carriers/",n)}catch(x){var n,a,r,i,s,o;console.error("Klaida kuriant ve\u017e\u0117j\u0105/sand\u0117l\u012f:",(null===(n=x.response)||void 0===n?void 0:n.data)||x);const e=(null===(a=x.response)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.detail)||("object"===typeof(null===(i=x.response)||void 0===i?void 0:i.data)?JSON.stringify(null===(s=x.response)||void 0===s?void 0:s.data):null===(o=x.response)||void 0===o?void 0:o.data)||x.message;throw fe("error","Klaida kuriant ve\u017e\u0117j\u0105/sand\u0117l\u012f: ".concat(e)),x}const v=await ze.api.get("/orders/cargo-items/?order=".concat(A.id)),y=v.data.results||v.data||[];for(const t of y)try{await ze.api.delete("/orders/cargo-items/".concat(t.id,"/"))}catch(x){var l;console.error("Klaida trinant krovini\u0173 apra\u0161ym\u0105:",(null===(l=x.response)||void 0===l?void 0:l.data)||x)}if(ot.length>0)for(const t of ot)try{const e={order:A.id,sequence_order:t.sequence_order||0,description:t.description||"",weight_kg:t.weight_kg?parseFloat(String(t.weight_kg)):null,ldm:t.ldm?parseFloat(String(t.ldm)):null,length_m:t.length_m?parseFloat(String(t.length_m)):null,width_m:t.width_m?parseFloat(String(t.width_m)):null,height_m:t.height_m?parseFloat(String(t.height_m)):null,is_palletized:t.is_palletized||!1,is_stackable:t.is_stackable||!1,vehicle_type:t.vehicle_type||null,requires_forklift:t.requires_forklift||!1,requires_crane:t.requires_crane||!1,requires_special_equipment:t.requires_special_equipment||!1,fragile:t.fragile||!1,hazardous:t.hazardous||!1,temperature_controlled:t.temperature_controlled||!1,requires_permit:t.requires_permit||!1};await ze.api.post("/orders/cargo-items/",e)}catch(x){var d,c,u,p,f,m;console.error("Klaida kuriant krovini\u0173 apra\u0161ym\u0105:",(null===(d=x.response)||void 0===d?void 0:d.data)||x);const e=(null===(c=x.response)||void 0===c||null===(u=c.data)||void 0===u?void 0:u.detail)||("object"===typeof(null===(p=x.response)||void 0===p?void 0:p.data)?JSON.stringify(null===(f=x.response)||void 0===f?void 0:f.data):null===(m=x.response)||void 0===m?void 0:m.data)||x.message;throw fe("error","Klaida kuriant krovini\u0173 apra\u0161ym\u0105: ".concat(e)),x}b(!1),P(null),Wt(),Et(),Tt(),fe("success","U\u017esakymas s\u0117kmingai atnaujintas")}catch(x){var h,g;fe("error",(null===(h=x.response)||void 0===h||null===(g=h.data)||void 0===g?void 0:g.error)||"Klaida atnaujinant u\u017esakym\u0105")}}:async e=>{if(e.preventDefault(),xt.client_id)if(xt.route_from_country&&xt.route_to_country)try{const e={client_id:parseInt(xt.client_id),order_type:xt.order_type,manager_id:xt.manager_id?parseInt(xt.manager_id):null,status:xt.status,price_net:Ae.reduce((e,t)=>e+(t.price_net?parseFloat(String(t.price_net)):0),0)+(xt.my_price_net?parseFloat(xt.my_price_net):0)+xt.other_costs.reduce((e,t)=>e+("number"===typeof t.amount?t.amount:parseFloat(String(t.amount))||0),0)||0,client_price_net:xt.client_price_net?parseFloat(xt.client_price_net):null,my_price_net:xt.my_price_net&&""!==xt.my_price_net.trim()?parseFloat(xt.my_price_net):null,other_costs:xt.other_costs.length>0?xt.other_costs.map(e=>({description:e.description,amount:parseFloat(String(e.amount))})):[],vat_rate:parseFloat(xt.vat_rate),vat_rate_article:xt.vat_rate_article||"",client_invoice_issued:xt.client_invoice_issued,client_invoice_received:xt.client_invoice_received,client_payment_status:xt.client_payment_status,route_from:xt.route_from||"",route_to:xt.route_to||"",route_from_country:xt.route_from_country||"",route_from_postal_code:xt.route_from_postal_code||"",route_from_city:xt.route_from_city||"",route_from_address:xt.route_from_address||"",route_to_country:xt.route_to_country||"",route_to_postal_code:xt.route_to_postal_code||"",route_to_city:xt.route_to_city||"",route_to_address:xt.route_to_address||"",order_date:xt.order_date||null,loading_date:xt.loading_date||null,unloading_date:xt.unloading_date||null,is_partial:xt.is_partial,weight_kg:xt.weight_kg?parseFloat(xt.weight_kg):null,ldm:xt.ldm?parseFloat(xt.ldm):null,length_m:xt.length_m?parseFloat(xt.length_m):null,width_m:xt.width_m?parseFloat(xt.width_m):null,height_m:xt.height_m?parseFloat(xt.height_m):null,is_palletized:xt.is_palletized,is_stackable:xt.is_stackable,vehicle_type:xt.vehicle_type||null,requires_forklift:xt.requires_forklift,requires_crane:xt.requires_crane,requires_special_equipment:xt.requires_special_equipment,fragile:xt.fragile,hazardous:xt.hazardous,temperature_controlled:xt.temperature_controlled,requires_permit:xt.requires_permit,notes:xt.notes||""},m=(await ze.api.post("/orders/orders/",e)).data.id;if(Ae.length>0)for(const l of Ae)try{var t;const e=l.partner_id||(null===(t=l.partner)||void 0===t?void 0:t.id);if(!e){fe("info","Klaida: ve\u017e\u0117jas/sand\u0117lys neturi partnerio ID. Praleid\u017eiamas.");continue}const n={order:m,partner_id:e,carrier_type:l.carrier_type||"carrier",sequence_order:l.sequence_order||0,price_net:l.price_net?parseFloat(String(l.price_net)):null,route_from:l.route_from||"",route_to:l.route_to||"",loading_date:l.loading_date||null,unloading_date:l.unloading_date||null,status:l.status||"new",invoice_issued:l.invoice_issued||!1,invoice_received:l.invoice_received||!1,payment_status:l.payment_status||"not_paid",notes:l.notes||""};await ze.api.post("/orders/carriers/",n)}catch(g){var n,a,r,i,s,o;console.error("Klaida kuriant ve\u017e\u0117j\u0105/sand\u0117l\u012f:",(null===(n=g.response)||void 0===n?void 0:n.data)||g);const e=(null===(a=g.response)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.detail)||("object"===typeof(null===(i=g.response)||void 0===i?void 0:i.data)?JSON.stringify(null===(s=g.response)||void 0===s?void 0:s.data):null===(o=g.response)||void 0===o?void 0:o.data)||g.message;throw fe("error","Klaida kuriant ve\u017e\u0117j\u0105/sand\u0117l\u012f: ".concat(e)),g}if(ot.length>0)for(const t of ot)try{const e={order:m,sequence_order:t.sequence_order||0,description:t.description||"",weight_kg:t.weight_kg?parseFloat(String(t.weight_kg)):null,ldm:t.ldm?parseFloat(String(t.ldm)):null,length_m:t.length_m?parseFloat(String(t.length_m)):null,width_m:t.width_m?parseFloat(String(t.width_m)):null,height_m:t.height_m?parseFloat(String(t.height_m)):null,is_palletized:t.is_palletized||!1,is_stackable:t.is_stackable||!1,vehicle_type:t.vehicle_type||null,requires_forklift:t.requires_forklift||!1,requires_crane:t.requires_crane||!1,requires_special_equipment:t.requires_special_equipment||!1,fragile:t.fragile||!1,hazardous:t.hazardous||!1,temperature_controlled:t.temperature_controlled||!1,requires_permit:t.requires_permit||!1};await ze.api.post("/orders/cargo-items/",e)}catch(g){var l,d,c,u,p,f;console.error("Klaida kuriant krovini\u0173 apra\u0161ym\u0105:",(null===(l=g.response)||void 0===l?void 0:l.data)||g);const e=(null===(d=g.response)||void 0===d||null===(c=d.data)||void 0===c?void 0:c.detail)||("object"===typeof(null===(u=g.response)||void 0===u?void 0:u.data)?JSON.stringify(null===(p=g.response)||void 0===p?void 0:p.data):null===(f=g.response)||void 0===f?void 0:f.data)||g.message;throw fe("error","Klaida kuriant krovini\u0173 apra\u0161ym\u0105: ".concat(e)),g}y(!1),Wt(),Et(),Tt(),fe("success","U\u017esakymas s\u0117kmingai sukurtas")}catch(g){var m,h;console.error("Klaida kuriant u\u017esakym\u0105:",g),console.error("Response data:",null===(m=g.response)||void 0===m?void 0:m.data);let e="Klaida kuriant u\u017esakym\u0105";if(null!==(h=g.response)&&void 0!==h&&h.data){if("string"===typeof g.response.data)e=g.response.data;else if(g.response.data.error)e=g.response.data.error;else if(g.response.data.detail)e=g.response.data.detail;else if("object"===typeof g.response.data){const t=Object.entries(g.response.data).map(e=>{let[t,n]=e;return Array.isArray(n)?"".concat(t,": ").concat(n.join(", ")):"".concat(t,": ").concat(n)}).join("\n");e="Validacijos klaidos:\n".concat(t)}}else g.message&&(e=g.message);fe("error",e)}else fe("info","U\u017epildykite \u0161al\u0173 laukus (privalomi)");else fe("info","Pasirinkite klient\u0105")},children:[(0,Fe.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",marginBottom:"12px"},children:[(0,Fe.jsxs)("div",{style:{border:"1px solid #dee2e6",borderRadius:"4px",padding:"10px",backgroundColor:"#f8f9fa",display:"flex",flexDirection:"column",minHeight:Y?"auto":"80px"},children:[(0,Fe.jsx)("h4",{style:{margin:"0 0 8px 0",fontSize:"14px",fontWeight:"bold",color:"#495057"},children:"\ud83d\udc64 Klientas *"}),(0,Fe.jsxs)("div",{style:{position:"relative",marginBottom:Y?"10px":"0"},children:[(0,Fe.jsx)("input",{type:"text",placeholder:"Ie\u0161koti kliento (\u012fveskite bent 2 simbolius)...",value:V,onChange:e=>W(e.target.value),required:!0,style:{paddingRight:"35px",width:"100%"}}),q.length>0&&(0,Fe.jsx)("div",{className:"client-dropdown",children:q.map(e=>(0,Fe.jsxs)("div",{className:"client-dropdown-item",onClick:()=>(async e=>{vt((0,Ve.A)((0,Ve.A)({},xt),{},{client_id:e.id.toString()})),W(e.name),$(e.name),K([]);try{const t=await ze.api.get("/partners/partners/".concat(e.id,"/"));Q(t.data)}catch(t){console.error("Klaida gaunant kliento informacij\u0105:",t),Q(e)}})(e),children:[e.name," (",e.code,")"]},e.id))})]}),Y&&(0,Fe.jsxs)("div",{style:{marginTop:"8px",padding:"10px",backgroundColor:"#fff",borderRadius:"4px",border:"1px solid #ced4da",fontSize:"11px",lineHeight:"1.5"},children:[(0,Fe.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px",marginBottom:"6px"},children:[Y.code&&(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("strong",{children:"Kodas:"})," ",Y.code]}),Y.vat_code&&(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("strong",{children:"PVM kodas:"})," ",Y.vat_code]}),Y.payment_term_days&&(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("strong",{children:"Mok\u0117jimo terminas:"})," ",Y.payment_term_days," d."]})]}),Y.address&&(0,Fe.jsxs)("div",{style:{marginBottom:"6px",paddingBottom:"6px",borderBottom:"1px solid #e9ecef"},children:[(0,Fe.jsx)("strong",{children:"Adresas:"})," ",Y.address]}),Y.contact_person&&(0,Fe.jsxs)("div",{style:{marginBottom:"6px",paddingBottom:"6px",borderBottom:"1px solid #e9ecef"},children:[(0,Fe.jsx)("strong",{children:"Kontaktinis asmuo:"}),(0,Fe.jsxs)("div",{style:{marginLeft:"8px",marginTop:"2px",fontSize:"10px"},children:[Y.contact_person.first_name," ",Y.contact_person.last_name,Y.contact_person.position&&(0,Fe.jsx)("div",{style:{color:"#6c757d"},children:Y.contact_person.position}),(0,Fe.jsxs)("div",{style:{display:"flex",gap:"12px",marginTop:"2px"},children:[Y.contact_person.email&&(0,Fe.jsxs)("span",{children:["\ud83d\udce7 ",Y.contact_person.email]}),Y.contact_person.phone&&(0,Fe.jsxs)("span",{children:["\ud83d\udcde ",Y.contact_person.phone]})]})]})]}),Y.contacts&&Y.contacts.length>0&&(0,Fe.jsxs)("div",{style:{marginBottom:"6px",paddingBottom:"6px",borderBottom:"1px solid #e9ecef"},children:[(0,Fe.jsxs)("strong",{children:["Kiti kontaktai (",Y.contacts.length,"):"]}),Y.contacts.slice(0,2).map((e,t)=>(0,Fe.jsxs)("div",{style:{marginLeft:"8px",marginTop:"3px",fontSize:"10px"},children:[e.first_name," ",e.last_name,(e.email||e.phone)&&(0,Fe.jsxs)("div",{style:{display:"flex",gap:"12px",marginTop:"1px"},children:[e.email&&(0,Fe.jsxs)("span",{children:["\ud83d\udce7 ",e.email]}),e.phone&&(0,Fe.jsxs)("span",{children:["\ud83d\udcde ",e.phone]})]})]},e.id||t)),Y.contacts.length>2&&(0,Fe.jsxs)("div",{style:{marginLeft:"8px",marginTop:"2px",fontSize:"10px",color:"#6c757d"},children:["+ dar ",Y.contacts.length-2," kontakt\u0173"]})]}),Y.notes&&(0,Fe.jsxs)("div",{style:{fontSize:"10px",color:"#6c757d",marginTop:"4px"},children:[(0,Fe.jsx)("strong",{children:"Pastabos:"})," ",Y.notes]})]}),_&&(0,Fe.jsxs)("div",{style:{marginTop:"12px",padding:"10px",backgroundColor:"#f8f9fa",borderRadius:"4px",border:"1px solid #007bff"},children:[(0,Fe.jsx)("h5",{style:{margin:"0 0 8px 0",fontSize:"13px",fontWeight:"bold",color:"#007bff"},children:"\ud83d\udcc4 Kliento s\u0105skait\u0173 statusas"}),(0,Fe.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px",marginBottom:"8px"},children:[(0,Fe.jsx)("div",{className:"form-group",style:{marginBottom:"0"},children:(0,Fe.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",fontSize:"12px"},children:[(0,Fe.jsx)("input",{type:"checkbox",checked:xt.client_invoice_issued,onChange:e=>vt((0,Ve.A)((0,Ve.A)({},xt),{},{client_invoice_issued:e.target.checked}))}),(0,Fe.jsx)("span",{children:"I\u0161ra\u0161yta s\u0105skaita"})]})}),(0,Fe.jsx)("div",{className:"form-group",style:{marginBottom:"0"},children:(0,Fe.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",fontSize:"12px"},children:[(0,Fe.jsx)("input",{type:"checkbox",checked:xt.client_invoice_received,onChange:e=>vt((0,Ve.A)((0,Ve.A)({},xt),{},{client_invoice_received:e.target.checked}))}),(0,Fe.jsx)("span",{children:"Gauta s\u0105skaita"})]})})]})]})]}),(0,Fe.jsxs)("div",{style:{border:"1px solid #dee2e6",borderRadius:"4px",padding:"10px",backgroundColor:"#fff"},children:[(0,Fe.jsx)("h4",{style:{margin:"0 0 8px 0",fontSize:"14px",fontWeight:"bold",color:"#495057"},children:"\u2139\ufe0f Informacija"}),(0,Fe.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[(0,Fe.jsxs)("div",{className:"form-group",style:{marginBottom:"0"},children:[(0,Fe.jsx)("label",{style:{fontSize:"12px",marginBottom:"4px"},children:"U\u017esakymo tipas *"}),(0,Fe.jsxs)("select",{value:xt.order_type,onChange:e=>vt((0,Ve.A)((0,Ve.A)({},xt),{},{order_type:e.target.value})),required:!0,style:{width:"100%"},children:[(0,Fe.jsx)("option",{value:"transport",children:"Transportas"}),(0,Fe.jsx)("option",{value:"logistics",children:"Logistika"}),(0,Fe.jsx)("option",{value:"other",children:"Kita"})]})]}),_&&(0,Fe.jsxs)("div",{className:"form-group",style:{marginBottom:"0"},children:[(0,Fe.jsx)("label",{style:{fontSize:"12px",marginBottom:"4px"},children:"Mok\u0117jimo b\u016bkl\u0117"}),(0,Fe.jsxs)("select",{value:xt.client_payment_status,onChange:e=>vt((0,Ve.A)((0,Ve.A)({},xt),{},{client_payment_status:e.target.value})),style:{width:"100%"},children:[(0,Fe.jsx)("option",{value:"not_paid",children:"Neapmok\u0117ta"}),(0,Fe.jsx)("option",{value:"partially_paid",children:"Dalinai apmok\u0117ta"}),(0,Fe.jsx)("option",{value:"paid",children:"Apmok\u0117ta"})]})]}),_&&(0,Fe.jsxs)("div",{className:"form-group",style:{marginBottom:"0"},children:[(0,Fe.jsx)("label",{style:{fontSize:"12px",marginBottom:"4px"},children:"B\u016bsena"}),(0,Fe.jsxs)("select",{value:xt.status,onChange:e=>vt((0,Ve.A)((0,Ve.A)({},xt),{},{status:e.target.value})),style:{width:"100%"},children:[(0,Fe.jsx)("option",{value:"new",children:"Naujas"}),(0,Fe.jsx)("option",{value:"assigned",children:"Priskirtas"}),(0,Fe.jsx)("option",{value:"executing",children:"Vykdomas"}),(0,Fe.jsx)("option",{value:"waiting_for_docs",children:"Laukiama Dokument\u0173"}),(0,Fe.jsx)("option",{value:"finished",children:"Baigtas"}),(0,Fe.jsx)("option",{value:"canceled",children:"At\u0161auktas"})]})]}),(0,Fe.jsxs)("div",{className:"form-group",style:{marginBottom:"0"},children:[(0,Fe.jsx)("label",{style:{fontSize:"12px",marginBottom:"4px"},children:"U\u017esakymo data"}),(0,Fe.jsx)("input",{type:"date",value:xt.order_date?xt.order_date.split("T")[0]:"",onChange:e=>vt((0,Ve.A)((0,Ve.A)({},xt),{},{order_date:e.target.value?"".concat(e.target.value,"T00:00"):""})),style:{width:"100%"}})]}),(0,Fe.jsxs)("div",{className:"form-group",style:{marginBottom:"0"},children:[(0,Fe.jsx)("label",{style:{fontSize:"12px",marginBottom:"4px"},children:"Vadybininkas"}),(0,Fe.jsxs)("select",{value:xt.manager_id,onChange:e=>vt((0,Ve.A)((0,Ve.A)({},xt),{},{manager_id:e.target.value})),style:{width:"100%"},children:[(0,Fe.jsx)("option",{value:"",children:"Nepasirinkta"}),le.map(e=>{const t=e;return(0,Fe.jsx)("option",{value:e.id.toString(),children:t.first_name&&t.last_name?"".concat(t.first_name," ").concat(t.last_name):e.username},e.id)})]})]})]})]})]}),(0,Fe.jsx)("div",{style:{marginBottom:"12px"},children:(0,Fe.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[(0,Fe.jsxs)("div",{style:{border:"1px solid #dee2e6",borderRadius:"4px",padding:"10px",backgroundColor:"#f8f9fa"},children:[(0,Fe.jsx)("h4",{style:{margin:"0 0 8px 0",fontSize:"13px",fontWeight:"bold",color:"#495057"},children:"\ud83d\udccd Mar\u0161rutas i\u0161 *"}),(0,Fe.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:[(0,Fe.jsxs)("div",{className:"form-group",style:{marginBottom:"0"},children:[(0,Fe.jsx)("label",{style:{fontSize:"12px",marginBottom:"4px"},children:"\u0160alis *"}),(0,Fe.jsx)("input",{type:"text",value:xt.route_from_country,onChange:e=>vt((0,Ve.A)((0,Ve.A)({},xt),{},{route_from_country:e.target.value})),list:"route-from-country-suggestions",required:!0,style:{width:"100%",padding:"5px 6px",fontSize:"12px"}}),(0,Fe.jsx)("datalist",{id:"route-from-country-suggestions",children:Yt.map((e,t)=>(0,Fe.jsx)("option",{value:e},t))})]}),(0,Fe.jsxs)("div",{className:"form-group",style:{marginBottom:"0"},children:[(0,Fe.jsx)("label",{style:{fontSize:"12px",marginBottom:"4px"},children:"Pa\u0161to kodas"}),(0,Fe.jsx)("input",{type:"text",value:xt.route_from_postal_code,onChange:e=>vt((0,Ve.A)((0,Ve.A)({},xt),{},{route_from_postal_code:e.target.value})),list:"route-from-postal-code-suggestions",style:{width:"100%",padding:"5px 6px",fontSize:"12px"}}),(0,Fe.jsx)("datalist",{id:"route-from-postal-code-suggestions",children:Qt.map((e,t)=>(0,Fe.jsx)("option",{value:e},t))})]}),(0,Fe.jsxs)("div",{className:"form-group",style:{marginBottom:"0"},children:[(0,Fe.jsx)("label",{style:{fontSize:"12px",marginBottom:"4px"},children:"Miestas"}),(0,Fe.jsx)("input",{type:"text",value:xt.route_from_city,onChange:e=>vt((0,Ve.A)((0,Ve.A)({},xt),{},{route_from_city:e.target.value})),list:"route-from-city-suggestions",style:{width:"100%",padding:"5px 6px",fontSize:"12px"}}),(0,Fe.jsx)("datalist",{id:"route-from-city-suggestions",children:Jt.map((e,t)=>(0,Fe.jsx)("option",{value:e},t))})]}),(0,Fe.jsxs)("div",{className:"form-group",style:{marginBottom:"0"},children:[(0,Fe.jsx)("label",{style:{fontSize:"12px",marginBottom:"4px"},children:"Adresas"}),(0,Fe.jsx)("input",{type:"text",value:xt.route_from_address,onChange:e=>vt((0,Ve.A)((0,Ve.A)({},xt),{},{route_from_address:e.target.value})),list:"route-from-address-suggestions",style:{width:"100%",padding:"5px 6px",fontSize:"12px"}}),(0,Fe.jsx)("datalist",{id:"route-from-address-suggestions",children:Gt.map((e,t)=>(0,Fe.jsx)("option",{value:e},t))})]})]})]}),(0,Fe.jsxs)("div",{style:{border:"1px solid #dee2e6",borderRadius:"4px",padding:"10px",backgroundColor:"#f8f9fa"},children:[(0,Fe.jsx)("h4",{style:{margin:"0 0 8px 0",fontSize:"13px",fontWeight:"bold",color:"#495057"},children:"\ud83d\udccd Mar\u0161rutas \u012f *"}),(0,Fe.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:[(0,Fe.jsxs)("div",{className:"form-group",style:{marginBottom:"0"},children:[(0,Fe.jsx)("label",{style:{fontSize:"12px",marginBottom:"4px"},children:"\u0160alis *"}),(0,Fe.jsx)("input",{type:"text",value:xt.route_to_country,onChange:e=>vt((0,Ve.A)((0,Ve.A)({},xt),{},{route_to_country:e.target.value})),list:"route-to-country-suggestions",required:!0,style:{width:"100%",padding:"5px 6px",fontSize:"12px"}}),(0,Fe.jsx)("datalist",{id:"route-to-country-suggestions",children:Xt.map((e,t)=>(0,Fe.jsx)("option",{value:e},t))})]}),(0,Fe.jsxs)("div",{className:"form-group",style:{marginBottom:"0"},children:[(0,Fe.jsx)("label",{style:{fontSize:"12px",marginBottom:"4px"},children:"Pa\u0161to kodas"}),(0,Fe.jsx)("input",{type:"text",value:xt.route_to_postal_code,onChange:e=>vt((0,Ve.A)((0,Ve.A)({},xt),{},{route_to_postal_code:e.target.value})),list:"route-to-postal-code-suggestions",style:{width:"100%",padding:"5px 6px",fontSize:"12px"}}),(0,Fe.jsx)("datalist",{id:"route-to-postal-code-suggestions",children:Zt.map((e,t)=>(0,Fe.jsx)("option",{value:e},t))})]}),(0,Fe.jsxs)("div",{className:"form-group",style:{marginBottom:"0"},children:[(0,Fe.jsx)("label",{style:{fontSize:"12px",marginBottom:"4px"},children:"Miestas"}),(0,Fe.jsx)("input",{type:"text",value:xt.route_to_city,onChange:e=>vt((0,Ve.A)((0,Ve.A)({},xt),{},{route_to_city:e.target.value})),list:"route-to-city-suggestions",style:{width:"100%",padding:"5px 6px",fontSize:"12px"}}),(0,Fe.jsx)("datalist",{id:"route-to-city-suggestions",children:en.map((e,t)=>(0,Fe.jsx)("option",{value:e},t))})]}),(0,Fe.jsxs)("div",{className:"form-group",style:{marginBottom:"0"},children:[(0,Fe.jsx)("label",{style:{fontSize:"12px",marginBottom:"4px"},children:"Adresas"}),(0,Fe.jsx)("input",{type:"text",value:xt.route_to_address,onChange:e=>vt((0,Ve.A)((0,Ve.A)({},xt),{},{route_to_address:e.target.value})),list:"route-to-address-suggestions",style:{width:"100%",padding:"5px 6px",fontSize:"12px"}}),(0,Fe.jsx)("datalist",{id:"route-to-address-suggestions",children:tn.map((e,t)=>(0,Fe.jsx)("option",{value:e},t))})]})]})]})]})}),(0,Fe.jsxs)("div",{style:{marginBottom:"12px",display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[(0,Fe.jsxs)("div",{className:"form-group",style:{marginBottom:"0"},children:[(0,Fe.jsx)("label",{style:{fontSize:"12px",marginBottom:"4px"},children:"Pakrovimo data"}),(0,Fe.jsx)("input",{type:"date",value:xt.loading_date?xt.loading_date.split("T")[0]:"",onChange:e=>vt((0,Ve.A)((0,Ve.A)({},xt),{},{loading_date:e.target.value?"".concat(e.target.value,"T00:00"):""})),style:{width:"100%"}})]}),(0,Fe.jsxs)("div",{className:"form-group",style:{marginBottom:"0"},children:[(0,Fe.jsx)("label",{style:{fontSize:"12px",marginBottom:"4px"},children:"I\u0161krovimo data"}),(0,Fe.jsx)("input",{type:"date",value:xt.unloading_date?xt.unloading_date.split("T")[0]:"",onChange:e=>vt((0,Ve.A)((0,Ve.A)({},xt),{},{unloading_date:e.target.value?"".concat(e.target.value,"T00:00"):""})),style:{width:"100%"}})]})]}),(0,Fe.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",marginBottom:"12px"},children:[(0,Fe.jsxs)("div",{style:{border:"1px solid #dee2e6",borderRadius:"4px",padding:"10px",backgroundColor:"#fff"},children:[(0,Fe.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[(0,Fe.jsx)("h4",{style:{margin:"0 0 0 0",fontSize:"14px",fontWeight:"bold",color:"#495057"},children:"\ud83d\udce6 Krovini\u0173 informacija"}),(0,Fe.jsx)("button",{type:"button",className:"button button-secondary",onClick:()=>{ct({sequence_order:ot.length,description:"",weight_kg:null,ldm:null,length_m:null,width_m:null,height_m:null,is_palletized:!1,is_stackable:!1,vehicle_type:null,requires_forklift:!1,requires_crane:!1,requires_special_equipment:!1,fragile:!1,hazardous:!1,temperature_controlled:!1,requires_permit:!1}),pt(null),mt(!0)},style:{padding:"3px 6px",fontSize:"10px",marginLeft:"6px"},children:"+ Prid\u0117ti krovin\u012f"})]}),ot.length>0?(0,Fe.jsx)("div",{style:{border:"1px solid #ddd",borderRadius:"4px",padding:"4px",backgroundColor:"white",maxHeight:"180px",overflowY:"auto"},children:ot.map((e,t)=>(0,Fe.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",padding:"6px",marginBottom:t<ot.length-1?"4px":"0",borderBottom:t<ot.length-1?"1px solid #eee":"none",backgroundColor:"#fafafa",borderRadius:"4px"},children:[(0,Fe.jsxs)("div",{style:{flex:1},children:[(0,Fe.jsxs)("div",{style:{fontWeight:"600",marginBottom:"4px",fontSize:"13px"},children:["Krovinys #",t+1,e.description&&(0,Fe.jsxs)("span",{style:{marginLeft:"8px",color:"#666",fontWeight:"normal"},children:["- ",e.description]})]}),(0,Fe.jsxs)("div",{style:{fontSize:"12px",color:"#666",display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"8px",marginTop:"6px"},children:[e.weight_kg&&(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("strong",{children:"Svoris:"})," ",e.weight_kg," kg"]}),e.ldm&&(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("strong",{children:"LDM:"})," ",e.ldm]}),e.length_m&&e.width_m&&e.height_m&&(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("strong",{children:"Matmenys:"})," ",e.length_m,"\xd7",e.width_m,"\xd7",e.height_m," m"]}),e.vehicle_type&&(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("strong",{children:"Ma\u0161inos tipas:"})," ",e.vehicle_type]}),(e.is_palletized||e.is_stackable)&&(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("strong",{children:"Savyb\u0117s:"})," ",e.is_palletized&&"Paletemis",e.is_palletized&&e.is_stackable&&", ",e.is_stackable&&"Stabeliuojamas"]}),(e.requires_forklift||e.requires_crane||e.fragile||e.hazardous)&&(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("strong",{children:"Papildoma:"})," ",[e.requires_forklift&&"Keltuvas",e.requires_crane&&"Kranas",e.fragile&&"Trapus",e.hazardous&&"Pavojingas"].filter(Boolean).join(", ")]})]})]}),(0,Fe.jsxs)("div",{style:{display:"flex",gap:"6px"},children:[(0,Fe.jsx)("button",{type:"button",className:"button button-secondary",onClick:()=>((e,t)=>{ct((0,Ve.A)({},e)),pt(t),mt(!0)})(e,t),style:{padding:"5px 10px",fontSize:"11px"},children:"Redaguoti"}),(0,Fe.jsx)("button",{type:"button",className:"button button-secondary",onClick:()=>{he({open:!0,title:"Patvirtinkite",message:"Ar tikrai norite pa\u0161alinti \u0161\u012f krovini\u0173 apra\u0161ym\u0105?",onConfirm:()=>{(e=>{const t=ot.filter((t,n)=>n!==e).map((e,t)=>(0,Ve.A)((0,Ve.A)({},e),{},{sequence_order:t}));lt(t)})(t),he({open:!1})}})},style:{padding:"5px 10px",fontSize:"11px",backgroundColor:"#dc3545",color:"white",border:"none"},children:"Trinti"})]})]},t))}):(0,Fe.jsx)("div",{style:{padding:"12px",textAlign:"center",color:"#999",border:"1px dashed #ddd",borderRadius:"8px",backgroundColor:"#fafafa"},children:"N\u0117ra prid\u0117t\u0173 krovini\u0173 apra\u0161ym\u0173"})]}),!1,(0,Fe.jsxs)("div",{style:{border:"1px solid #dee2e6",borderRadius:"4px",padding:"10px",backgroundColor:"#fff"},children:[(0,Fe.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[(0,Fe.jsx)("h4",{style:{margin:"0 0 0 0",fontSize:"14px",fontWeight:"bold",color:"#495057"},children:"\ud83d\ude9a Ve\u017e\u0117jai ir sand\u0117liai"}),(0,Fe.jsxs)("div",{style:{display:"flex",gap:"4px"},children:[(0,Fe.jsx)("button",{type:"button",className:"button button-secondary",onClick:()=>Lt("carrier"),style:{padding:"3px 6px",fontSize:"10px"},children:"+ Ve\u017e\u0117jas"}),(0,Fe.jsx)("button",{type:"button",className:"button button-secondary",onClick:()=>Lt("warehouse"),style:{padding:"3px 6px",fontSize:"10px"},children:"+ Sand\u0117lys"})]})]}),Ae.length>0?(0,Fe.jsx)("div",{style:{border:"1px solid #ddd",borderRadius:"4px",padding:"4px",backgroundColor:"#f9f9f9",maxHeight:"180px",overflowY:"auto"},children:Ae.map((e,t)=>(0,Fe.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"6px",marginBottom:t<Ae.length-1?"4px":"0",borderBottom:t<Ae.length-1?"1px solid #eee":"none",backgroundColor:"white",borderRadius:"4px"},children:[(0,Fe.jsxs)("div",{style:{flex:1},children:[(0,Fe.jsxs)("div",{style:{fontWeight:"600",marginBottom:"3px",fontSize:"13px"},children:[e.sequence_order+1,". ",e.carrier_type_display,": ",e.partner.name]}),(0,Fe.jsxs)("div",{style:{fontSize:"12px",color:"#666"},children:["Kaina: ",e.price_net?"".concat(parseFloat(e.price_net).toFixed(2)," EUR"):"Nenustatyta",e.route_from&&e.route_to&&(0,Fe.jsxs)("span",{style:{marginLeft:"8px"},children:["| ",e.route_from," \u2192 ",e.route_to]})]}),e.status_display&&(0,Fe.jsxs)("div",{style:{fontSize:"11px",color:"#999",marginTop:"2px"},children:["B\u016bkl\u0117: ",e.status_display]})]}),(0,Fe.jsxs)("div",{style:{display:"flex",gap:"6px"},children:[(0,Fe.jsx)("button",{type:"button",className:"button button-secondary",onClick:()=>((e,t)=>{Ee((0,Ve.A)((0,Ve.A)({},e),{},{price_net:e.price_net?"string"===typeof e.price_net?e.price_net:String(e.price_net):null,route_from:e.route_from||"",route_to:e.route_to||"",loading_date:e.loading_date||null,unloading_date:e.unloading_date||null,status:e.status||"new",status_display:e.status_display||"Naujas",payment_status:e.payment_status||"not_paid",payment_status_display:e.payment_status_display||"Neapmok\u0117ta",payment_date:e.payment_date||null,documents_status:e.documents_status||"not_received",documents_status_display:e.documents_status_display||"Negauta",payment_status_info:e.payment_status_info,invoice_issued:e.invoice_issued||!1,invoice_received:e.invoice_received||!1,notes:e.notes||""})),Ie(t),Me(e.carrier_type),We(e.partner.name),$e(e.partner.name),Ke([]),De(!0)})(e,t),style:{padding:"5px 10px",fontSize:"11px"},children:"Redaguoti"}),(0,Fe.jsx)("button",{type:"button",className:"button button-secondary",onClick:()=>(e=>{he({open:!0,title:"Patvirtinkite",message:"Ar tikrai norite pa\u0161alinti \u0161\u012f ve\u017e\u0117j\u0105/sand\u0117l\u012f?",onConfirm:()=>{Pe(Ae.filter((t,n)=>n!==e)),he({open:!1}),Bt.current=!1,setTimeout(()=>Mt(!0),100)}})})(t),style:{padding:"5px 10px",fontSize:"11px",backgroundColor:"#dc3545",color:"white",border:"none"},children:"Trinti"})]})]},t))}):(0,Fe.jsx)("div",{style:{padding:"12px",textAlign:"center",color:"#999",border:"1px dashed #ddd",borderRadius:"8px",backgroundColor:"#fafafa"},children:"N\u0117ra prid\u0117t\u0173 ve\u017e\u0117j\u0173 arba sand\u0117li\u0173"})]})]}),(0,Fe.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",marginBottom:"12px"},children:[(0,Fe.jsxs)("div",{style:{border:"1px solid #dee2e6",borderRadius:"4px",padding:"10px",backgroundColor:"#fff"},children:[(0,Fe.jsx)("h4",{style:{margin:"0 0 8px 0",fontSize:"14px",fontWeight:"bold",color:"#495057"},children:"\ud83d\udcb0 Kainos"}),(0,Fe.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[(0,Fe.jsxs)("div",{className:"form-group",style:{marginBottom:"0"},children:[(0,Fe.jsx)("label",{style:{fontSize:"12px",marginBottom:"4px"},children:"Kaina klientui (be PVM) *"}),(0,Fe.jsx)("input",{type:"number",step:"0.01",value:xt.client_price_net,onChange:e=>{const t=e.target.value;vt(e=>(0,Ve.A)((0,Ve.A)({},e),{},{client_price_net:t})),Bt.current=!1,setTimeout(()=>Mt(),50)},placeholder:"0.00",required:!0,style:{width:"100%"}})]}),(0,Fe.jsxs)("div",{className:"form-group",style:{marginBottom:"0"},children:[(0,Fe.jsx)("label",{style:{fontSize:"12px",marginBottom:"4px"},children:"PVM tarifas *"}),(0,Fe.jsxs)("select",{value:(null===(e=ht.find(e=>e.rate===xt.vat_rate&&e.article===xt.vat_rate_article))||void 0===e?void 0:e.id)||"",onChange:e=>{const t=ht.find(t=>t.id===parseInt(e.target.value));t&&vt((0,Ve.A)((0,Ve.A)({},xt),{},{vat_rate:t.rate,vat_rate_article:t.article||""}))},required:!0,style:{width:"100%",padding:"6px 8px",fontSize:"12px",border:"1px solid #ccc",borderRadius:"4px"},children:[(0,Fe.jsx)("option",{value:"",children:"-- Pasirinkite PVM tarif\u0105 --"}),ht.map(e=>(0,Fe.jsxs)("option",{value:e.id,children:[e.rate,"%",e.article?" - ".concat(e.article):""]},e.id))]}),xt.vat_rate_article&&(0,Fe.jsxs)("small",{style:{color:"#666",fontSize:"11px",display:"block",marginTop:"3px"},children:["Straipsnis: ",xt.vat_rate_article]}),0===ht.length&&(0,Fe.jsx)("small",{style:{color:"#dc3545",fontSize:"11px",display:"block",marginTop:"3px"},children:"PVM tarif\u0173 n\u0117ra. Pra\u0161ome prid\u0117ti nustatymuose."})]}),(0,Fe.jsxs)("div",{className:"form-group",style:{marginBottom:"0"},children:[(0,Fe.jsx)("label",{style:{fontSize:"12px",marginBottom:"4px"},children:"Perve\u017eimo/sand\u0117liavimo i\u0161laidos (be PVM):"}),(0,Fe.jsx)("input",{type:"text",value:(()=>{const e=Ae.reduce((e,t)=>e+(t.price_net?parseFloat(String(t.price_net)):0),0);return"".concat(e.toFixed(2)," EUR")})(),disabled:!0,style:{width:"100%",backgroundColor:"#f9f9f9",cursor:"not-allowed"}})]}),(0,Fe.jsxs)("div",{className:"form-group",style:{marginBottom:"0"},children:[(0,Fe.jsx)("label",{style:{fontSize:"12px",marginBottom:"4px"},children:"Kitos i\u0161laidos:"}),(0,Fe.jsx)("input",{type:"text",value:(()=>{const e=xt.other_costs.reduce((e,t)=>e+("number"===typeof t.amount?t.amount:parseFloat(String(t.amount))||0),0);return"".concat(e.toFixed(2)," EUR")})(),disabled:!0,style:{width:"100%",backgroundColor:"#f9f9f9",cursor:"not-allowed"}})]}),(0,Fe.jsxs)("div",{className:"form-group",style:{marginBottom:"0"},children:[(0,Fe.jsxs)("label",{style:{fontSize:"12px",marginBottom:"4px"},children:["Pelnas (be PVM):",(0,Fe.jsx)("span",{style:{fontSize:"10px",color:"#666",fontWeight:"normal",marginLeft:"6px"},children:"(auto)"})]}),(0,Fe.jsx)("input",{type:"number",step:"0.01",value:xt.my_price_net,onChange:e=>{const t=e.target.value;vt(e=>(0,Ve.A)((0,Ve.A)({},e),{},{my_price_net:t})),Bt.current=!!t},placeholder:"0.00",readOnly:!Bt.current,style:(0,Ve.A)({width:"100%"},Bt.current?{}:{backgroundColor:"#f9f9f9",cursor:"not-allowed"})}),(0,Fe.jsx)("small",{style:{color:"#666",fontSize:"10px",display:"block",marginTop:"3px"},children:"Automati\u0161kai: Kaina klientui - Visos i\u0161laidos (ve\u017e\u0117j\u0173 kainos + kitos i\u0161laidos)"})]})]})]}),(0,Fe.jsxs)("div",{style:{border:"1px solid #dee2e6",borderRadius:"4px",padding:"10px",backgroundColor:"#fff"},children:[(0,Fe.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[(0,Fe.jsx)("h4",{style:{margin:"0 0 0 0",fontSize:"14px",fontWeight:"bold",color:"#495057"},children:"\ud83d\udcb8 Kitos i\u0161laidos"}),(0,Fe.jsx)("button",{type:"button",className:"button button-secondary",onClick:()=>{_t({description:"",amount:""}),jt(null)},style:{padding:"4px 8px",fontSize:"12px"},children:"+ Prid\u0117ti i\u0161laid\u0105"})]}),xt.other_costs.length>0&&(0,Fe.jsx)("div",{style:{border:"1px solid #ddd",borderRadius:"4px",padding:"4px",backgroundColor:"white",marginBottom:"4px",maxHeight:"120px",overflowY:"auto"},children:xt.other_costs.map((e,t)=>(0,Fe.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"6px",marginBottom:t<xt.other_costs.length-1?"4px":"0",borderBottom:t<xt.other_costs.length-1?"1px solid #eee":"none",backgroundColor:"#fafafa",borderRadius:"4px"},children:[(0,Fe.jsxs)("div",{style:{flex:1},children:[(0,Fe.jsx)("div",{style:{fontWeight:"500",marginBottom:"3px"},children:e.description}),(0,Fe.jsxs)("div",{style:{fontSize:"13px",color:"#666"},children:["number"===typeof e.amount?e.amount.toFixed(2):parseFloat(String(e.amount)).toFixed(2)," EUR"]})]}),(0,Fe.jsxs)("div",{style:{display:"flex",gap:"6px"},children:[(0,Fe.jsx)("button",{type:"button",className:"button button-secondary",onClick:()=>{_t({description:e.description,amount:String(e.amount)}),jt(t)},style:{padding:"4px 8px",fontSize:"12px"},children:"Redaguoti"}),(0,Fe.jsx)("button",{type:"button",className:"button button-secondary",onClick:()=>{const e=[...xt.other_costs];e.splice(t,1),vt((0,Ve.A)((0,Ve.A)({},xt),{},{other_costs:e})),Bt.current=!1,setTimeout(()=>Mt(!0),50)},style:{padding:"4px 8px",fontSize:"12px",backgroundColor:"#dc3545",color:"white",border:"none"},children:"Trinti"})]})]},t))}),xt.other_costs.length>0&&(0,Fe.jsxs)("div",{style:{textAlign:"right",fontSize:"14px",fontWeight:"500",color:"#666",marginTop:"8px"},children:["I\u0161 viso kit\u0173 i\u0161laid\u0173: ",xt.other_costs.reduce((e,t)=>e+("number"===typeof t.amount?t.amount:parseFloat(String(t.amount))||0),0).toFixed(2)," EUR"]})]})]}),(0,Fe.jsx)("div",{style:{marginBottom:"12px"},children:(0,Fe.jsxs)("div",{className:"form-group",style:{marginBottom:"0"},children:[(0,Fe.jsx)("label",{style:{fontSize:"12px",marginBottom:"4px"},children:"Pastabos"}),(0,Fe.jsx)("textarea",{value:xt.notes,onChange:e=>vt((0,Ve.A)((0,Ve.A)({},xt),{},{notes:e.target.value})),rows:_?3:4,style:{width:"100%",resize:"vertical"}})]})}),(0,Fe.jsxs)("div",{style:{display:"flex",gap:"8px",justifyContent:"flex-end",marginTop:"12px",paddingTop:"12px",borderTop:"1px solid #dee2e6"},children:[(0,Fe.jsx)("button",{type:"button",className:"button button-secondary",onClick:()=>{y(!1),b(!1),Wt()},style:{padding:"8px 16px",fontSize:"13px"},children:"At\u0161aukti"}),(0,Fe.jsx)("button",{type:"submit",className:"button",style:{padding:"8px 16px",fontSize:"13px"},children:_?"I\u0161saugoti":"Sukurti"})]})]})})]})}),ft&&dt&&(0,Fe.jsx)("div",{className:"modal-overlay",onClick:()=>{mt(!1),ct(null)},children:(0,Fe.jsxs)("div",{className:"modal-content",style:{maxWidth:"900px",maxHeight:"95vh",overflowY:"auto"},onClick:e=>e.stopPropagation(),children:[(0,Fe.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[(0,Fe.jsxs)("h3",{style:{margin:0},children:[null!==ut?"Redaguoti":"Prid\u0117ti"," krovin\u012f"]}),(0,Fe.jsx)("button",{onClick:()=>{mt(!1),ct(null),pt(null)},style:{background:"none",border:"none",fontSize:"24px",color:"#999",cursor:"pointer"},children:"\xd7"})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Apra\u0161ymas"}),(0,Fe.jsx)("input",{type:"text",value:dt.description||"",onChange:e=>ct((0,Ve.A)((0,Ve.A)({},dt),{},{description:e.target.value})),placeholder:"Trumpas krovini\u0173 apra\u0161ymas..."})]}),(0,Fe.jsx)("div",{className:"form-row",children:(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Ma\u0161inos tipas"}),(0,Fe.jsxs)("div",{style:{position:"relative"},children:[(0,Fe.jsx)("input",{type:"text",value:dt.vehicle_type||"",onChange:e=>{ct((0,Ve.A)((0,Ve.A)({},dt),{},{vehicle_type:e.target.value})),st(e.target.value.length>0||nt.length>0)},onFocus:async()=>{0===nt.length&&await Tt(),nt.length>0&&st(!0)},onBlur:async()=>{dt.vehicle_type&&(await wt(dt.vehicle_type),await Tt()),setTimeout(()=>st(!1),200)},placeholder:"Pvz: Sunkve\u017eimis, Furgonas..."}),it&&nt.length>0&&(0,Fe.jsx)("div",{className:"client-dropdown",style:{maxHeight:"200px",overflowY:"auto",zIndex:2e3},children:nt.filter(e=>{const t=(dt.vehicle_type||"").toLowerCase();return!t||e.toLowerCase().includes(t)}).slice(0,10).map((e,t)=>(0,Fe.jsx)("div",{className:"client-dropdown-item",onClick:()=>{ct((0,Ve.A)((0,Ve.A)({},dt),{},{vehicle_type:e})),st(!1)},children:e},t))})]})]})}),(0,Fe.jsxs)("div",{className:"form-row-4",children:[(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Svoris (kg)"}),(0,Fe.jsx)("input",{type:"number",step:"0.01",value:dt.weight_kg||"",onChange:e=>ct((0,Ve.A)((0,Ve.A)({},dt),{},{weight_kg:e.target.value?parseFloat(e.target.value):null})),placeholder:"0.00"})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"LDM"}),(0,Fe.jsx)("input",{type:"number",step:"0.01",value:dt.ldm||"",onChange:e=>ct((0,Ve.A)((0,Ve.A)({},dt),{},{ldm:e.target.value?parseFloat(e.target.value):null})),placeholder:"0.00"})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Ilgis (m)"}),(0,Fe.jsx)("input",{type:"number",step:"0.01",value:dt.length_m||"",onChange:e=>ct((0,Ve.A)((0,Ve.A)({},dt),{},{length_m:e.target.value?parseFloat(e.target.value):null})),placeholder:"0.00"})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Plotis (m)"}),(0,Fe.jsx)("input",{type:"number",step:"0.01",value:dt.width_m||"",onChange:e=>ct((0,Ve.A)((0,Ve.A)({},dt),{},{width_m:e.target.value?parseFloat(e.target.value):null})),placeholder:"0.00"})]})]}),(0,Fe.jsx)("div",{className:"form-row-4",children:(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Auk\u0161tis (m)"}),(0,Fe.jsx)("input",{type:"number",step:"0.01",value:dt.height_m||"",onChange:e=>ct((0,Ve.A)((0,Ve.A)({},dt),{},{height_m:e.target.value?parseFloat(e.target.value):null})),placeholder:"0.00"})]})}),(0,Fe.jsxs)("div",{className:"form-row-4",children:[(0,Fe.jsx)("div",{className:"form-group",children:(0,Fe.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[(0,Fe.jsx)("input",{type:"checkbox",checked:dt.is_palletized||!1,onChange:e=>ct((0,Ve.A)((0,Ve.A)({},dt),{},{is_palletized:e.target.checked})),style:{width:"18px",height:"18px",cursor:"pointer"}}),(0,Fe.jsx)("span",{children:"Paletemis"})]})}),(0,Fe.jsx)("div",{className:"form-group",children:(0,Fe.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[(0,Fe.jsx)("input",{type:"checkbox",checked:dt.is_stackable||!1,onChange:e=>ct((0,Ve.A)((0,Ve.A)({},dt),{},{is_stackable:e.target.checked})),style:{width:"18px",height:"18px",cursor:"pointer"}}),(0,Fe.jsx)("span",{children:"Stabeliuojamas"})]})})]}),(0,Fe.jsxs)("div",{style:{marginTop:"15px",paddingTop:"15px",borderTop:"1px solid #ddd"},children:[(0,Fe.jsx)("h4",{style:{marginBottom:"10px",fontSize:"13px",fontWeight:"600"},children:"Papildomos savyb\u0117s"}),(0,Fe.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"10px"},children:[(0,Fe.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[(0,Fe.jsx)("input",{type:"checkbox",checked:dt.requires_forklift||!1,onChange:e=>ct((0,Ve.A)((0,Ve.A)({},dt),{},{requires_forklift:e.target.checked})),style:{width:"18px",height:"18px",cursor:"pointer"}}),(0,Fe.jsx)("span",{children:"Reikalingas keltuvas"})]}),(0,Fe.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[(0,Fe.jsx)("input",{type:"checkbox",checked:dt.requires_crane||!1,onChange:e=>ct((0,Ve.A)((0,Ve.A)({},dt),{},{requires_crane:e.target.checked})),style:{width:"18px",height:"18px",cursor:"pointer"}}),(0,Fe.jsx)("span",{children:"Reikalingas kranas"})]}),(0,Fe.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[(0,Fe.jsx)("input",{type:"checkbox",checked:dt.requires_special_equipment||!1,onChange:e=>ct((0,Ve.A)((0,Ve.A)({},dt),{},{requires_special_equipment:e.target.checked})),style:{width:"18px",height:"18px",cursor:"pointer"}}),(0,Fe.jsx)("span",{children:"Speciali \u012franga"})]}),(0,Fe.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[(0,Fe.jsx)("input",{type:"checkbox",checked:dt.fragile||!1,onChange:e=>ct((0,Ve.A)((0,Ve.A)({},dt),{},{fragile:e.target.checked})),style:{width:"18px",height:"18px",cursor:"pointer"}}),(0,Fe.jsx)("span",{children:"Trapus"})]}),(0,Fe.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[(0,Fe.jsx)("input",{type:"checkbox",checked:dt.hazardous||!1,onChange:e=>ct((0,Ve.A)((0,Ve.A)({},dt),{},{hazardous:e.target.checked})),style:{width:"18px",height:"18px",cursor:"pointer"}}),(0,Fe.jsx)("span",{children:"Pavojingas"})]}),(0,Fe.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[(0,Fe.jsx)("input",{type:"checkbox",checked:dt.temperature_controlled||!1,onChange:e=>ct((0,Ve.A)((0,Ve.A)({},dt),{},{temperature_controlled:e.target.checked})),style:{width:"18px",height:"18px",cursor:"pointer"}}),(0,Fe.jsx)("span",{children:"Temperat\u016bros kontrol\u0117"})]}),(0,Fe.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[(0,Fe.jsx)("input",{type:"checkbox",checked:dt.requires_permit||!1,onChange:e=>ct((0,Ve.A)((0,Ve.A)({},dt),{},{requires_permit:e.target.checked})),style:{width:"18px",height:"18px",cursor:"pointer"}}),(0,Fe.jsx)("span",{children:"Reikalingas leidimas"})]})]})]}),(0,Fe.jsxs)("div",{style:{display:"flex",gap:"10px",marginTop:"20px"},children:[(0,Fe.jsx)("button",{type:"button",className:"button",onClick:Ut,children:"I\u0161saugoti"}),(0,Fe.jsx)("button",{type:"button",className:"button button-secondary",onClick:()=>{mt(!1),ct(null),pt(null)},children:"At\u0161aukti"})]})]})}),Oe&&(0,Fe.jsx)("div",{className:"modal-overlay",onClick:()=>{De(!1),Ee(null),We("")},children:(0,Fe.jsxs)("div",{className:"modal-content",style:{maxWidth:"600px"},onClick:e=>e.stopPropagation(),children:[(0,Fe.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[(0,Fe.jsxs)("h3",{style:{margin:0},children:[null!==Te&&void 0!==Te&&Te.id?"Redaguoti":"Prid\u0117ti"," ","carrier"===Le?"ve\u017e\u0117j\u0105":"sand\u0117l\u012f"]}),(0,Fe.jsx)("button",{onClick:()=>{De(!1),Ee(null),Ie(null),We(""),$e("")},style:{background:"none",border:"none",fontSize:"24px",color:"#999",cursor:"pointer"},children:"\xd7"})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Partneris *"}),(0,Fe.jsxs)("div",{style:{position:"relative"},children:[(0,Fe.jsx)("input",{type:"text",placeholder:"Ie\u0161koti partnerio (\u012fveskite bent 2 simbolius)...",value:Ue,onChange:e=>We(e.target.value),required:!0}),qe.length>0&&(0,Fe.jsx)("div",{className:"client-dropdown",children:qe.map(e=>(0,Fe.jsxs)("div",{className:"client-dropdown-item",onClick:()=>(e=>{Ee(Te?(0,Ve.A)((0,Ve.A)({},Te),{},{partner:e,partner_id:e.id}):{partner:e,partner_id:e.id,carrier_type:Le,carrier_type_display:"carrier"===Le?"Ve\u017e\u0117jas":"Sand\u0117lys",sequence_order:Ae.length,price_net:null,price_with_vat:null,vat_amount:null,route_from:"",route_to:"",loading_date:null,unloading_date:null,status:"new",status_display:"Naujas",invoice_issued:!1,invoice_received:!1,payment_status:"not_paid",payment_status_display:"Neapmok\u0117ta",payment_date:null,documents_status:"not_received",documents_status_display:"Negauta",notes:""}),We(e.name),$e(e.name),Ke([])})(e),children:[e.name," (",e.code,")"]},e.id))})]})]}),Te&&(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Kaina be PVM"}),(0,Fe.jsx)("input",{type:"number",step:"0.01",value:Te.price_net?"string"===typeof Te.price_net?Te.price_net:String(Te.price_net):"",onChange:e=>{const t=e.target.value;Ee((0,Ve.A)((0,Ve.A)({},Te),{},{price_net:""===t?null:t})),Bt.current=!1,setTimeout(()=>Mt(!0),50)}})]}),(0,Fe.jsxs)("div",{className:"form-row",children:[(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Mar\u0161rutas i\u0161"}),(0,Fe.jsxs)("div",{style:{position:"relative"},children:[(0,Fe.jsx)("input",{type:"text",value:Te.route_from||"",onChange:e=>{Ee((0,Ve.A)((0,Ve.A)({},Te),{},{route_from:e.target.value})),Ze(e.target.value.length>0)},onFocus:()=>Ze((Te.route_from||"").length>0),onBlur:()=>setTimeout(()=>Ze(!1),200)}),Xe&&Ye.length>0&&(0,Fe.jsx)("div",{className:"client-dropdown",style:{maxHeight:"200px",overflowY:"auto"},children:Ye.filter(e=>e.toLowerCase().includes((Te.route_from||"").toLowerCase())).slice(0,10).map((e,t)=>(0,Fe.jsx)("div",{className:"client-dropdown-item",onClick:()=>{Ee((0,Ve.A)((0,Ve.A)({},Te),{},{route_from:e})),Ze(!1)},children:e},t))})]})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Mar\u0161rutas \u012f"}),(0,Fe.jsxs)("div",{style:{position:"relative"},children:[(0,Fe.jsx)("input",{type:"text",value:Te.route_to||"",onChange:async e=>{const t=e.target.value;Ee((0,Ve.A)((0,Ve.A)({},Te),{},{route_to:t})),tt(t.length>0),await Tt()},onFocus:async()=>{await Tt(),tt((Te.route_to||"").length>0)},onBlur:async()=>{null!==Te&&void 0!==Te&&Te.route_to&&(await(async e=>{if(e&&e.trim())try{const t=await ze.api.get("/orders/cities/",{params:{search:e.trim()}});(t.data.results||t.data||[]).some(t=>t.name.toLowerCase()===e.trim().toLowerCase())||await ze.api.post("/orders/cities/",{name:e.trim()})}catch(t){}})(Te.route_to),await Tt()),setTimeout(()=>tt(!1),200)}}),et&&Je.length>0&&(0,Fe.jsx)("div",{className:"client-dropdown",style:{maxHeight:"200px",overflowY:"auto"},children:Je.filter(e=>e.toLowerCase().includes((Te.route_to||"").toLowerCase())).slice(0,10).map((e,t)=>(0,Fe.jsx)("div",{className:"client-dropdown-item",onClick:()=>{Ee((0,Ve.A)((0,Ve.A)({},Te),{},{route_to:e})),tt(!1)},children:e},t))})]})]})]}),(0,Fe.jsxs)("div",{className:"form-row",children:[(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Pakrovimo data"}),(0,Fe.jsx)("input",{type:"date",value:Te.loading_date?Te.loading_date.split("T")[0]:"",onChange:e=>Ee((0,Ve.A)((0,Ve.A)({},Te),{},{loading_date:e.target.value?"".concat(e.target.value,"T00:00"):null}))})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"I\u0161krovimo data"}),(0,Fe.jsx)("input",{type:"date",value:Te.unloading_date?Te.unloading_date.split("T")[0]:"",onChange:e=>Ee((0,Ve.A)((0,Ve.A)({},Te),{},{unloading_date:e.target.value?"".concat(e.target.value,"T00:00"):null}))})]})]}),(0,Fe.jsxs)("div",{className:"form-row",children:[(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Ve\u017eimo/sand\u0117lio b\u016bkl\u0117"}),(0,Fe.jsxs)("select",{value:Te.status,onChange:e=>Ee((0,Ve.A)((0,Ve.A)({},Te),{},{status:e.target.value,status_display:"new"===e.target.value?"Naujas":"in_progress"===e.target.value?"Vykdomas":"completed"===e.target.value?"Baigtas":"At\u0161auktas"})),children:[(0,Fe.jsx)("option",{value:"new",children:"Naujas"}),(0,Fe.jsx)("option",{value:"in_progress",children:"Vykdomas"}),(0,Fe.jsx)("option",{value:"completed",children:"Baigtas"}),(0,Fe.jsx)("option",{value:"cancelled",children:"At\u0161auktas"})]})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Mok\u0117jimo b\u016bkl\u0117"}),(0,Fe.jsxs)("select",{value:Te.payment_status,onChange:e=>Ee((0,Ve.A)((0,Ve.A)({},Te),{},{payment_status:e.target.value,payment_status_display:"not_paid"===e.target.value?"Neapmok\u0117ta":"partially_paid"===e.target.value?"Dalinai apmok\u0117ta":"Apmok\u0117ta"})),children:[(0,Fe.jsx)("option",{value:"not_paid",children:"Neapmok\u0117ta"}),(0,Fe.jsx)("option",{value:"partially_paid",children:"Dalinai apmok\u0117ta"}),(0,Fe.jsx)("option",{value:"paid",children:"Apmok\u0117ta"})]})]})]}),(0,Fe.jsxs)("div",{className:"form-row",children:[(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Apmok\u0117jimo data"}),(0,Fe.jsx)("input",{type:"date",value:Te.payment_date?Te.payment_date.substring(0,10):"",onChange:e=>Ee((0,Ve.A)((0,Ve.A)({},Te),{},{payment_date:e.target.value||null}))})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Dokument\u0173 statusas"}),(0,Fe.jsxs)("select",{value:Te.documents_status||"not_received",onChange:e=>Ee((0,Ve.A)((0,Ve.A)({},Te),{},{documents_status:e.target.value,documents_status_display:"received"===e.target.value?"Gauta":"waiting"===e.target.value?"Laukiama":"Negauta"})),children:[(0,Fe.jsx)("option",{value:"not_received",children:"Negauta"}),(0,Fe.jsx)("option",{value:"waiting",children:"Laukiama"}),(0,Fe.jsx)("option",{value:"received",children:"Gauta"})]})]})]}),(0,Fe.jsxs)("div",{style:{marginTop:"20px",borderTop:"1px solid #ddd",paddingTop:"15px"},children:[(0,Fe.jsx)("h4",{style:{marginBottom:"15px",fontSize:"14px"},children:"S\u0105skait\u0173 statusas"}),(0,Fe.jsxs)("div",{className:"form-row",children:[(0,Fe.jsx)("div",{className:"form-group",children:(0,Fe.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,Fe.jsx)("input",{type:"checkbox",checked:Te.invoice_issued,onChange:e=>Ee((0,Ve.A)((0,Ve.A)({},Te),{},{invoice_issued:e.target.checked}))}),(0,Fe.jsx)("span",{children:"I\u0161ra\u0161yta s\u0105skaita"})]})}),(0,Fe.jsx)("div",{className:"form-group",children:(0,Fe.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,Fe.jsx)("input",{type:"checkbox",checked:Te.invoice_received,onChange:e=>Ee((0,Ve.A)((0,Ve.A)({},Te),{},{invoice_received:e.target.checked}))}),(0,Fe.jsx)("span",{children:"Gauta s\u0105skaita"})]})})]})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Pastabos"}),(0,Fe.jsx)("textarea",{value:Te.notes||"",onChange:e=>Ee((0,Ve.A)((0,Ve.A)({},Te),{},{notes:e.target.value})),rows:3})]})]}),(0,Fe.jsxs)("div",{style:{display:"flex",gap:"10px",marginTop:"20px"},children:[(0,Fe.jsx)("button",{type:"button",className:"button",onClick:()=>{var e;if(!Te)return void alert("Pasirinkite partner\u012f");if(!Te.partner_id&&null!==(e=Te.partner)&&void 0!==e&&e.id&&(Te.partner_id=Te.partner.id),!Te.partner_id)return void alert("Pasirinkite partner\u012f");let t;var n,a;null!==Re&&Re>=0&&Re<Ae.length?(t=[...Ae],t[Re]=(0,Ve.A)((0,Ve.A)({},Te),{},{partner_id:Te.partner_id||(null===(n=Te.partner)||void 0===n?void 0:n.id)||0,sequence_order:Re})):t=[...Ae,(0,Ve.A)((0,Ve.A)({},Te),{},{partner_id:Te.partner_id||(null===(a=Te.partner)||void 0===a?void 0:a.id)||0,sequence_order:Ae.length})];Pe(t),De(!1),Ee(null),Ie(null),We(""),Bt.current=!1;const r=xt.client_price_net?parseFloat(xt.client_price_net):0;if(r>0){const e=r-t.reduce((e,t)=>e+(t.price_net?parseFloat(String(t.price_net)):0),0)-xt.other_costs.reduce((e,t)=>e+("number"===typeof t.amount?t.amount:parseFloat(String(t.amount))||0),0);vt(t=>(0,Ve.A)((0,Ve.A)({},t),{},{my_price_net:e.toFixed(2)}))}setTimeout(()=>Mt(!0),100)},disabled:!Te||!Te.partner_id,children:"I\u0161saugoti"}),(0,Fe.jsx)("button",{type:"button",className:"button button-secondary",onClick:()=>{De(!1),Ee(null),Ie(null),We(""),$e("")},children:"At\u0161aukti"})]})]})}),ft&&dt&&(0,Fe.jsx)("div",{className:"modal-overlay",onClick:()=>{mt(!1),ct(null),pt(null)},children:(0,Fe.jsxs)("div",{className:"modal-content",style:{maxWidth:"900px",maxHeight:"95vh",overflowY:"auto"},onClick:e=>e.stopPropagation(),children:[(0,Fe.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[(0,Fe.jsxs)("h3",{style:{margin:0},children:[null!==ut?"Redaguoti":"Prid\u0117ti"," krovinio apra\u0161ym\u0105"]}),(0,Fe.jsx)("button",{onClick:()=>{mt(!1),ct(null),pt(null)},style:{background:"none",border:"none",fontSize:"24px",color:"#999",cursor:"pointer"},children:"\xd7"})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Apra\u0161ymas"}),(0,Fe.jsx)("input",{type:"text",value:dt.description||"",onChange:e=>ct((0,Ve.A)((0,Ve.A)({},dt),{},{description:e.target.value})),placeholder:"Trumpas krovini\u0173 apra\u0161ymas"})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Ma\u0161inos tipas"}),(0,Fe.jsxs)("div",{style:{position:"relative"},children:[(0,Fe.jsx)("input",{type:"text",value:dt.vehicle_type||"",onChange:e=>ct((0,Ve.A)((0,Ve.A)({},dt),{},{vehicle_type:e.target.value})),onFocus:async()=>{0===nt.length&&await Tt(),nt.length>0&&st(!0)},onBlur:async()=>{dt.vehicle_type&&(await wt(dt.vehicle_type),await Tt()),setTimeout(()=>st(!1),200)},placeholder:"Pvz: Sunkve\u017eimis, Furgonas..."}),it&&nt.length>0&&(0,Fe.jsx)("div",{className:"client-dropdown",style:{maxHeight:"200px",overflowY:"auto",zIndex:2e3},children:nt.filter(e=>{const t=(dt.vehicle_type||"").toLowerCase();return!t||e.toLowerCase().includes(t)}).slice(0,10).map((e,t)=>(0,Fe.jsx)("div",{className:"client-dropdown-item",onClick:()=>{ct((0,Ve.A)((0,Ve.A)({},dt),{},{vehicle_type:e})),st(!1)},children:e},t))})]})]}),(0,Fe.jsxs)("div",{className:"form-row-4",children:[(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Svoris (kg)"}),(0,Fe.jsx)("input",{type:"number",step:"0.01",value:dt.weight_kg||"",onChange:e=>ct((0,Ve.A)((0,Ve.A)({},dt),{},{weight_kg:e.target.value?parseFloat(e.target.value):null})),placeholder:"0.00"})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"LDM"}),(0,Fe.jsx)("input",{type:"number",step:"0.01",value:dt.ldm||"",onChange:e=>ct((0,Ve.A)((0,Ve.A)({},dt),{},{ldm:e.target.value?parseFloat(e.target.value):null})),placeholder:"0.00"})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Ilgis (m)"}),(0,Fe.jsx)("input",{type:"number",step:"0.01",value:dt.length_m||"",onChange:e=>ct((0,Ve.A)((0,Ve.A)({},dt),{},{length_m:e.target.value?parseFloat(e.target.value):null})),placeholder:"0.00"})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Plotis (m)"}),(0,Fe.jsx)("input",{type:"number",step:"0.01",value:dt.width_m||"",onChange:e=>ct((0,Ve.A)((0,Ve.A)({},dt),{},{width_m:e.target.value?parseFloat(e.target.value):null})),placeholder:"0.00"})]})]}),(0,Fe.jsxs)("div",{className:"form-row-4",style:{marginTop:"8px"},children:[(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Auk\u0161tis (m)"}),(0,Fe.jsx)("input",{type:"number",step:"0.01",value:dt.height_m||"",onChange:e=>ct((0,Ve.A)((0,Ve.A)({},dt),{},{height_m:e.target.value?parseFloat(e.target.value):null})),placeholder:"0.00"})]}),(0,Fe.jsx)("div",{className:"form-group"}),(0,Fe.jsx)("div",{className:"form-group"}),(0,Fe.jsx)("div",{className:"form-group"})]}),(0,Fe.jsxs)("div",{className:"form-row-4",style:{marginTop:"10px"},children:[(0,Fe.jsx)("div",{className:"form-group",children:(0,Fe.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[(0,Fe.jsx)("input",{type:"checkbox",checked:dt.is_palletized||!1,onChange:e=>ct((0,Ve.A)((0,Ve.A)({},dt),{},{is_palletized:e.target.checked})),style:{width:"18px",height:"18px",cursor:"pointer"}}),(0,Fe.jsx)("span",{children:"Paletemis"})]})}),(0,Fe.jsx)("div",{className:"form-group",children:(0,Fe.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[(0,Fe.jsx)("input",{type:"checkbox",checked:dt.is_stackable||!1,onChange:e=>ct((0,Ve.A)((0,Ve.A)({},dt),{},{is_stackable:e.target.checked})),style:{width:"18px",height:"18px",cursor:"pointer"}}),(0,Fe.jsx)("span",{children:"Stabeliuojamas"})]})}),(0,Fe.jsx)("div",{className:"form-group",children:(0,Fe.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[(0,Fe.jsx)("input",{type:"checkbox",checked:dt.requires_forklift||!1,onChange:e=>ct((0,Ve.A)((0,Ve.A)({},dt),{},{requires_forklift:e.target.checked})),style:{width:"18px",height:"18px",cursor:"pointer"}}),(0,Fe.jsx)("span",{children:"Reikalingas keltuvas"})]})}),(0,Fe.jsx)("div",{className:"form-group",children:(0,Fe.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[(0,Fe.jsx)("input",{type:"checkbox",checked:dt.requires_crane||!1,onChange:e=>ct((0,Ve.A)((0,Ve.A)({},dt),{},{requires_crane:e.target.checked})),style:{width:"18px",height:"18px",cursor:"pointer"}}),(0,Fe.jsx)("span",{children:"Reikalingas kranas"})]})})]}),(0,Fe.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"8px",marginTop:"10px"},children:[(0,Fe.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"10px",padding:"8px",borderRadius:"4px",backgroundColor:dt.requires_special_equipment?"#e7f3ff":"#f8f9fa",cursor:"pointer",transition:"background-color 0.2s"},children:[(0,Fe.jsx)("input",{type:"checkbox",checked:dt.requires_special_equipment||!1,onChange:e=>ct((0,Ve.A)((0,Ve.A)({},dt),{},{requires_special_equipment:e.target.checked})),style:{width:"18px",height:"18px",cursor:"pointer"}}),(0,Fe.jsx)("span",{style:{fontSize:"14px"},children:"Reikalinga speciali \u012franga"})]}),(0,Fe.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"10px",padding:"8px",borderRadius:"4px",backgroundColor:dt.fragile?"#f8d7da":"#f8f9fa",cursor:"pointer",transition:"background-color 0.2s"},children:[(0,Fe.jsx)("input",{type:"checkbox",checked:dt.fragile||!1,onChange:e=>ct((0,Ve.A)((0,Ve.A)({},dt),{},{fragile:e.target.checked})),style:{width:"18px",height:"18px",cursor:"pointer"}}),(0,Fe.jsx)("span",{style:{fontSize:"14px"},children:"Trapus"})]}),(0,Fe.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"10px",padding:"8px",borderRadius:"4px",backgroundColor:dt.hazardous?"#f8d7da":"#f8f9fa",cursor:"pointer",transition:"background-color 0.2s"},children:[(0,Fe.jsx)("input",{type:"checkbox",checked:dt.hazardous||!1,onChange:e=>ct((0,Ve.A)((0,Ve.A)({},dt),{},{hazardous:e.target.checked})),style:{width:"18px",height:"18px",cursor:"pointer"}}),(0,Fe.jsx)("span",{style:{fontSize:"14px"},children:"Pavojingas"})]}),(0,Fe.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"10px",padding:"8px",borderRadius:"4px",backgroundColor:dt.temperature_controlled?"#d1ecf1":"#f8f9fa",cursor:"pointer",transition:"background-color 0.2s"},children:[(0,Fe.jsx)("input",{type:"checkbox",checked:dt.temperature_controlled||!1,onChange:e=>ct((0,Ve.A)((0,Ve.A)({},dt),{},{temperature_controlled:e.target.checked})),style:{width:"18px",height:"18px",cursor:"pointer"}}),(0,Fe.jsx)("span",{style:{fontSize:"14px"},children:"Temperat\u016bros kontrol\u0117"})]}),(0,Fe.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"10px",padding:"8px",borderRadius:"4px",backgroundColor:dt.requires_permit?"#fff3cd":"#f8f9fa",cursor:"pointer",transition:"background-color 0.2s"},children:[(0,Fe.jsx)("input",{type:"checkbox",checked:dt.requires_permit||!1,onChange:e=>ct((0,Ve.A)((0,Ve.A)({},dt),{},{requires_permit:e.target.checked})),style:{width:"18px",height:"18px",cursor:"pointer"}}),(0,Fe.jsx)("span",{style:{fontSize:"14px"},children:"Reikalingas leidimas"})]})]}),(0,Fe.jsxs)("div",{style:{display:"flex",gap:"10px",marginTop:"20px"},children:[(0,Fe.jsx)("button",{type:"button",className:"button",onClick:Ut,children:"I\u0161saugoti"}),(0,Fe.jsx)("button",{type:"button",className:"button button-secondary",onClick:()=>{mt(!1),ct(null),pt(null)},children:"At\u0161aukti"})]})]})}),null!==yt&&(0,Fe.jsx)("div",{className:"modal-overlay",onClick:()=>{_t(null),jt(null)},children:(0,Fe.jsxs)("div",{className:"modal-content",style:{maxWidth:"500px"},onClick:e=>e.stopPropagation(),children:[(0,Fe.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[(0,Fe.jsxs)("h3",{style:{margin:0},children:[null!==bt?"Redaguoti":"Prid\u0117ti"," i\u0161laid\u0105"]}),(0,Fe.jsx)("button",{onClick:()=>{_t(null),jt(null)},style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#666",padding:"0",width:"30px",height:"30px",display:"flex",alignItems:"center",justifyContent:"center"},children:"\xd7"})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Apra\u0161ymas:"}),(0,Fe.jsx)("input",{type:"text",value:yt.description,onChange:e=>_t((0,Ve.A)((0,Ve.A)({},yt),{},{description:e.target.value})),placeholder:"Pvz: Draudimas, Degalai, etc."})]}),(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{children:"Suma (EUR):"}),(0,Fe.jsx)("input",{type:"number",step:"0.01",value:yt.amount,onChange:e=>{_t((0,Ve.A)((0,Ve.A)({},yt),{},{amount:e.target.value})),setTimeout(()=>{if(null!==bt){const t=[...xt.other_costs];t[bt]={description:yt.description,amount:parseFloat(e.target.value)||0},vt(e=>(0,Ve.A)((0,Ve.A)({},e),{},{other_costs:t})),Bt.current=!1,setTimeout(()=>Mt(!0),50)}},100)},placeholder:"0.00"})]}),(0,Fe.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:"10px",marginTop:"20px"},children:[(0,Fe.jsx)("button",{type:"button",className:"button",onClick:()=>{if(!yt.description.trim()||!yt.amount)return void fe("info","U\u017epildykite visus laukus");const e={description:yt.description.trim(),amount:parseFloat(yt.amount)||0};let t;null!==bt?(t=[...xt.other_costs],t[bt]=e):t=[...xt.other_costs,e],_t(null),jt(null),Bt.current=!1;const n=xt.client_price_net?parseFloat(xt.client_price_net):0;if(n>0){const e=n-Ae.reduce((e,t)=>e+(t.price_net?parseFloat(String(t.price_net)):0),0)-t.reduce((e,t)=>e+("number"===typeof t.amount?t.amount:parseFloat(String(t.amount))||0),0);vt(n=>(0,Ve.A)((0,Ve.A)({},n),{},{my_price_net:e.toFixed(2),other_costs:t}))}else vt(e=>(0,Ve.A)((0,Ve.A)({},e),{},{other_costs:t}));setTimeout(()=>Mt(!0),100)},children:"I\u0161saugoti"}),(0,Fe.jsx)("button",{type:"button",className:"button button-secondary",onClick:()=>{_t(null),jt(null)},children:"At\u0161aukti"})]})]})}),j&&w&&(0,Fe.jsx)("div",{className:"modal-overlay",onClick:()=>{k(!1),S(null)},children:(0,Fe.jsxs)("div",{className:"modal-content modal-large",onClick:e=>e.stopPropagation(),style:{maxWidth:"1200px",maxHeight:"95vh",display:"flex",flexDirection:"column"},children:[(0,Fe.jsxs)("div",{className:"modal-header",style:{padding:"12px 20px",borderBottom:"1px solid #dee2e6",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("h2",{style:{margin:0,fontSize:"18px",fontWeight:"600"},children:["U\u017esakymas #",w.id]}),(0,Fe.jsxs)("div",{style:{marginTop:"3px",fontSize:"12px",color:"#666"},children:["Sukurta: ",new Date(w.created_at).toLocaleString("lt-LT")]})]}),(0,Fe.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,Fe.jsx)("button",{className:"button button-secondary",onClick:()=>{w&&(Ot(w),k(!1))},style:{padding:"6px 12px",fontSize:"13px"},children:"\u270f\ufe0f Redaguoti"}),(0,Fe.jsx)("button",{className:"button button-secondary",onClick:()=>{k(!1),S(null)},style:{padding:"6px 12px",fontSize:"13px"},children:"\u2715 U\u017edaryti"})]})]}),(0,Fe.jsxs)("div",{style:{padding:"15px 20px",overflowY:"auto",flex:1},children:[(0,Fe.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",marginBottom:"12px"},children:[(0,Fe.jsxs)("div",{style:{border:"1px solid #dee2e6",borderRadius:"4px",padding:"10px",backgroundColor:"#f8f9fa"},children:[(0,Fe.jsx)("h4",{style:{margin:"0 0 8px 0",fontSize:"14px",fontWeight:"bold",color:"#495057"},children:"\ud83d\udc64 Klientas"}),(0,Fe.jsxs)("div",{style:{fontSize:"13px",lineHeight:"1.6"},children:[(0,Fe.jsx)("div",{children:(0,Fe.jsx)("strong",{children:w.client.name})}),(0,Fe.jsxs)("div",{style:{fontSize:"12px",color:"#6c757d"},children:["Kodas: ",w.client.code]})]}),(0,Fe.jsxs)("div",{style:{marginTop:"10px",paddingTop:"10px",borderTop:"1px solid #dee2e6"},children:[(0,Fe.jsxs)("div",{style:{fontSize:"12px",marginBottom:"4px"},children:[(0,Fe.jsx)("strong",{children:"Kaina be PVM:"})," ",(0,Fe.jsx)("span",{style:{color:"#28a745",fontWeight:"600"},children:(()=>{const e=w.client_price_net||w.calculated_client_price_net;if(e)return"".concat(parseFloat(String(e)).toFixed(2)," \u20ac");const t=(w.carriers||[]).reduce((e,t)=>e+(t.price_net?parseFloat(String(t.price_net)):0),0)+(w.my_price_net?parseFloat(String(w.my_price_net)):0)+(w.other_costs||[]).reduce((e,t)=>e+("number"===typeof t.amount?t.amount:parseFloat(String(t.amount))||0),0);return t>0?"".concat(t.toFixed(2)," \u20ac"):(0,Fe.jsx)("span",{style:{color:"#999"},children:"Nenustatyta"})})()})]}),(()=>{const e=w.client_price_net||w.calculated_client_price_net||(w.carriers||[]).reduce((e,t)=>e+(t.price_net?parseFloat(String(t.price_net)):0),0)+(w.my_price_net?parseFloat(String(w.my_price_net)):0)+(w.other_costs||[]).reduce((e,t)=>e+("number"===typeof t.amount?t.amount:parseFloat(String(t.amount))||0),0);if(e&&parseFloat(String(e))>0){const t=parseFloat(String(e)),n=parseFloat(w.vat_rate||"21"),a=t*(n/100),r=t+a;return(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsxs)("div",{style:{fontSize:"12px",marginBottom:"4px",color:"#6c757d"},children:[(0,Fe.jsxs)("strong",{children:["PVM (",n,"%):"]})," ",a.toFixed(2)," \u20ac"]}),(0,Fe.jsxs)("div",{style:{fontSize:"12px"},children:[(0,Fe.jsx)("strong",{style:{fontSize:"13px"},children:"Su PVM:"})," ",(0,Fe.jsxs)("span",{style:{color:"#007bff",fontWeight:"600",fontSize:"13px"},children:[r.toFixed(2)," \u20ac"]})]})]})}return null})()]}),(0,Fe.jsxs)("div",{style:{marginTop:"10px",paddingTop:"10px",borderTop:"1px solid #dee2e6"},children:[(0,Fe.jsx)("div",{style:{fontSize:"12px",fontWeight:"600",marginBottom:"8px",color:"#495057"},children:"Statusas:"}),(0,Fe.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"6px",fontSize:"12px"},children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{style:{fontWeight:"600",marginBottom:"2px",color:"#6c757d",fontSize:"11px"},children:"S\u0105skaita:"}),(0,Fe.jsx)("div",{style:{padding:"6px 8px",borderRadius:"4px",backgroundColor:(null!==(t=null===(n=w.payment_status_info)||void 0===n?void 0:n.invoice_issued)&&void 0!==t?t:w.client_invoice_issued)||w.first_sales_invoice?"#d4edda":"#f8f9fa",color:(null!==(a=null===(i=w.payment_status_info)||void 0===i?void 0:i.invoice_issued)&&void 0!==a?a:w.client_invoice_issued)||w.first_sales_invoice?"#155724":"#6c757d",fontWeight:(null!==(s=null===(o=w.payment_status_info)||void 0===o?void 0:o.invoice_issued)&&void 0!==s?s:w.client_invoice_issued)||w.first_sales_invoice?"600":"normal"},children:(null!==(l=null===(d=w.payment_status_info)||void 0===d?void 0:d.invoice_issued)&&void 0!==l?l:w.client_invoice_issued)||w.first_sales_invoice?"I\u0161ra\u0161yta":"Nei\u0161ra\u0161yta"})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{style:{fontWeight:"600",marginBottom:"2px",color:"#6c757d",fontSize:"11px"},children:"U\u017esakymas:"}),(()=>{const e=w.payment_status_info,t=(null===e||void 0===e?void 0:e.status)||w.client_payment_status||"not_paid",n=(null===e||void 0===e?void 0:e.message)||w.client_payment_status_display||"Neapmok\u0117ta";let a="#f8f9fa",r="#6c757d";return"paid"===t?(a="#d4edda",r="#155724"):"overdue"===t?(a="#f8d7da",r="#721c24"):"partially_paid"===t?(a="#fff3cd",r="#856404"):(a="#f8f9fa",r="#6c757d"),(0,Fe.jsx)("div",{style:{padding:"6px 8px",borderRadius:"4px",backgroundColor:a,color:r,fontWeight:"600"},children:n})})()]})]})]}),(0,Fe.jsxs)("div",{style:{marginTop:"10px",paddingTop:"10px",borderTop:"1px solid #dee2e6"},children:[I&&I.length>0&&(0,Fe.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"4px",marginBottom:"8px"},children:I.map(e=>(0,Fe.jsxs)("button",{onClick:t=>{t.stopPropagation(),window.location.href="/invoices?sales_id=".concat(e.id)},style:{padding:"6px 8px",backgroundColor:"#28a745",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"11px",fontWeight:600,display:"flex",justifyContent:"space-between"},children:[(0,Fe.jsxs)("span",{children:["\ud83d\udcc4 ",e.invoice_number]}),(0,Fe.jsxs)("span",{style:{opacity:.9},children:[parseFloat(e.amount_total).toFixed(2)," \u20ac"]})]},e.id))}),!w.first_sales_invoice&&(0,Fe.jsx)("button",{onClick:async e=>{e.stopPropagation(),he({open:!0,title:"Patvirtinkite",message:"Sukurti pardavimo s\u0105skait\u0105 klientui i\u0161 \u0161io u\u017esakymo?",onConfirm:async()=>{try{const e=await ze.api.post("/invoices/sales/generate_from_order/",{order_id:w.id,invoice_type:"final"});fe("success","Pardavimo s\u0105skaita sukurta: ".concat(e.data.invoice_number));const t=await ze.api.get("/orders/orders/".concat(w.id,"/"));S(t.data),window.location.href="/invoices"}catch(t){var e;const n=null===(e=t.response)||void 0===e?void 0:e.data;fe("error","Klaida kuriant pardavimo s\u0105skait\u0105: "+(null!==n&&void 0!==n&&n.error||n?JSON.stringify(n):t.message))}finally{he({open:!1})}}})},style:{padding:"6px 10px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"11px",fontWeight:"600",width:"100%"},children:"\ud83d\udcc4 Sukurti s\u0105skait\u0105"})]})]}),(0,Fe.jsxs)("div",{style:{border:"1px solid #dee2e6",borderRadius:"4px",padding:"10px",backgroundColor:"#fff"},children:[(0,Fe.jsx)("h4",{style:{margin:"0 0 8px 0",fontSize:"14px",fontWeight:"bold",color:"#495057"},children:"\u2139\ufe0f Informacija"}),(0,Fe.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"6px",fontSize:"12px"},children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("strong",{children:"Tipas:"})," ",w.order_type_display]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("strong",{children:"B\u016bsena:"})," ",(0,Fe.jsx)("span",{className:"badge ".concat(Ht(w.status)),style:{fontSize:"11px",padding:"2px 6px"},children:w.status_display})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("strong",{children:"Vadybininkas:"})," ",w.manager?w.manager.username:"-"]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("strong",{children:"PVM:"})," ",w.vat_rate,"%"]}),(w.route_from_country||w.route_from)&&(0,Fe.jsxs)("div",{style:{gridColumn:"1 / -1",fontSize:"11px",color:"#6c757d"},children:[(0,Fe.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[(0,Fe.jsx)("strong",{children:"Mar\u0161rutas i\u0161:"}),w.route_from_country&&(0,Fe.jsx)("span",{children:[w.route_from_country,w.route_from_postal_code,w.route_from_city,w.route_from_address].filter(Boolean).join(", ")}),!w.route_from_country&&w.route_from&&(0,Fe.jsx)("span",{children:w.route_from})]}),(0,Fe.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,Fe.jsx)("strong",{children:"Mar\u0161rutas \u012f:"}),w.route_to_country&&(0,Fe.jsx)("span",{children:[w.route_to_country,w.route_to_postal_code,w.route_to_city,w.route_to_address].filter(Boolean).join(", ")}),!w.route_to_country&&w.route_to&&(0,Fe.jsx)("span",{children:w.route_to}),(0,Fe.jsx)("button",{onClick:e=>{e.stopPropagation(),N(!0)},style:{padding:"4px 8px",fontSize:"11px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",display:"inline-flex",alignItems:"center",gap:"4px",marginLeft:"8px"},title:"Atidaryti \u017eem\u0117lap\u012f su mar\u0161rutu",children:"\ud83d\uddfa\ufe0f \u017dem\u0117lapis"})]})]}),(w.loading_date||w.unloading_date)&&(0,Fe.jsxs)("div",{style:{gridColumn:"1 / -1",fontSize:"11px",color:"#6c757d"},children:[w.loading_date&&(0,Fe.jsxs)("span",{children:["Pakrovimas: ",new Date(w.loading_date).toLocaleDateString("lt-LT")]}),w.loading_date&&w.unloading_date&&(0,Fe.jsx)("span",{children:" \u2022 "}),w.unloading_date&&(0,Fe.jsxs)("span",{children:["I\u0161krovimas: ",new Date(w.unloading_date).toLocaleDateString("lt-LT")]})]}),w.price_net&&(0,Fe.jsxs)("div",{style:{gridColumn:"1 / -1",fontSize:"12px",marginTop:"4px"},children:[(0,Fe.jsx)("strong",{children:"Bazin\u0117 kaina be PVM:"})," ",parseFloat(w.price_net).toFixed(2)," \u20ac"]})]})]})]}),(0,Fe.jsxs)("div",{style:{marginTop:"12px",marginBottom:"12px"},children:[(0,Fe.jsx)("h4",{style:{margin:"0 0 8px 0",fontSize:"14px",fontWeight:"bold",color:"#495057"},children:"\ud83d\ude9a Ve\u017e\u0117jai ir sand\u0117liai"}),w.carriers&&w.carriers.length>0?(0,Fe.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(450px, 1fr))",gap:"12px",maxWidth:"100%"},children:w.carriers.map((e,t)=>(0,Fe.jsxs)("div",{style:{border:"1px solid #dee2e6",borderRadius:"4px",padding:"10px",backgroundColor:"#fff",maxWidth:"100%",width:"100%"},children:[(0,Fe.jsxs)("div",{style:{marginBottom:"8px"},children:[(0,Fe.jsxs)("div",{style:{fontWeight:"600",fontSize:"13px",marginBottom:"4px",color:"carrier"===e.carrier_type?"#007bff":"#ffc107"},children:[e.sequence_order+1,". ",e.carrier_type_display,": ",e.partner.name]}),(0,Fe.jsx)("div",{style:{fontSize:"11px",color:"#6c757d"},children:e.partner.code})]}),(0,Fe.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"6px",fontSize:"11px",marginBottom:"8px"},children:[e.route_from&&e.route_to&&(0,Fe.jsxs)("div",{style:{gridColumn:"1 / -1",color:"#6c757d"},children:[(0,Fe.jsx)("strong",{children:"Mar\u0161rutas:"})," ",e.route_from," \u2192 ",e.route_to]}),e.loading_date&&(0,Fe.jsxs)("div",{style:{color:"#6c757d"},children:[(0,Fe.jsx)("strong",{children:"Pakrovimas:"})," ",new Date(e.loading_date).toLocaleDateString("lt-LT")]}),e.unloading_date&&(0,Fe.jsxs)("div",{style:{color:"#6c757d"},children:[(0,Fe.jsx)("strong",{children:"I\u0161krovimas:"})," ",new Date(e.unloading_date).toLocaleDateString("lt-LT")]}),e.status_display&&(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("strong",{children:"B\u016bkl\u0117:"})," ",(0,Fe.jsx)("span",{style:{padding:"2px 6px",borderRadius:"3px",fontSize:"10px",backgroundColor:"completed"===e.status?"#d4edda":"in_progress"===e.status?"#d1ecf1":"cancelled"===e.status?"#f8d7da":"#e2e3e5",color:"completed"===e.status?"#155724":"in_progress"===e.status?"#0c5460":"cancelled"===e.status?"#721c24":"#383d41"},children:e.status_display})]}),e.price_net&&(0,Fe.jsxs)("div",{style:{gridColumn:"1 / -1",fontSize:"11px",marginTop:"4px"},children:[(0,Fe.jsx)("strong",{children:"Kaina be PVM:"})," ",(0,Fe.jsxs)("span",{style:{color:"#28a745",fontWeight:"600"},children:[parseFloat(e.price_net).toFixed(2)," \u20ac",e.price_with_vat&&(0,Fe.jsxs)("span",{style:{marginLeft:"8px",color:"#007bff"},children:["(su PVM: ",parseFloat(e.price_with_vat).toFixed(2)," \u20ac)"]})]})]})]}),(0,Fe.jsxs)("div",{style:{marginTop:"8px",paddingTop:"8px",borderTop:"1px solid #dee2e6"},children:[(0,Fe.jsx)("div",{style:{fontSize:"11px",fontWeight:"600",marginBottom:"6px",color:"#495057"},children:"Statusas:"}),(0,Fe.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"6px",fontSize:"11px"},children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{style:{fontWeight:"600",marginBottom:"2px",color:"#6c757d",fontSize:"10px"},children:"S\u0105skaita:"}),(0,Fe.jsx)("div",{style:{padding:"4px 6px",borderRadius:"4px",backgroundColor:e.invoice_received?"#d4edda":"#f8f9fa",color:e.invoice_received?"#155724":"#6c757d",fontWeight:e.invoice_received?"600":"normal",display:"inline-block",marginRight:"8px"},children:e.invoice_received?"Gauta":"Negauta"}),(()=>{const t=e.payment_status_info,n=(null===t||void 0===t?void 0:t.status)||e.payment_status||"not_paid",a=(null===t||void 0===t?void 0:t.message)||e.payment_status_display||"Neapmok\u0117tas";let r="#f8f9fa",i="#6c757d";return"paid"===n?(r="#d4edda",i="#155724"):"partially_paid"===n?(r="#fff3cd",i="#856404"):(r="#f8f9fa",i="#6c757d"),(0,Fe.jsx)("div",{style:{padding:"4px 6px",borderRadius:"4px",backgroundColor:r,color:i,fontWeight:"600",display:"inline-block"},children:a})})(),e.invoice_received&&"received"===e.documents_status&&"paid"!==e.payment_status&&(0,Fe.jsx)("button",{onClick:async t=>{t.stopPropagation(),he({open:!0,title:"Patvirtinkite",message:"Pa\u017eym\u0117ti, kad s\u0105skaita apmok\u0117ta?",onConfirm:async()=>{try{const t=(new Date).toISOString().split("T")[0];await ze.api.patch("/orders/carriers/".concat(e.id,"/"),{payment_status:"paid",payment_date:t}),fe("success","Apmok\u0117jimas pa\u017eym\u0117tas");const n=await ze.api.get("/orders/orders/".concat(w.id,"/"));S(n.data)}catch(a){var t,n;fe("error",(null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Klaida atnaujinant apmok\u0117jimo status\u0105")}finally{he({open:!1})}}})},style:{marginLeft:"8px",padding:"4px 8px",backgroundColor:"#28a745",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"10px",fontWeight:"600"},children:"Pa\u017eym\u0117ti apmok\u0117ta"})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{style:{fontWeight:"600",marginBottom:"2px",color:"#6c757d",fontSize:"10px"},children:"Dokumentai:"}),(0,Fe.jsxs)("select",{value:e.documents_status||"not_received",onChange:async t=>{try{await ze.api.patch("/orders/carriers/".concat(e.id,"/"),{documents_status:t.target.value}),fe("success","Dokument\u0173 statusas atnaujintas");const n=await ze.api.get("/orders/orders/".concat(w.id,"/"));S(n.data)}catch(r){var n,a;fe("error",(null===(n=r.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.error)||"Klaida atnaujinant dokument\u0173 status\u0105")}},onClick:e=>e.stopPropagation(),style:{padding:"4px 6px",borderRadius:"4px",border:"1px solid #dee2e6",fontSize:"11px",fontWeight:"600",backgroundColor:"received"===e.documents_status?"#d4edda":"waiting"===e.documents_status?"#fff3cd":"#f8f9fa",color:"received"===e.documents_status?"#155724":"waiting"===e.documents_status?"#856404":"#6c757d",cursor:"pointer",minWidth:"100px"},children:[(0,Fe.jsx)("option",{value:"not_received",children:"Negauta"}),(0,Fe.jsx)("option",{value:"waiting",children:"Laukiama"}),(0,Fe.jsx)("option",{value:"received",children:"Gauta"})]})]})]})]}),e.notes&&(0,Fe.jsxs)("div",{style:{marginTop:"8px",padding:"6px",backgroundColor:"#f8f9fa",borderRadius:"4px",fontSize:"11px",color:"#495057"},children:[(0,Fe.jsx)("strong",{children:"Pastabos:"})," ",e.notes]}),(0,Fe.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"4px",marginTop:"8px"},children:[e.invoice_received&&e.id&&F[e.id]&&F[e.id].length>0&&(0,Fe.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"4px",marginBottom:"4px"},children:F[e.id].map(e=>(0,Fe.jsxs)("button",{onClick:async t=>{t.stopPropagation();try{const t=await ze.api.get("/invoices/purchase/".concat(e.id,"/"));U(t.data),B(!0)}catch(r){var n,a;fe("error","Klaida u\u017ekraunant s\u0105skait\u0105: "+((null===(n=r.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.detail)||r.message))}},style:{padding:"4px 8px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"11px",fontWeight:600,display:"flex",justifyContent:"space-between"},children:[(0,Fe.jsxs)("span",{children:["\ud83d\udcc4 ",e.received_invoice_number||e.invoice_number||"ID: ".concat(e.id)]}),(0,Fe.jsxs)("span",{style:{opacity:.9},children:[parseFloat(e.amount_total).toFixed(2)," \u20ac"]})]},e.id))}),!e.invoice_received&&(0,Fe.jsx)("button",{onClick:t=>{t.stopPropagation(),window.location.href="/invoices?create_purchase=true&order_carrier_id=".concat(e.id,"&order_id=").concat(w.id,"&partner_id=").concat(e.partner.id,"&amount_net=").concat(e.price_net||0)},style:{padding:"4px 8px",backgroundColor:"#28a745",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"11px",fontWeight:"600"},children:"\ud83d\udcc4 Sukurti pirkimo s\u0105skait\u0105"})]})]},e.id||t))}):(0,Fe.jsx)("div",{style:{padding:"12px",textAlign:"center",color:"#999",backgroundColor:"#fafafa",borderRadius:"4px",fontSize:"12px"},children:"N\u0117ra prid\u0117t\u0173 ve\u017e\u0117j\u0173 arba sand\u0117li\u0173"})]}),w.notes&&(0,Fe.jsxs)("div",{style:{marginTop:"12px",border:"1px solid #dee2e6",borderRadius:"4px",padding:"10px",backgroundColor:"#fff"},children:[(0,Fe.jsx)("h4",{style:{margin:"0 0 8px 0",fontSize:"14px",fontWeight:"bold",color:"#495057"},children:"Pastabos"}),(0,Fe.jsx)("p",{style:{margin:0,fontSize:"13px",whiteSpace:"pre-wrap",lineHeight:"1.5"},children:w.notes})]}),(0,Fe.jsx)("div",{style:{marginTop:"12px"},children:(0,Fe.jsx)("button",{className:"button button-secondary",onClick:()=>Vt(w.id),style:{padding:"6px 12px",fontSize:"12px"},children:"Rodyti statuso istorij\u0105"})})]})]})}),g?(0,Fe.jsx)("div",{children:"Kraunama..."}):(0,Fe.jsx)("div",{style:{overflowX:"auto"},children:(0,Fe.jsxs)("table",{className:"table",children:[(0,Fe.jsx)("thead",{children:(0,Fe.jsxs)("tr",{children:[(0,Fe.jsx)("th",{children:"Suk\u016brimo data"}),(0,Fe.jsx)("th",{children:"Numeris"}),(0,Fe.jsx)("th",{children:"Klientas"}),(0,Fe.jsx)("th",{children:"Kliento kaina (be PVM)"}),(0,Fe.jsx)("th",{children:"Mar\u0161rutas"}),(0,Fe.jsx)("th",{children:"Ve\u017e\u0117jas"}),(0,Fe.jsx)("th",{children:"Ve\u017e\u0117jo kaina (be PVM)"}),(0,Fe.jsx)("th",{children:"Pelnas"}),(0,Fe.jsx)("th",{children:"Veiksmai"})]})}),(0,Fe.jsx)("tbody",{children:0===m.length?(0,Fe.jsx)("tr",{children:(0,Fe.jsx)("td",{colSpan:9,style:{textAlign:"center",padding:"20px"},children:"U\u017esakym\u0173 nerasta"})}):m.map(e=>{var t,n,a;const r=(null!==(t=null===(n=e.payment_status_info)||void 0===n?void 0:n.invoice_issued)&&void 0!==t?t:e.client_invoice_issued)||!!e.first_sales_invoice;let i=0;if(e.carriers&&Array.isArray(e.carriers)&&e.carriers.length>0){const t=e.carriers.filter(e=>e&&e.partner);if(t.length>0){const e=t.filter(e=>!0===e.invoice_received||"true"===e.invoice_received||1===e.invoice_received).length;i=e===t.length?2:e>0?1:0}}const s=e.client_price_net||e.calculated_client_price_net||0,o=e.carriers&&Array.isArray(e.carriers)?e.carriers.reduce((e,t)=>e+(t.price_net?parseFloat(String(t.price_net)):0),0):0,l=e.other_costs&&Array.isArray(e.other_costs)?e.other_costs.reduce((e,t)=>e+("object"===typeof t&&null!==t&&"amount"in t?"number"===typeof t.amount?t.amount:parseFloat(String(t.amount))||0:0),0):0,d=parseFloat(String(s))-o-l;let c="";if(e.route_from_country||e.route_from){const t=[e.route_from_country,e.route_from_postal_code,e.route_from_city,e.route_from_address].filter(Boolean),n=[e.route_to_country,e.route_to_postal_code,e.route_to_city,e.route_to_address].filter(Boolean);c=t.length>0||n.length>0?"".concat(t.join(", ")||e.route_from," \u2192 ").concat(n.join(", ")||e.route_to):"".concat(e.route_from||""," \u2192 ").concat(e.route_to||"")}else c="".concat(e.route_from||""," \u2192 ").concat(e.route_to||"");let u="-";if(e.carriers&&Array.isArray(e.carriers)&&e.carriers.length>0){const t=e.carriers.filter(e=>e&&e.partner);1===t.length?u=t[0].partner.name:t.length>1&&(u="Keli ve\u017e\u0117jai (".concat(t.length,")"))}else e.carrier&&e.carrier.name&&(u=e.carrier.name);return(0,Fe.jsxs)("tr",{onClick:()=>qt(e),style:{cursor:"pointer"},children:[(0,Fe.jsx)("td",{children:new Date(e.created_at).toLocaleDateString("lt-LT")}),(0,Fe.jsx)("td",{children:e.order_number?e.order_number:"#".concat(e.id)}),(0,Fe.jsx)("td",{children:(0,Fe.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[(0,Fe.jsx)("span",{children:(null===(a=e.client)||void 0===a?void 0:a.name)||"-"}),(0,Fe.jsx)("span",{style:{fontSize:"14px",color:r?"#28a745":"#dc3545"},children:r?"\u2713":"\u2717"})]})}),(0,Fe.jsxs)("td",{children:[s?parseFloat(String(s)).toFixed(2):"0.00"," EUR"]}),(0,Fe.jsx)("td",{style:{fontSize:"12px"},children:c||"-"}),(0,Fe.jsx)("td",{children:(0,Fe.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[(0,Fe.jsx)("span",{children:u}),(0,Fe.jsx)("span",{style:{fontSize:"14px",color:2===i?"#28a745":1===i?"#ffc107":"#dc3545"},children:2===i?"\u2713":1===i?"\u26a0":"\u2717"})]})}),(0,Fe.jsxs)("td",{children:[o>0?o.toFixed(2):"0.00"," EUR"]}),(0,Fe.jsxs)("td",{style:{fontWeight:"500",color:d>=0?"#28a745":"#dc3545"},children:[d.toFixed(2)," EUR"]}),(0,Fe.jsx)("td",{onClick:e=>e.stopPropagation(),children:(0,Fe.jsxs)("div",{style:{display:"flex",gap:"5px",flexWrap:"wrap"},children:[(0,Fe.jsx)("button",{className:"button button-secondary",onClick:t=>{t.stopPropagation(),Ot(e)},style:{fontSize:"11px",padding:"4px 8px"},children:"Redaguoti"}),(0,Fe.jsxs)("select",{value:e.status,onChange:t=>(async(e,t)=>{try{await ze.api.post("/orders/orders/".concat(e,"/change_status/"),{new_status:t,notes:""}),Et(),fe("success","Statusas s\u0117kmingai pakeistas")}catch(r){var n,a;fe("error",(null===(n=r.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.error)||"Klaida kei\u010diant status\u0105")}})(e.id,t.target.value),style:{fontSize:"11px",padding:"4px",border:"1px solid #ddd",borderRadius:"4px"},children:[(0,Fe.jsx)("option",{value:"new",children:"Naujas"}),(0,Fe.jsx)("option",{value:"assigned",children:"Priskirtas"}),(0,Fe.jsx)("option",{value:"executing",children:"Vykdomas"}),(0,Fe.jsx)("option",{value:"waiting_for_docs",children:"Laukiama Dokument\u0173"}),(0,Fe.jsx)("option",{value:"finished",children:"Baigtas"}),(0,Fe.jsx)("option",{value:"canceled",children:"At\u0161auktas"})]}),(0,Fe.jsx)("button",{className:"button button-secondary",onClick:()=>Vt(e.id),style:{fontSize:"11px",padding:"4px 8px"},children:"Istorija"}),(0,Fe.jsx)("button",{className:"button button-secondary",onClick:()=>(async e=>{try{const t=await ze.api.get("/orders/orders/".concat(e,"/related-invoices-info/")),n=t.data.has_related_invoices,a=t.data.sales_invoices_count||0,r=t.data.purchase_invoices_count||0;he(n?{open:!0,title:"Patvirtinkite trinim\u0105",message:"\u0160is u\u017esakymas turi susijusi\u0173 s\u0105skait\u0173:\n- Pardavimo s\u0105skaitos: ".concat(a,"\n- Pirkimo s\u0105skaitos: ").concat(r,"\n\nK\u0105 norite daryti?"),showDeleteOptions:!0,salesCount:a,purchaseCount:r,onDeleteWithInvoices:async()=>{try{await ze.api.delete("/orders/orders/".concat(e,"/"),{data:{delete_invoices:"true"}}),A&&A.id===e&&(b(!1),P(null)),await Et(),fe("success","U\u017esakymas ir visos susijusios s\u0105skaitos s\u0117kmingai i\u0161trintos"),he({open:!1})}catch(o){var t,n,a,r,i,s;const e=(null===(t=o.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||(null===(a=o.response)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.error)||("string"===typeof(null===(i=o.response)||void 0===i?void 0:i.data)?null===(s=o.response)||void 0===s?void 0:s.data:null)||o.message||"Klaida trinant u\u017esakym\u0105";fe("error",e),he({open:!1})}},onDeleteWithoutInvoices:async()=>{try{await ze.api.delete("/orders/orders/".concat(e,"/"),{data:{delete_invoices:"false"}}),A&&A.id===e&&(b(!1),P(null)),await Et(),fe("success","U\u017esakymas s\u0117kmingai i\u0161trintas. S\u0105skaitos paliktos."),he({open:!1})}catch(o){var t,n,a,r,i,s;const e=(null===(t=o.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||(null===(a=o.response)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.error)||("string"===typeof(null===(i=o.response)||void 0===i?void 0:i.data)?null===(s=o.response)||void 0===s?void 0:s.data:null)||o.message||"Klaida trinant u\u017esakym\u0105";fe("error",e),he({open:!1})}}}:{open:!0,title:"Patvirtinkite",message:"Ar tikrai norite i\u0161trinti u\u017esakym\u0105?",showDeleteOptions:!1,onConfirm:async()=>{try{await ze.api.delete("/orders/orders/".concat(e,"/")),A&&A.id===e&&(b(!1),P(null)),await Et(),fe("success","U\u017esakymas s\u0117kmingai i\u0161trintas"),he({open:!1})}catch(o){var t,n,a,r,i,s;const e=(null===(t=o.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||(null===(a=o.response)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.error)||("string"===typeof(null===(i=o.response)||void 0===i?void 0:i.data)?null===(s=o.response)||void 0===s?void 0:s.data:null)||o.message||"Klaida trinant u\u017esakym\u0105";fe("error",e),he({open:!1})}}})}catch(t){he({open:!0,title:"Patvirtinkite",message:"Ar tikrai norite i\u0161trinti u\u017esakym\u0105?",showDeleteOptions:!1,onConfirm:async()=>{try{await ze.api.delete("/orders/orders/".concat(e,"/")),A&&A.id===e&&(b(!1),P(null)),await Et(),fe("success","U\u017esakymas s\u0117kmingai i\u0161trintas"),he({open:!1})}catch(t){var n,a,r,i,s,o;const l=(null===(n=t.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.detail)||(null===(r=t.response)||void 0===r||null===(i=r.data)||void 0===i?void 0:i.error)||("string"===typeof(null===(s=t.response)||void 0===s?void 0:s.data)?null===(o=t.response)||void 0===o?void 0:o.data:null)||t.message||"Klaida trinant u\u017esakym\u0105";fe("error",l),he({open:!1})}}})}})(e.id),style:{fontSize:"11px",padding:"4px 8px",backgroundColor:"#dc3545",color:"white",border:"none"},children:"Trinti"})]})})]},e.id)})})]})}),T&&(0,Fe.jsx)("div",{className:"modal-overlay",onClick:()=>E(null),children:(0,Fe.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),style:{maxWidth:"600px"},children:[(0,Fe.jsxs)("h2",{children:["U\u017esakymo #",T," statuso istorija"]}),0===z.length?(0,Fe.jsx)("p",{children:"Istorijos n\u0117ra"}):(0,Fe.jsxs)("table",{className:"table",children:[(0,Fe.jsx)("thead",{children:(0,Fe.jsxs)("tr",{children:[(0,Fe.jsx)("th",{children:"Data"}),(0,Fe.jsx)("th",{children:"Nuo"}),(0,Fe.jsx)("th",{children:"\u012e"}),(0,Fe.jsx)("th",{children:"Pakeit\u0117"}),(0,Fe.jsx)("th",{children:"Pastabos"})]})}),(0,Fe.jsx)("tbody",{children:z.map(e=>(0,Fe.jsxs)("tr",{children:[(0,Fe.jsx)("td",{children:new Date(e.created_at).toLocaleString("lt-LT")}),(0,Fe.jsx)("td",{children:(0,Fe.jsx)("span",{className:"badge ".concat(Ht(e.old_status)),children:e.old_status})}),(0,Fe.jsx)("td",{children:(0,Fe.jsx)("span",{className:"badge ".concat(Ht(e.new_status)),children:e.new_status})}),(0,Fe.jsx)("td",{children:e.changed_by.username}),(0,Fe.jsx)("td",{children:e.notes||"-"})]},e.id))})]}),(0,Fe.jsx)("button",{className:"button button-secondary",onClick:()=>E(null),style:{marginTop:"20px"},children:"U\u017edaryti"})]})}),$t&&(0,Fe.jsx)("div",{className:"modal-overlay",onClick:()=>N(!1),children:(0,Fe.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),style:{maxWidth:"90vw",maxHeight:"90vh",width:"1200px",height:"800px",display:"flex",flexDirection:"column"},children:[(0,Fe.jsxs)("div",{className:"modal-header",style:{padding:"12px 20px",borderBottom:"1px solid #dee2e6",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Fe.jsxs)("h2",{style:{margin:0,fontSize:"18px",fontWeight:"600"},children:["Mar\u0161rutas: ",$t.fromDisplay," \u2192 ",$t.toDisplay]}),(0,Fe.jsxs)("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[(0,Fe.jsx)("a",{href:"https://www.google.com/maps/dir/".concat(encodeURIComponent($t.from),"/").concat(encodeURIComponent($t.to)),target:"_blank",rel:"noopener noreferrer",style:{padding:"6px 12px",fontSize:"12px",backgroundColor:"#28a745",color:"white",textDecoration:"none",borderRadius:"4px",display:"inline-flex",alignItems:"center",gap:"4px"},children:"\ud83d\udd17 Atidaryti Google Maps"}),(0,Fe.jsx)("button",{className:"button button-secondary",onClick:()=>N(!1),style:{padding:"6px 12px",fontSize:"13px"},children:"\u2715 U\u017edaryti"})]})]}),(0,Fe.jsxs)("div",{style:{flex:1,overflow:"hidden",position:"relative",backgroundColor:"#f5f5f5",display:"flex",alignItems:"center",justifyContent:"center"},children:[(0,Fe.jsx)("iframe",{title:"Mar\u0161rutas nuo ".concat($t.fromDisplay," iki ").concat($t.toDisplay),width:"100%",height:"100%",style:{border:0},loading:"lazy",allowFullScreen:!0,referrerPolicy:"no-referrer-when-downgrade",src:"https://www.google.com/maps/embed/v1/directions?key=".concat({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"http://localhost:8000/api"}.REACT_APP_GOOGLE_MAPS_API_KEY||"","&origin=").concat(encodeURIComponent($t.from),"&destination=").concat(encodeURIComponent($t.to),"&zoom=7"),onError:()=>{}}),!{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"http://localhost:8000/api"}.REACT_APP_GOOGLE_MAPS_API_KEY&&(0,Fe.jsxs)("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(255,255,255,0.95)",flexDirection:"column",gap:"15px",padding:"20px"},children:[(0,Fe.jsx)("p",{style:{margin:0,fontSize:"16px",textAlign:"center"},children:(0,Fe.jsx)("strong",{children:"\ud83d\uddfa\ufe0f \u017dem\u0117lapio per\u017ei\u016brai reikalingas Google Maps API raktas"})}),(0,Fe.jsxs)("p",{style:{margin:0,fontSize:"14px",color:"#666",textAlign:"center"},children:["Mar\u0161rutas: ",(0,Fe.jsxs)("strong",{children:[$t.fromDisplay," \u2192 ",$t.toDisplay]})]}),(0,Fe.jsx)("a",{href:"https://www.google.com/maps/dir/".concat(encodeURIComponent($t.from),"/").concat(encodeURIComponent($t.to)),target:"_blank",rel:"noopener noreferrer",style:{padding:"12px 24px",fontSize:"14px",backgroundColor:"#007bff",color:"white",textDecoration:"none",borderRadius:"4px",display:"inline-block",fontWeight:"bold"},children:"\ud83d\udd17 Atidaryti Google Maps su mar\u0161rutu naujame lange"}),(0,Fe.jsx)("p",{style:{margin:0,fontSize:"12px",color:"#999",textAlign:"center",marginTop:"10px"},children:"Arba prid\u0117kite REACT_APP_GOOGLE_MAPS_API_KEY \u012f .env fail\u0105 \u017eem\u0117lapio per\u017ei\u016brai modale"})]})]})]})}),L&&M&&(0,Fe.jsx)("div",{className:"modal-overlay",onClick:()=>B(!1),children:(0,Fe.jsxs)("div",{className:"modal-content modal-large",onClick:e=>e.stopPropagation(),children:[(0,Fe.jsxs)("div",{className:"modal-header",children:[(0,Fe.jsxs)("h2",{children:["S\u0105skaita #",M.received_invoice_number]}),(0,Fe.jsx)("button",{className:"modal-close",onClick:()=>B(!1),children:"\xd7"})]}),(0,Fe.jsxs)("div",{className:"invoice-details",children:[(0,Fe.jsxs)("div",{className:"details-section",children:[(0,Fe.jsx)("h3",{children:"Pagrindin\u0117 informacija"}),(0,Fe.jsxs)("div",{className:"details-grid",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("strong",{children:"Tiek\u0117jo s\u0105skaitos numeris:"})," ",M.received_invoice_number]}),M.invoice_number&&(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("strong",{children:"Sistemos s\u0105skaitos numeris:"})," ",M.invoice_number]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("strong",{children:"Mok\u0117jimo statusas:"}),(0,Fe.jsxs)("select",{value:M.payment_status,onChange:async e=>{try{const t={payment_status:e.target.value};"paid"!==e.target.value||M.payment_date||(t.payment_date=(new Date).toISOString().split("T")[0]),"paid"!==e.target.value&&"paid"===M.payment_status&&(t.payment_date=null),await ze.api.patch("/invoices/purchase/".concat(M.id,"/"),t),fe("success","Mok\u0117jimo statusas atnaujintas");const n=await ze.api.get("/invoices/purchase/".concat(M.id,"/"));if(U(n.data),w){const e=await ze.api.get("/orders/orders/".concat(w.id,"/"));S(e.data)}}catch(a){var t,n;fe("error",(null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Klaida atnaujinant mok\u0117jimo status\u0105")}},onClick:e=>e.stopPropagation(),style:{marginLeft:"8px",padding:"4px 8px",borderRadius:"4px",border:"1px solid #dee2e6",fontSize:"13px",cursor:"pointer",backgroundColor:"paid"===M.payment_status?"#d4edda":"overdue"===M.payment_status?"#f8d7da":"partially_paid"===M.payment_status?"#fff3cd":"#fff",color:"paid"===M.payment_status?"#155724":"overdue"===M.payment_status?"#721c24":"partially_paid"===M.payment_status?"#856404":"#333"},children:[(0,Fe.jsx)("option",{value:"unpaid",children:"Neapmok\u0117ta"}),(0,Fe.jsx)("option",{value:"paid",children:"Apmok\u0117ta"}),(0,Fe.jsx)("option",{value:"overdue",children:"V\u0117luoja"}),(0,Fe.jsx)("option",{value:"partially_paid",children:"Dalinis apmok\u0117jimas"})]})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("strong",{children:"Tiek\u0117jas:"})," ",M.partner.name]}),M.related_order&&(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("strong",{children:"Susij\u0119s u\u017esakymas:"})," ",M.related_order.order_number||"#".concat(M.related_order.id)]}),M.expense_category&&(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("strong",{children:"I\u0161laid\u0173 kategorija:"})," ",M.expense_category.name]})]})]}),(0,Fe.jsxs)("div",{className:"details-section",children:[(0,Fe.jsx)("h3",{children:"Finansin\u0117 informacija"}),(0,Fe.jsxs)("div",{className:"details-grid",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("strong",{children:"Suma be PVM:"})," ",parseFloat(M.amount_net).toFixed(2)," \u20ac"]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("strong",{children:["PVM (",M.vat_rate,"%):"]})," ",(parseFloat(M.amount_total)-parseFloat(M.amount_net)).toFixed(2)," \u20ac"]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("strong",{children:"Suma su PVM:"})," ",parseFloat(M.amount_total).toFixed(2)," \u20ac"]})]})]}),(0,Fe.jsxs)("div",{className:"details-section",children:[(0,Fe.jsx)("h3",{children:"Dat\u0173 informacija"}),(0,Fe.jsxs)("div",{className:"details-grid",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("strong",{children:"Tiek\u0117jo s\u0105skaitos i\u0161ra\u0161ymo data:"})," ",M.issue_date]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("strong",{children:"Gavimo data:"})," ",M.received_date||"-"]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("strong",{children:"Mok\u0117jimo terminas:"})," ",M.due_date]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("strong",{children:"Mok\u0117jimo data:"}),(0,Fe.jsx)("input",{type:"date",value:M.payment_date||"",onChange:async e=>{try{await ze.api.patch("/invoices/purchase/".concat(M.id,"/"),(0,Ve.A)({payment_date:e.target.value||null},e.target.value&&"paid"!==M.payment_status?{payment_status:"paid"}:{})),fe("success","Mok\u0117jimo data atnaujinta");const t=await ze.api.get("/invoices/purchase/".concat(M.id,"/"));if(U(t.data),w){const e=await ze.api.get("/orders/orders/".concat(w.id,"/"));S(e.data)}}catch(a){var t,n;fe("error",(null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Klaida atnaujinant mok\u0117jimo dat\u0105")}},onClick:e=>e.stopPropagation(),style:{marginLeft:"8px",padding:"4px 8px",borderRadius:"4px",border:"1px solid #dee2e6",fontSize:"13px",cursor:"pointer"}})]}),M.overdue_days>0&&(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("strong",{children:"V\u0117lavimo dienos:"})," ",(0,Fe.jsxs)("span",{className:"overdue-badge",children:[M.overdue_days," dienos"]})]})]})]}),(M.invoice_file_url||M.invoice_file)&&(0,Fe.jsxs)("div",{className:"details-section",children:[(0,Fe.jsx)("h3",{children:"S\u0105skaitos failas"}),(0,Fe.jsx)("div",{children:(0,Fe.jsx)("a",{href:M.invoice_file_url||"".concat((null===(c="http://localhost:8000/api")?void 0:c.replace("/api",""))||"http://192.168.9.11:8000","/").concat(M.invoice_file),target:"_blank",rel:"noopener noreferrer",className:"btn btn-secondary",children:"\ud83d\udcc4 Per\u017ei\u016br\u0117ti PDF"})})]}),M.notes&&(0,Fe.jsxs)("div",{className:"details-section",children:[(0,Fe.jsx)("h3",{children:"Pastabos"}),(0,Fe.jsx)("p",{children:M.notes})]})]}),(0,Fe.jsx)("div",{className:"modal-footer",children:(0,Fe.jsx)("button",{className:"btn btn-secondary",onClick:()=>B(!1),children:"U\u017everti"})})]})})]})})},Ke=()=>{var e,t,a;const i=X(),s=ee(),[o,l]=(0,r.useState)("sales"),[d,c]=(0,r.useState)([]),[u,p]=(0,r.useState)(!1),[f,m]=(0,r.useState)({payment_status:"",invoice_type:"",partner_id:"",issue_date_from:"",issue_date_to:"",due_date_from:"",due_date_to:"",search:""}),[h,g]=(0,r.useState)(!1),[x,v]=(0,r.useState)(null),[y,_]=(0,r.useState)(!1),[b,j]=(0,r.useState)(!1),[k,w]=(0,r.useState)(null),[S,C]=(0,r.useState)({invoice_number:"",partner_id:"",related_order_id:"",invoice_type:"final",payment_status:"unpaid",amount_net:"",vat_rate:"21.00",vat_rate_article:"",issue_date:(new Date).toISOString().split("T")[0],due_date:(()=>{const e=new Date,t=new Date(e);return t.setDate(t.getDate()+30),t.toISOString().split("T")[0]})(),payment_date:"",notes:"",display_options:{show_order_type:!0,show_cargo_info:!0,show_cargo_weight:!0,show_cargo_ldm:!0,show_cargo_dimensions:!0,show_cargo_properties:!0,show_carriers:!0,show_carrier_name:!0,show_carrier_route:!0,show_carrier_dates:!0,show_prices:!0,show_my_price:!0,show_other_costs:!0}}),[N,A]=(0,r.useState)([]),[P,T]=(0,r.useState)([]),[E,z]=(0,r.useState)(""),[R,I]=(0,r.useState)(!1),[O,F]=(0,r.useState)(""),[D,L]=(0,r.useState)([]),[B,M]=(0,r.useState)(!1),[U,V]=(0,r.useState)({payment_status:"",partner_id:"",expense_category_id:"",issue_date_from:"",issue_date_to:"",due_date_from:"",due_date_to:"",search:""}),[W,q]=(0,r.useState)(!1),[K,H]=(0,r.useState)(null),[$,Y]=(0,r.useState)(!1),[Q,J]=(0,r.useState)(!1),[G,Z]=(0,r.useState)(null),[te,ne]=(0,r.useState)({partner_id:"",related_order_id:"",order_carrier_id:"",expense_category_id:"",received_invoice_number:"",payment_status:"unpaid",amount_net:"",vat_rate:"21.00",issue_date:(new Date).toISOString().split("T")[0],received_date:(new Date).toISOString().split("T")[0],due_date:(()=>{const e=new Date,t=new Date(e);return t.setDate(t.getDate()+30),t.toISOString().split("T")[0]})(),payment_date:"",invoice_file:null,notes:""}),[ae,re]=(0,r.useState)([]),[ie,se]=(0,r.useState)([]),[oe,le]=(0,r.useState)(""),[de,ce]=(0,r.useState)(!1),[ue,pe]=(0,r.useState)(""),[fe,me]=(0,r.useState)(""),[he,ge]=(0,r.useState)([]),[xe,ve]=(0,r.useState)(!1),[ye,_e]=(0,r.useState)(""),[be,je]=(0,r.useState)([]),[ke,we]=(0,r.useState)(null),[Se,Ce]=(0,r.useState)({type:"info",message:"",visible:!1}),Ne=(0,r.useRef)(null),Ae=(0,r.useCallback)(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3500;Ce({type:e,message:t,visible:!0}),null!==Ne.current&&window.clearTimeout(Ne.current),Ne.current=window.setTimeout(()=>Ce(e=>(0,Ve.A)((0,Ve.A)({},e),{},{visible:!1})),n)},[]);(0,r.useEffect)(()=>()=>{Ne.current&&window.clearTimeout(Ne.current)},[]);const[Pe,Te]=(0,r.useState)({open:!1}),Ee=(0,r.useCallback)(async()=>{try{const e=await ze.api.get("/settings/invoice/current/");we(e.data)}catch(e){console.error("Klaida u\u017ekraunant s\u0105skait\u0173 nustatymus:",e)}},[]),Re=(0,r.useCallback)(async()=>{try{const e=await ze.api.get("/settings/pvm-rates/?is_active=true");je(e.data.results||e.data||[])}catch(e){console.error("Klaida u\u017ekraunant PVM tarifus:",e)}},[]),Ie=(0,r.useCallback)(async()=>{p(!0);try{const e={page_size:50};f.payment_status&&(e.payment_status=f.payment_status),f.invoice_type&&(e.invoice_type=f.invoice_type),f.partner_id&&(e.partner=f.partner_id),f.issue_date_from&&(e.issue_date__gte=f.issue_date_from),f.issue_date_to&&(e.issue_date__lte=f.issue_date_to),f.due_date_from&&(e.due_date__gte=f.due_date_from),f.due_date_to&&(e.due_date__lte=f.due_date_to),f.search&&(e.search=f.search);const t=await ze.api.get("/invoices/sales/",{params:e});t.data.results?c(t.data.results):Array.isArray(t.data)?c(t.data):c([])}catch(n){var e,t;console.error("Klaida u\u017ekraunant pardavimo s\u0105skaitas:",n),Ae("error",(null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Klaida u\u017ekraunant pardavimo s\u0105skaitas"),c([])}finally{p(!1)}},[f,Ae]),Oe=(0,r.useCallback)(async()=>{M(!0);try{const e={page_size:50};U.payment_status&&(e.payment_status=U.payment_status),U.partner_id&&(e.partner=U.partner_id),U.expense_category_id&&(e.expense_category=U.expense_category_id),U.issue_date_from&&(e.issue_date__gte=U.issue_date_from),U.issue_date_to&&(e.issue_date__lte=U.issue_date_to),U.due_date_from&&(e.due_date__gte=U.due_date_from),U.due_date_to&&(e.due_date__lte=U.due_date_to),U.search&&(e.search=U.search);const t=await ze.api.get("/invoices/purchase/",{params:e});t.data.results?L(t.data.results):Array.isArray(t.data)?L(t.data):L([])}catch(n){var e,t;console.error("Klaida u\u017ekraunant pirkimo s\u0105skaitas:",n),Ae("error",(null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Klaida u\u017ekraunant pirkimo s\u0105skaitas"),L([])}finally{M(!1)}},[U,Ae]),De=(0,r.useCallback)(async e=>{if(e&&e!==O)try{const t=await ze.api.get("/partners/partners/",{params:{search:e,is_client:!0,page_size:20}}),n=t.data.results||t.data;A(n.filter(t=>t.name.toLowerCase().includes(e.toLowerCase())))}catch(t){console.error("Klaida ie\u0161kant partneri\u0173:",t)}else A([])},[O]),Le=(0,r.useCallback)(async e=>{if(e&&e!==ue)try{const t=await ze.api.get("/partners/partners/",{params:{search:e,is_supplier:!0,page_size:20}}),n=t.data.results||t.data;re(n.filter(t=>t.name.toLowerCase().includes(e.toLowerCase())))}catch(t){console.error("Klaida ie\u0161kant tiek\u0117j\u0173:",t)}else re([])},[ue]);(0,r.useEffect)(()=>{(async()=>{try{const e=await ze.api.get("/invoices/expense-categories/"),t=e.data.results||e.data;se(t)}catch(e){console.error("Klaida u\u017ekraunant i\u0161laid\u0173 kategorijas:",e)}})()},[]),(0,r.useEffect)(()=>{(async()=>{try{const e=await ze.api.get("/orders/orders/",{params:{page_size:50}}),t=e.data.results||e.data;T(t)}catch(e){console.error("Klaida u\u017ekraunant u\u017esakymus:",e)}})(),Ee(),Re()},[Ee,Re]),(0,r.useEffect)(()=>{"sales"===o?Ie():Oe()},[o,Ie,Oe]),(0,r.useEffect)(()=>{if(E&&E!==O){const e=setTimeout(()=>De(E),300);return()=>clearTimeout(e)}A([])},[E,O,De]),(0,r.useEffect)(()=>{if(oe&&oe!==ue){const e=setTimeout(()=>Le(oe),300);return()=>clearTimeout(e)}re([])},[oe,ue,Le]),(0,r.useEffect)(()=>{if(fe&&fe!==ye){const e=ie.filter(e=>e.name.toLowerCase().includes(fe.toLowerCase()));ge(e),ve(!0)}else ge([]),ve(!1)},[fe,ye,ie]);const Be=()=>{var e,t,n,a,r,i,s,o,l,d,c,u,p;const f=(null===ke||void 0===ke?void 0:ke.default_display_options)||{};C({invoice_number:"",partner_id:"",related_order_id:"",invoice_type:"final",payment_status:"unpaid",amount_net:"",vat_rate:"21.00",vat_rate_article:"",issue_date:(new Date).toISOString().split("T")[0],due_date:(()=>{const e=new Date,t=new Date(e);return t.setDate(t.getDate()+30),t.toISOString().split("T")[0]})(),payment_date:"",notes:"",display_options:{show_order_type:null===(e=f.show_order_type)||void 0===e||e,show_cargo_info:null===(t=f.show_cargo_info)||void 0===t||t,show_cargo_weight:null===(n=f.show_cargo_weight)||void 0===n||n,show_cargo_ldm:null===(a=f.show_cargo_ldm)||void 0===a||a,show_cargo_dimensions:null===(r=f.show_cargo_dimensions)||void 0===r||r,show_cargo_properties:null===(i=f.show_cargo_properties)||void 0===i||i,show_carriers:null===(s=f.show_carriers)||void 0===s||s,show_carrier_name:null===(o=f.show_carrier_name)||void 0===o||o,show_carrier_route:null===(l=f.show_carrier_route)||void 0===l||l,show_carrier_dates:null===(d=f.show_carrier_dates)||void 0===d||d,show_prices:null===(c=f.show_prices)||void 0===c||c,show_my_price:null===(u=f.show_my_price)||void 0===u||u,show_other_costs:null===(p=f.show_other_costs)||void 0===p||p}}),F(""),z(""),v(null)},Me=()=>{ne({partner_id:"",related_order_id:"",order_carrier_id:"",expense_category_id:"",received_invoice_number:"",payment_status:"unpaid",amount_net:"",vat_rate:"21.00",issue_date:(new Date).toISOString().split("T")[0],received_date:(new Date).toISOString().split("T")[0],due_date:(()=>{const e=new Date,t=new Date(e);return t.setDate(t.getDate()+30),t.toISOString().split("T")[0]})(),payment_date:"",invoice_file:null,notes:""}),pe(""),le(""),_e(""),me(""),H(null)},Ue=async e=>{if(!e||""===e.trim())return null;const t=ie.find(t=>t.name.toLowerCase().trim()===e.toLowerCase().trim());if(t)return t.id;try{const t=(await ze.api.post("/invoices/expense-categories/",{name:e.trim(),description:""})).data;return se(e=>[...e,t]),t.id}catch(r){var n,a;if(400===(null===(n=r.response)||void 0===n?void 0:n.status)||409===(null===(a=r.response)||void 0===a?void 0:a.status))try{const t=await ze.api.get("/invoices/expense-categories/",{params:{search:e.trim()}}),n=(t.data.results||t.data||[]).find(t=>t.name.toLowerCase().trim()===e.toLowerCase().trim());if(n)return se(e=>e.find(e=>e.id===n.id)?e:[...e,n]),n.id}catch(i){console.error("Klaida ie\u0161kant kategorijos:",i)}return console.error("Klaida kuriant kategorij\u0105:",r),null}};(0,r.useEffect)(()=>{const e=new URLSearchParams(i.search),t=e.get("sales_id");if(t)return l("sales"),ze.api.get("/invoices/sales/".concat(t,"/")).then(e=>{const t=e.data;w(t),j(!0)}).catch(e=>{console.error("Klaida u\u017ekraunant pardavimo s\u0105skait\u0105:",e),alert("Klaida u\u017ekraunant pardavimo s\u0105skait\u0105")}),void s("/invoices",{replace:!0});const n=e.get("purchase_id");if(n)return l("purchase"),ze.api.get("/invoices/purchase/".concat(n,"/")).then(e=>{const t=e.data;Z(t),J(!0)}).catch(e=>{console.error("Klaida u\u017ekraunant pirkimo s\u0105skait\u0105:",e),alert("Klaida u\u017ekraunant pirkimo s\u0105skait\u0105")}),void s("/invoices",{replace:!0});if("true"===e.get("create_purchase")){const t=e.get("order_carrier_id"),n=e.get("order_id"),a=e.get("partner_id"),r=e.get("amount_net");t&&a&&(l("purchase"),ne(e=>(0,Ve.A)((0,Ve.A)({},e),{},{partner_id:a,related_order_id:n||"",order_carrier_id:t,amount_net:r||"",received_date:(new Date).toISOString().split("T")[0]})),a&&ze.api.get("/partners/partners/".concat(a,"/")).then(e=>{pe(e.data.name),le(e.data.name)}).catch(e=>console.error("Klaida u\u017ekraunant tiek\u0117j\u0105:",e)),t&&ze.api.get("/orders/carriers/".concat(t,"/")).then(e=>{const t=e.data;ne(e=>(0,Ve.A)((0,Ve.A)({},e),{},{amount_net:t.price_net?String(t.price_net):e.amount_net,issue_date:t.loading_date?t.loading_date.includes("T")?t.loading_date.split("T")[0]:t.loading_date:e.issue_date}))}).catch(e=>console.error("Klaida u\u017ekraunant OrderCarrier:",e)),Y(!0),s("/invoices",{replace:!0}))}},[i.search,s]),(0,r.useEffect)(()=>{if(S.issue_date&&!S.due_date){const e=new Date(S.issue_date),t=new Date(e);t.setDate(t.getDate()+30),C(e=>(0,Ve.A)((0,Ve.A)({},e),{},{due_date:t.toISOString().split("T")[0]}))}},[S.issue_date,S.due_date]),(0,r.useEffect)(()=>{if(te.issue_date&&!te.due_date){const e=new Date(te.issue_date),t=new Date(e);t.setDate(t.getDate()+30),ne(e=>(0,Ve.A)((0,Ve.A)({},e),{},{due_date:t.toISOString().split("T")[0]}))}},[te.issue_date,te.due_date]);const We=e=>{var t,n,a,r,i,s,o,l,d,c,u,p,f,m,h,g,x,y,b,j,k,w,S,N,A;v(e),C({invoice_number:e.invoice_number||"",partner_id:(null===(t=e.partner_id)||void 0===t?void 0:t.toString())||e.partner.id.toString(),related_order_id:(null===(n=e.related_order_id)||void 0===n?void 0:n.toString())||(null===(a=e.related_order)||void 0===a?void 0:a.id.toString())||"",invoice_type:e.invoice_type,payment_status:e.payment_status,amount_net:e.amount_net,vat_rate:e.vat_rate,vat_rate_article:e.vat_rate_article||"",issue_date:e.issue_date?e.issue_date.includes("T")?e.issue_date.split("T")[0]:e.issue_date:"",due_date:e.due_date?e.due_date.includes("T")?e.due_date.split("T")[0]:e.due_date:"",payment_date:e.payment_date||"",notes:e.notes,display_options:e.display_options?{show_order_type:null===(r=e.display_options.show_order_type)||void 0===r||r,show_cargo_info:null===(i=e.display_options.show_cargo_info)||void 0===i||i,show_cargo_weight:null!==(s=e.display_options.show_cargo_weight)&&void 0!==s?s:null===(o=e.display_options.show_cargo_details)||void 0===o||o,show_cargo_ldm:null!==(l=e.display_options.show_cargo_ldm)&&void 0!==l?l:null===(d=e.display_options.show_cargo_details)||void 0===d||d,show_cargo_dimensions:null!==(c=e.display_options.show_cargo_dimensions)&&void 0!==c?c:null===(u=e.display_options.show_cargo_details)||void 0===u||u,show_cargo_properties:null!==(p=e.display_options.show_cargo_properties)&&void 0!==p?p:null===(f=e.display_options.show_cargo_details)||void 0===f||f,show_carriers:null===(m=e.display_options.show_carriers)||void 0===m||m,show_carrier_name:null!==(h=e.display_options.show_carrier_name)&&void 0!==h?h:null===(g=e.display_options.show_carrier_details)||void 0===g||g,show_carrier_route:null!==(x=e.display_options.show_carrier_route)&&void 0!==x?x:null===(y=e.display_options.show_carrier_details)||void 0===y||y,show_carrier_dates:null!==(b=e.display_options.show_carrier_dates)&&void 0!==b?b:null===(j=e.display_options.show_carrier_details)||void 0===j||j,show_prices:null===(k=e.display_options.show_prices)||void 0===k||k,show_my_price:null!==(w=e.display_options.show_my_price)&&void 0!==w?w:null===(S=e.display_options.show_price_details)||void 0===S||S,show_other_costs:null!==(N=e.display_options.show_other_costs)&&void 0!==N?N:null===(A=e.display_options.show_price_details)||void 0===A||A}:{show_order_type:!0,show_cargo_info:!0,show_cargo_weight:!0,show_cargo_ldm:!0,show_cargo_dimensions:!0,show_cargo_properties:!0,show_carriers:!0,show_carrier_name:!0,show_carrier_route:!0,show_carrier_dates:!0,show_prices:!0,show_my_price:!0,show_other_costs:!0}}),F(e.partner.name),z(e.partner.name),_(!0)},qe=e=>{var t,n,a,r,i;H(e),ne({partner_id:(null===(t=e.partner_id)||void 0===t?void 0:t.toString())||e.partner.id.toString(),related_order_id:(null===(n=e.related_order_id)||void 0===n?void 0:n.toString())||(null===(a=e.related_order)||void 0===a?void 0:a.id.toString())||"",order_carrier_id:"",expense_category_id:(null===(r=e.expense_category_id)||void 0===r?void 0:r.toString())||(null===(i=e.expense_category)||void 0===i?void 0:i.id.toString())||"",received_invoice_number:e.received_invoice_number||"",payment_status:e.payment_status,amount_net:e.amount_net,vat_rate:e.vat_rate,issue_date:e.issue_date?e.issue_date.includes("T")?e.issue_date.split("T")[0]:e.issue_date:"",received_date:e.received_date?e.received_date.includes("T")?e.received_date.split("T")[0]:e.received_date:(new Date).toISOString().split("T")[0],due_date:e.due_date?e.due_date.includes("T")?e.due_date.split("T")[0]:e.due_date:"",payment_date:e.payment_date||"",invoice_file:null,notes:e.notes}),pe(e.partner.name),le(e.partner.name),e.expense_category&&(_e(e.expense_category.name),me(e.expense_category.name)),Y(!0)},Ke=async e=>{let t="Ar tikrai norite i\u0161trinti pardavimo s\u0105skait\u0105 ".concat(e.invoice_number,"?");if(e.related_order||e.related_order_id){var n,a;const r=(null===(n=e.related_order)||void 0===n?void 0:n.order_number)||"#".concat(e.related_order_id||(null===(a=e.related_order)||void 0===a?void 0:a.id));t="Ar tikrai norite i\u0161trinti pardavimo s\u0105skait\u0105 ".concat(e.invoice_number,"?\n\n\u26a0\ufe0f \u0160i s\u0105skaita turi susijus\u012f u\u017esakym\u0105: ").concat(r,"\n\nU\u017esakymas nebus i\u0161trintas, bet ry\u0161ys su s\u0105skaita bus pa\u0161alintas.")}if(window.confirm(t))try{await ze.api.delete("/invoices/sales/".concat(e.id,"/")),Ae("success","Pardavimo s\u0105skaita s\u0117kmingai i\u0161trinta."),Ie()}catch(i){var r;const e=null===(r=i.response)||void 0===r?void 0:r.data;console.error("Klaida trinant pardavimo s\u0105skait\u0105:",e||i),Ae("error","Klaida trinant s\u0105skait\u0105: "+(null!==e&&void 0!==e&&e.error||e?JSON.stringify(e):i.message))}},He=async e=>{let t="Ar tikrai norite i\u0161trinti pirkimo s\u0105skait\u0105 ".concat(e.received_invoice_number,"?");if(e.related_order||e.related_order_id){var n,a;const r=(null===(n=e.related_order)||void 0===n?void 0:n.order_number)||"#".concat(e.related_order_id||(null===(a=e.related_order)||void 0===a?void 0:a.id));t="Ar tikrai norite i\u0161trinti pirkimo s\u0105skait\u0105 ".concat(e.received_invoice_number,"?\n\n\u26a0\ufe0f \u0160i s\u0105skaita turi susijus\u012f u\u017esakym\u0105: ").concat(r,"\n\nU\u017esakymas nebus i\u0161trintas, bet ry\u0161ys su s\u0105skaita bus pa\u0161alintas.")}if(window.confirm(t))try{await ze.api.delete("/invoices/purchase/".concat(e.id,"/")),Ae("success","Pirkimo s\u0105skaita s\u0117kmingai i\u0161trinta."),Oe()}catch(i){var r;const e=null===(r=i.response)||void 0===r?void 0:r.data;console.error("Klaida trinant pirkimo s\u0105skait\u0105:",e||i),Ae("error","Klaida trinant s\u0105skait\u0105: "+(null!==e&&void 0!==e&&e.error||e?JSON.stringify(e):i.message))}},$e=e=>{const t={unpaid:{text:"Neapmok\u0117ta",class:"badge-unpaid"},paid:{text:"Apmok\u0117ta",class:"badge-paid"},overdue:{text:"V\u0117luoja",class:"badge-overdue"},partially_paid:{text:"Dalinis apmok\u0117jimas",class:"badge-partial"}}[e]||{text:e,class:"badge-default"};return(0,Fe.jsx)("span",{className:"badge ".concat(t.class),children:t.text})};return(0,Fe.jsx)("div",{className:"page",children:(0,Fe.jsxs)("div",{className:"container",children:[Se.visible&&(0,Fe.jsx)("div",{style:{position:"fixed",top:"20%",left:"50%",transform:"translateX(-50%)",zIndex:2e3,backgroundColor:"success"===Se.type?"#28a745":"error"===Se.type?"#dc3545":"#17a2b8",color:"#fff",padding:"12px 18px",borderRadius:8,boxShadow:"0 6px 20px rgba(0,0,0,0.25)",maxWidth:"90%",textAlign:"center"},children:Se.message}),Pe.open&&(0,Fe.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3},children:(0,Fe.jsxs)("div",{className:"card",style:{width:420},children:[(0,Fe.jsx)("h3",{style:{marginTop:0},children:Pe.title||"Patvirtinkite veiksm\u0105"}),(0,Fe.jsx)("p",{style:{margin:"10px 0 20px"},children:Pe.message||"Ar tikrai?"}),(0,Fe.jsxs)("div",{style:{display:"flex",gap:10,justifyContent:"flex-end"},children:[(0,Fe.jsx)("button",{className:"button button-secondary",onClick:()=>Te({open:!1}),children:"At\u0161aukti"}),(0,Fe.jsx)("button",{className:"button",onClick:()=>Pe.onConfirm&&Pe.onConfirm(),children:"Patvirtinti"})]})]})}),(0,Fe.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[(0,Fe.jsx)("h1",{children:"S\u0105skaitos"}),(0,Fe.jsx)("button",{className:"btn btn-primary",onClick:()=>{"sales"===o?(Be(),_(!0)):(Me(),Y(!0))},children:"+ Nauja s\u0105skaita"})]}),(0,Fe.jsxs)("div",{className:"invoice-tabs",children:[(0,Fe.jsx)("button",{className:"tab ".concat("sales"===o?"active":""),onClick:()=>l("sales"),children:"Pardavimo s\u0105skaitos"}),(0,Fe.jsx)("button",{className:"tab ".concat("purchase"===o?"active":""),onClick:()=>l("purchase"),children:"Pirkimo s\u0105skaitos"})]}),"sales"===o&&(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsxs)("div",{className:"filters-container",children:[(0,Fe.jsxs)("div",{className:"filters-header",children:[(0,Fe.jsxs)("button",{className:"filters-toggle-btn",onClick:()=>g(!h),children:[h?"\u25bc":"\u25b6"," Detalus filtravimas"]}),Object.values(f).some(e=>e)&&(0,Fe.jsx)("span",{className:"filters-active-badge",children:"Aktyv\u016bs filtrai"}),Object.values(f).some(e=>e)&&(0,Fe.jsx)("button",{className:"filters-clear-btn",onClick:()=>{m({payment_status:"",invoice_type:"",partner_id:"",issue_date_from:"",issue_date_to:"",due_date_from:"",due_date_to:"",search:""})},children:"I\u0161valyti filtrai"})]}),h&&(0,Fe.jsx)("div",{className:"filters-panel",children:(0,Fe.jsxs)("div",{className:"filters-grid",children:[(0,Fe.jsxs)("div",{className:"filter-field",children:[(0,Fe.jsx)("label",{children:"Mok\u0117jimo statusas"}),(0,Fe.jsxs)("select",{value:f.payment_status,onChange:e=>m((0,Ve.A)((0,Ve.A)({},f),{},{payment_status:e.target.value})),children:[(0,Fe.jsx)("option",{value:"",children:"Visi"}),(0,Fe.jsx)("option",{value:"unpaid",children:"Neapmok\u0117ta"}),(0,Fe.jsx)("option",{value:"paid",children:"Apmok\u0117ta"}),(0,Fe.jsx)("option",{value:"overdue",children:"V\u0117luoja"}),(0,Fe.jsx)("option",{value:"partially_paid",children:"Dalinis apmok\u0117jimas"})]})]}),(0,Fe.jsxs)("div",{className:"filter-field",children:[(0,Fe.jsx)("label",{children:"S\u0105skaitos tipas"}),(0,Fe.jsxs)("select",{value:f.invoice_type,onChange:e=>m((0,Ve.A)((0,Ve.A)({},f),{},{invoice_type:e.target.value})),children:[(0,Fe.jsx)("option",{value:"",children:"Visi"}),(0,Fe.jsx)("option",{value:"pre_invoice",children:"Pro forma s\u0105skaita"}),(0,Fe.jsx)("option",{value:"final",children:"Galutin\u0117 s\u0105skaita"}),(0,Fe.jsx)("option",{value:"credit",children:"Kreditin\u0117 s\u0105skaita"}),(0,Fe.jsx)("option",{value:"proforma",children:"Proforma"})]})]}),(0,Fe.jsxs)("div",{className:"filter-field",children:[(0,Fe.jsx)("label",{children:"I\u0161ra\u0161ymo data nuo"}),(0,Fe.jsx)("input",{type:"date",value:f.issue_date_from,onChange:e=>m((0,Ve.A)((0,Ve.A)({},f),{},{issue_date_from:e.target.value}))})]}),(0,Fe.jsxs)("div",{className:"filter-field",children:[(0,Fe.jsx)("label",{children:"I\u0161ra\u0161ymo data iki"}),(0,Fe.jsx)("input",{type:"date",value:f.issue_date_to,onChange:e=>m((0,Ve.A)((0,Ve.A)({},f),{},{issue_date_to:e.target.value}))})]}),(0,Fe.jsxs)("div",{className:"filter-field",children:[(0,Fe.jsx)("label",{children:"Mok\u0117jimo terminas nuo"}),(0,Fe.jsx)("input",{type:"date",value:f.due_date_from,onChange:e=>m((0,Ve.A)((0,Ve.A)({},f),{},{due_date_from:e.target.value}))})]}),(0,Fe.jsxs)("div",{className:"filter-field",children:[(0,Fe.jsx)("label",{children:"Mok\u0117jimo terminas iki"}),(0,Fe.jsx)("input",{type:"date",value:f.due_date_to,onChange:e=>m((0,Ve.A)((0,Ve.A)({},f),{},{due_date_to:e.target.value}))})]}),(0,Fe.jsxs)("div",{className:"filter-field",children:[(0,Fe.jsx)("label",{children:"Paie\u0161ka"}),(0,Fe.jsx)("input",{type:"text",placeholder:"S\u0105skaitos numeris, partneris...",value:f.search,onChange:e=>m((0,Ve.A)((0,Ve.A)({},f),{},{search:e.target.value}))})]})]})})]}),u?(0,Fe.jsx)("p",{children:"Kraunama..."}):(0,Fe.jsxs)("table",{className:"data-table",children:[(0,Fe.jsx)("thead",{children:(0,Fe.jsxs)("tr",{children:[(0,Fe.jsx)("th",{children:"S\u0105skaitos numeris"}),(0,Fe.jsx)("th",{children:"Tipas"}),(0,Fe.jsx)("th",{children:"Klientas"}),(0,Fe.jsx)("th",{children:"Suma su PVM"}),(0,Fe.jsx)("th",{children:"I\u0161ra\u0161ymo data"}),(0,Fe.jsx)("th",{children:"Mok\u0117jimo terminas"}),(0,Fe.jsx)("th",{children:"Mok\u0117jimo statusas"}),(0,Fe.jsx)("th",{children:"Veiksmai"})]})}),(0,Fe.jsx)("tbody",{children:0===d.length?(0,Fe.jsx)("tr",{children:(0,Fe.jsx)("td",{colSpan:8,style:{textAlign:"center"},children:"Pardavimo s\u0105skait\u0173 nerasta"})}):d.map(e=>{var t,a;return(0,Fe.jsxs)("tr",{onClick:()=>(async e=>{try{const t=await ze.api.get("/invoices/sales/".concat(e.id,"/"));w(t.data),j(!0)}catch(t){console.error("Klaida u\u017ekraunant s\u0105skaitos detales:",t),Ae("error","Nepavyko u\u017ekrauti s\u0105skaitos detali\u0173"),w(e),j(!0)}})(e),style:{cursor:"pointer",backgroundColor:e.related_order||e.related_order_id?"transparent":"#fff9e6",borderLeft:e.related_order||e.related_order_id?"none":"4px solid #ffc107"},title:e.related_order||e.related_order_id?"":"\u0160i s\u0105skaita neturi susijusio u\u017esakymo",children:[(0,Fe.jsx)("td",{children:(0,Fe.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,Fe.jsx)("div",{children:e.invoice_number}),(e.related_order||e.related_order_id)&&(0,Fe.jsx)("div",{style:{fontSize:"11px",color:"#666",marginTop:"2px"},children:(null===(t=e.related_order)||void 0===t?void 0:t.order_number)||"#".concat(e.related_order_id||(null===(a=e.related_order)||void 0===a?void 0:a.id))}),!e.related_order&&!e.related_order_id&&(0,Fe.jsx)("span",{style:{marginLeft:"0px",color:"#ff9800",fontSize:"11px",marginTop:"2px"},title:"Neturi susijusio u\u017esakymo",children:"\u26a0\ufe0f"})]})}),(0,Fe.jsx)("td",{children:e.invoice_type_display}),(0,Fe.jsx)("td",{children:e.partner.name}),(0,Fe.jsx)("td",{children:(0,Fe.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,Fe.jsxs)("div",{children:[parseFloat(e.amount_total).toFixed(2)," \u20ac"]}),(0,Fe.jsxs)("div",{style:{fontSize:"11px",color:"#666",marginTop:"2px"},children:[parseFloat(e.amount_net).toFixed(2)," \u20ac be PVM"]})]})}),(0,Fe.jsx)("td",{children:e.issue_date}),(0,Fe.jsxs)("td",{children:[e.due_date,e.overdue_days>0&&(0,Fe.jsxs)("span",{className:"overdue-badge",children:[" (",e.overdue_days," d.)"]})]}),(0,Fe.jsx)("td",{children:$e(e.payment_status)}),(0,Fe.jsx)("td",{onClick:e=>e.stopPropagation(),children:(0,Fe.jsxs)("div",{style:{display:"flex",gap:"6px",alignItems:"center",flexWrap:"wrap"},children:[(0,Fe.jsx)("button",{className:"btn btn-sm btn-info",onClick:async t=>{t.stopPropagation();try{const t=await(await Promise.resolve().then(n.bind(n,677))).api.get("/invoices/sales/".concat(e.id,"/preview/"),{responseType:"text"}),a=window.open("","_blank");a?(a.document.open(),a.document.write(t.data),a.document.close()):Ae("info","Nar\u0161ykl\u0117 u\u017eblokavo lang\u0105. Leiskite popup langus.")}catch(t){var a,r;Ae("error","Nepavyko atidaryti s\u0105skaitos HTML: "+((null===(a=t.response)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.detail)||t.message||"Ne\u017einoma klaida"))}},style:{padding:"6px 10px",fontSize:"16px",backgroundColor:"#17a2b8",borderColor:"#17a2b8",borderRadius:"4px",cursor:"pointer",border:"none",color:"white",minWidth:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center"},title:"Per\u017ei\u016br\u0117ti HTML",children:"\ud83d\udcc4"}),(0,Fe.jsx)("button",{className:"btn btn-sm btn-info",onClick:async t=>{t.stopPropagation();try{const{api:t}=await Promise.resolve().then(n.bind(n,677)),a=await t.get("/invoices/sales/".concat(e.id,"/pdf/"),{responseType:"blob"}),r=new Blob([a.data],{type:"application/pdf"}),i=URL.createObjectURL(r),s=document.createElement("a");s.href=i,s.download="".concat(e.invoice_number,".pdf"),s.style.display="none",document.body.appendChild(s),s.click(),document.body.removeChild(s),setTimeout(()=>URL.revokeObjectURL(i),100)}catch(t){var a;Ae("error","Nepavyko parsisi\u0173sti PDF: "+((null===(a=t.response)||void 0===a?void 0:a.data)||t.message||"Ne\u017einoma klaida"))}},style:{padding:"6px 10px",fontSize:"16px",backgroundColor:"#28a745",borderColor:"#28a745",borderRadius:"4px",cursor:"pointer",border:"none",color:"white",minWidth:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center"},title:"Parsisi\u0173sti PDF",children:"\ud83d\udce5"}),(e.related_order||e.related_order_id)&&(0,Fe.jsx)("button",{className:"btn btn-sm",onClick:t=>{var n;t.stopPropagation();const a=(null===(n=e.related_order)||void 0===n?void 0:n.id)||e.related_order_id;window.location.href="/orders?order_id=".concat(a)},style:{padding:"6px 10px",fontSize:"16px",backgroundColor:"#6c757d",borderColor:"#6c757d",borderRadius:"4px",cursor:"pointer",border:"none",color:"white",minWidth:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center"},title:"Atidaryti susijus\u012f u\u017esakym\u0105",children:"\ud83d\udccb"}),(0,Fe.jsx)("button",{className:"btn btn-sm btn-primary",onClick:t=>{t.stopPropagation(),We(e)},style:{padding:"6px 10px",fontSize:"16px",backgroundColor:"#007bff",borderColor:"#007bff",borderRadius:"4px",cursor:"pointer",border:"none",color:"white",minWidth:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center"},title:"Redaguoti s\u0105skait\u0105",children:"\u270f\ufe0f"}),(0,Fe.jsx)("button",{className:"btn btn-sm btn-danger",onClick:t=>{t.stopPropagation(),Ke(e)},style:{padding:"6px 10px",fontSize:"16px",backgroundColor:"#dc3545",borderColor:"#dc3545",borderRadius:"4px",cursor:"pointer",border:"none",color:"white",minWidth:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center"},title:"I\u0161trinti s\u0105skait\u0105",children:"\ud83d\uddd1\ufe0f"})]})})]},e.id)})})]})]}),"purchase"===o&&(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsxs)("div",{className:"filters-container",children:[(0,Fe.jsxs)("div",{className:"filters-header",children:[(0,Fe.jsxs)("button",{className:"filters-toggle-btn",onClick:()=>q(!W),children:[W?"\u25bc":"\u25b6"," Detalus filtravimas"]}),Object.values(U).some(e=>e)&&(0,Fe.jsx)("span",{className:"filters-active-badge",children:"Aktyv\u016bs filtrai"}),Object.values(U).some(e=>e)&&(0,Fe.jsx)("button",{className:"filters-clear-btn",onClick:()=>{V({payment_status:"",partner_id:"",expense_category_id:"",issue_date_from:"",issue_date_to:"",due_date_from:"",due_date_to:"",search:""})},children:"I\u0161valyti filtrai"})]}),W&&(0,Fe.jsx)("div",{className:"filters-panel",children:(0,Fe.jsxs)("div",{className:"filters-grid",children:[(0,Fe.jsxs)("div",{className:"filter-field",children:[(0,Fe.jsx)("label",{children:"Mok\u0117jimo statusas"}),(0,Fe.jsxs)("select",{value:U.payment_status,onChange:e=>V((0,Ve.A)((0,Ve.A)({},U),{},{payment_status:e.target.value})),children:[(0,Fe.jsx)("option",{value:"",children:"Visi"}),(0,Fe.jsx)("option",{value:"unpaid",children:"Neapmok\u0117ta"}),(0,Fe.jsx)("option",{value:"paid",children:"Apmok\u0117ta"}),(0,Fe.jsx)("option",{value:"overdue",children:"V\u0117luoja"}),(0,Fe.jsx)("option",{value:"partially_paid",children:"Dalinis apmok\u0117jimas"})]})]}),(0,Fe.jsxs)("div",{className:"filter-field",children:[(0,Fe.jsx)("label",{children:"I\u0161laid\u0173 kategorija"}),(0,Fe.jsxs)("select",{value:U.expense_category_id,onChange:e=>V((0,Ve.A)((0,Ve.A)({},U),{},{expense_category_id:e.target.value})),children:[(0,Fe.jsx)("option",{value:"",children:"Viskas"}),ie.map(e=>(0,Fe.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,Fe.jsxs)("div",{className:"filter-field",children:[(0,Fe.jsx)("label",{children:"I\u0161ra\u0161ymo data nuo"}),(0,Fe.jsx)("input",{type:"date",value:U.issue_date_from,onChange:e=>V((0,Ve.A)((0,Ve.A)({},U),{},{issue_date_from:e.target.value}))})]}),(0,Fe.jsxs)("div",{className:"filter-field",children:[(0,Fe.jsx)("label",{children:"I\u0161ra\u0161ymo data iki"}),(0,Fe.jsx)("input",{type:"date",value:U.issue_date_to,onChange:e=>V((0,Ve.A)((0,Ve.A)({},U),{},{issue_date_to:e.target.value}))})]}),(0,Fe.jsxs)("div",{className:"filter-field",children:[(0,Fe.jsx)("label",{children:"Mok\u0117jimo terminas nuo"}),(0,Fe.jsx)("input",{type:"date",value:U.due_date_from,onChange:e=>V((0,Ve.A)((0,Ve.A)({},U),{},{due_date_from:e.target.value}))})]}),(0,Fe.jsxs)("div",{className:"filter-field",children:[(0,Fe.jsx)("label",{children:"Mok\u0117jimo terminas iki"}),(0,Fe.jsx)("input",{type:"date",value:U.due_date_to,onChange:e=>V((0,Ve.A)((0,Ve.A)({},U),{},{due_date_to:e.target.value}))})]}),(0,Fe.jsxs)("div",{className:"filter-field",children:[(0,Fe.jsx)("label",{children:"Paie\u0161ka"}),(0,Fe.jsx)("input",{type:"text",placeholder:"S\u0105skaitos numeris, tiek\u0117jas...",value:U.search,onChange:e=>V((0,Ve.A)((0,Ve.A)({},U),{},{search:e.target.value}))})]})]})})]}),B?(0,Fe.jsx)("p",{children:"Kraunama..."}):(0,Fe.jsxs)("table",{className:"data-table",children:[(0,Fe.jsx)("thead",{children:(0,Fe.jsxs)("tr",{children:[(0,Fe.jsx)("th",{children:"Tiek\u0117jo s\u0105skaitos numeris"}),(0,Fe.jsx)("th",{children:"Tiek\u0117jas"}),(0,Fe.jsx)("th",{children:"Suma su PVM"}),(0,Fe.jsx)("th",{children:"Gavimo data"}),(0,Fe.jsx)("th",{children:"Mok\u0117jimo terminas"}),(0,Fe.jsx)("th",{children:"Mok\u0117jimo statusas"}),(0,Fe.jsx)("th",{children:"Veiksmai"})]})}),(0,Fe.jsx)("tbody",{children:0===D.length?(0,Fe.jsx)("tr",{children:(0,Fe.jsx)("td",{colSpan:7,style:{textAlign:"center"},children:"Pirkimo s\u0105skait\u0173 nerasta"})}):D.map(e=>{var t,n;return(0,Fe.jsxs)("tr",{onClick:()=>(e=>{Z(e),J(!0)})(e),style:{cursor:"pointer",backgroundColor:e.related_order||e.related_order_id?"transparent":"#fff9e6",borderLeft:e.related_order||e.related_order_id?"none":"4px solid #ffc107"},title:e.related_order||e.related_order_id?"":"\u0160i s\u0105skaita neturi susijusio u\u017esakymo",children:[(0,Fe.jsx)("td",{children:(0,Fe.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,Fe.jsx)("div",{children:e.received_invoice_number}),(e.related_order||e.related_order_id)&&(0,Fe.jsx)("div",{style:{fontSize:"11px",color:"#666",marginTop:"2px"},children:(null===(t=e.related_order)||void 0===t?void 0:t.order_number)||"#".concat(e.related_order_id||(null===(n=e.related_order)||void 0===n?void 0:n.id))}),!e.related_order&&!e.related_order_id&&(0,Fe.jsx)("span",{style:{marginLeft:"0px",color:"#ff9800",fontSize:"11px",marginTop:"2px"},title:"Neturi susijusio u\u017esakymo",children:"\u26a0\ufe0f"})]})}),(0,Fe.jsx)("td",{children:e.partner.name}),(0,Fe.jsx)("td",{children:(0,Fe.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,Fe.jsxs)("div",{children:[parseFloat(e.amount_total).toFixed(2)," \u20ac"]}),(0,Fe.jsxs)("div",{style:{fontSize:"11px",color:"#666",marginTop:"2px"},children:[parseFloat(e.amount_net).toFixed(2)," \u20ac be PVM"]})]})}),(0,Fe.jsx)("td",{children:e.received_date||"-"}),(0,Fe.jsxs)("td",{children:[e.due_date,e.overdue_days>0&&(0,Fe.jsxs)("span",{className:"overdue-badge",children:[" (",e.overdue_days," d.)"]})]}),(0,Fe.jsx)("td",{children:$e(e.payment_status)}),(0,Fe.jsx)("td",{onClick:e=>e.stopPropagation(),children:(0,Fe.jsxs)("div",{style:{display:"flex",gap:"6px",alignItems:"center"},children:[(e.related_order||e.related_order_id)&&(0,Fe.jsx)("button",{className:"btn btn-sm",onClick:t=>{var n;t.stopPropagation();const a=(null===(n=e.related_order)||void 0===n?void 0:n.id)||e.related_order_id;window.location.href="/orders?order_id=".concat(a)},style:{padding:"6px 10px",fontSize:"16px",backgroundColor:"#6c757d",borderColor:"#6c757d",borderRadius:"4px",cursor:"pointer",border:"none",color:"white",minWidth:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center"},title:"Atidaryti susijus\u012f u\u017esakym\u0105",children:"\ud83d\udccb"}),(0,Fe.jsx)("button",{className:"btn btn-sm btn-primary",onClick:t=>{t.stopPropagation(),qe(e)},style:{padding:"6px 10px",fontSize:"16px",backgroundColor:"#007bff",borderColor:"#007bff",borderRadius:"4px",cursor:"pointer",border:"none",color:"white",minWidth:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center"},title:"Redaguoti s\u0105skait\u0105",children:"\u270f\ufe0f"}),(0,Fe.jsx)("button",{className:"btn btn-sm btn-danger",onClick:t=>{t.stopPropagation(),He(e)},style:{padding:"6px 10px",fontSize:"16px",backgroundColor:"#dc3545",borderColor:"#dc3545",borderRadius:"4px",cursor:"pointer",border:"none",color:"white",minWidth:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center"},title:"I\u0161trinti s\u0105skait\u0105",children:"\ud83d\uddd1\ufe0f"})]})})]},e.id)})})]})]}),y&&(0,Fe.jsx)("div",{className:"modal-overlay",onClick:()=>{_(!1),Be()},children:(0,Fe.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,Fe.jsxs)("div",{className:"modal-header",children:[(0,Fe.jsx)("h2",{children:x?"Redaguoti pardavimo s\u0105skait\u0105":"Nauja pardavimo s\u0105skaita"}),(0,Fe.jsx)("button",{className:"modal-close",onClick:()=>{_(!1),Be()},children:"\xd7"})]}),(0,Fe.jsxs)("form",{onSubmit:x?async e=>{if(e.preventDefault(),!x)return;if(!S.partner_id)return void Ae("info","Pasirinkite klient\u0105.");if(!S.vat_rate)return void Ae("info","\u012eveskite PVM tarif\u0105.");if(!S.issue_date)return void Ae("info","Pasirinkite i\u0161ra\u0161ymo dat\u0105.");if(!S.due_date)return void Ae("info","Pasirinkite mok\u0117jimo termin\u0105.");if(!S.amount_net)return void Ae("info","\u012eveskite sum\u0105.");const t=parseFloat(S.amount_net);try{const e={invoice_number:S.invoice_number||x.invoice_number,partner_id:parseInt(S.partner_id),invoice_type:S.invoice_type,payment_status:S.payment_status,amount_net:t,vat_rate:parseFloat(S.vat_rate),vat_rate_article:S.vat_rate_article||"",issue_date:S.issue_date?"".concat(S.issue_date,"T00:00"):null,due_date:S.due_date?"".concat(S.due_date,"T00:00"):null,notes:S.notes};S.related_order_id&&(e.related_order_id=parseInt(S.related_order_id)),S.payment_date&&(e.payment_date=S.payment_date),S.display_options&&(e.display_options=S.display_options),await ze.api.put("/invoices/sales/".concat(x.id,"/"),e),Be(),_(!1),Ie()}catch(a){var n;const e=null===(n=a.response)||void 0===n?void 0:n.data;console.error("Sales invoice update error:",e||a),Ae("error","Klaida atnaujinant s\u0105skait\u0105: "+(e?JSON.stringify(e):a.message))}}:async e=>{if(e.preventDefault(),!S.partner_id)return void Ae("info","Pasirinkite klient\u0105.");if(!S.vat_rate)return void Ae("info","\u012eveskite PVM tarif\u0105.");if(!S.issue_date)return void Ae("info","Pasirinkite i\u0161ra\u0161ymo dat\u0105.");if(!S.due_date)return void Ae("info","Pasirinkite mok\u0117jimo termin\u0105.");if(!S.amount_net)return void Ae("info","\u012eveskite sum\u0105.");const t=parseFloat(S.amount_net);try{const e={partner_id:parseInt(S.partner_id),invoice_type:S.invoice_type,payment_status:S.payment_status,amount_net:t,vat_rate:parseFloat(S.vat_rate),vat_rate_article:S.vat_rate_article||"",issue_date:S.issue_date?"".concat(S.issue_date,"T00:00"):null,due_date:S.due_date?"".concat(S.due_date,"T00:00"):null,notes:S.notes};S.related_order_id&&(e.related_order_id=parseInt(S.related_order_id)),S.payment_date&&(e.payment_date=S.payment_date),S.display_options&&(e.display_options=S.display_options),S.invoice_number&&(e.invoice_number=S.invoice_number.toUpperCase()),await ze.api.post("/invoices/sales/",e),Be(),_(!1),Ie()}catch(a){var n;const e=null===(n=a.response)||void 0===n?void 0:n.data;console.error("Sales invoice create error:",e||a),Ae("error","Klaida kuriant s\u0105skait\u0105: "+(e?JSON.stringify(e):a.message))}},children:[(0,Fe.jsxs)("div",{className:"form-grid",children:[(0,Fe.jsxs)("div",{className:"form-field",children:[(0,Fe.jsx)("label",{children:"S\u0105skaitos numeris"}),(0,Fe.jsx)("input",{type:"text",value:S.invoice_number,onChange:e=>C((0,Ve.A)((0,Ve.A)({},S),{},{invoice_number:e.target.value.toUpperCase()})),placeholder:(null===ke||void 0===ke?void 0:ke.next_invoice_number)||"Sugeneruos automati\u0161kai"}),(0,Fe.jsx)("small",{style:{color:"#666",fontSize:"12px"},children:"Jei paliksite tu\u0161\u010di\u0105, numeris bus sugeneruotas automati\u0161kai"})]}),(0,Fe.jsxs)("div",{className:"form-field",children:[(0,Fe.jsx)("label",{children:"Klientas *"}),(0,Fe.jsxs)("div",{className:"autocomplete-wrapper",children:[(0,Fe.jsx)("input",{type:"text",value:E,onChange:e=>{z(e.target.value),I(!0)},onFocus:()=>{E&&E!==O&&I(!0)},onBlur:()=>setTimeout(()=>I(!1),200),placeholder:"Ie\u0161koti kliento...",required:!0}),R&&N.length>0&&(0,Fe.jsx)("div",{className:"autocomplete-dropdown",children:N.map(e=>(0,Fe.jsxs)("div",{className:"autocomplete-item",onMouseDown:t=>{t.preventDefault(),(e=>{C((0,Ve.A)((0,Ve.A)({},S),{},{partner_id:e.id.toString()})),F(e.name),z(e.name),I(!1),A([]);const t=new Date(S.issue_date),n=new Date(t);n.setDate(n.getDate()+30),C(e=>(0,Ve.A)((0,Ve.A)({},e),{},{due_date:n.toISOString().split("T")[0]}))})(e)},children:[e.name," (",e.code,")"]},e.id))})]})]}),(0,Fe.jsxs)("div",{className:"form-field",children:[(0,Fe.jsx)("label",{children:"Susij\u0119s u\u017esakymas"}),(0,Fe.jsxs)("select",{value:S.related_order_id,onChange:e=>{const t=e.target.value;if(C((0,Ve.A)((0,Ve.A)({},S),{},{related_order_id:t})),t){const e=P.find(e=>e.id===parseInt(t));if(e){var n;const t=null!==(n=e.client_price_net)&&void 0!==n?n:e.calculated_client_price_net,a=null!==t&&void 0!==t?String(t):"",r=null!==e.vat_rate&&void 0!==e.vat_rate?String(e.vat_rate):S.vat_rate;C(e=>(0,Ve.A)((0,Ve.A)({},e),{},{amount_net:a,vat_rate:r})),e.client&&(C(t=>(0,Ve.A)((0,Ve.A)({},t),{},{partner_id:String(e.client.id)})),F(e.client.name),z(e.client.name),I(!1))}}},children:[(0,Fe.jsx)("option",{value:"",children:"N\u0117ra"}),P.map(e=>(0,Fe.jsx)("option",{value:e.id,children:e.order_number||"U\u017esakymas #".concat(e.id)},e.id))]})]}),(0,Fe.jsxs)("div",{className:"form-field",children:[(0,Fe.jsx)("label",{children:"S\u0105skaitos tipas *"}),(0,Fe.jsxs)("select",{value:S.invoice_type,onChange:e=>C((0,Ve.A)((0,Ve.A)({},S),{},{invoice_type:e.target.value})),required:!0,children:[(0,Fe.jsx)("option",{value:"pre_invoice",children:"Pro forma s\u0105skaita"}),(0,Fe.jsx)("option",{value:"final",children:"Galutin\u0117 s\u0105skaita"}),(0,Fe.jsx)("option",{value:"credit",children:"Kreditin\u0117 s\u0105skaita"}),(0,Fe.jsx)("option",{value:"proforma",children:"Proforma"})]})]}),(0,Fe.jsxs)("div",{className:"form-field",children:[(0,Fe.jsx)("label",{children:"Mok\u0117jimo statusas *"}),(0,Fe.jsxs)("select",{value:S.payment_status,onChange:e=>C((0,Ve.A)((0,Ve.A)({},S),{},{payment_status:e.target.value})),required:!0,children:[(0,Fe.jsx)("option",{value:"unpaid",children:"Neapmok\u0117ta"}),(0,Fe.jsx)("option",{value:"paid",children:"Apmok\u0117ta"}),(0,Fe.jsx)("option",{value:"overdue",children:"V\u0117luoja"}),(0,Fe.jsx)("option",{value:"partially_paid",children:"Dalinis apmok\u0117jimas"})]})]}),(0,Fe.jsxs)("div",{className:"form-field",children:[(0,Fe.jsx)("label",{children:"Suma be PVM *"}),(0,Fe.jsx)("input",{type:"number",step:"0.01",value:S.amount_net,onChange:e=>C((0,Ve.A)((0,Ve.A)({},S),{},{amount_net:e.target.value})),required:!0})]}),(0,Fe.jsxs)("div",{className:"form-field",children:[(0,Fe.jsx)("label",{children:"PVM tarifas su straipsniu *"}),(0,Fe.jsxs)("select",{value:(null===(e=be.find(e=>e.rate===S.vat_rate&&e.article===S.vat_rate_article))||void 0===e?void 0:e.id)||"",onChange:e=>{const t=be.find(t=>t.id===parseInt(e.target.value));t&&C((0,Ve.A)((0,Ve.A)({},S),{},{vat_rate:t.rate,vat_rate_article:t.article||""}))},required:!0,style:{width:"100%",padding:"8px",fontSize:"14px",border:"1px solid #ccc",borderRadius:"4px"},children:[(0,Fe.jsx)("option",{value:"",children:"-- Pasirinkite PVM tarif\u0105 --"}),be.map(e=>(0,Fe.jsxs)("option",{value:e.id,children:[e.rate,"%",e.article?" - ".concat(e.article):""]},e.id))]}),S.vat_rate_article&&(0,Fe.jsxs)("small",{style:{color:"#666",fontSize:"12px",display:"block",marginTop:"4px"},children:["Straipsnis: ",S.vat_rate_article]}),0===be.length&&(0,Fe.jsx)("small",{style:{color:"#dc3545",fontSize:"12px",display:"block",marginTop:"4px"},children:"PVM tarif\u0173 n\u0117ra. Pra\u0161ome prid\u0117ti nustatymuose."})]}),(0,Fe.jsxs)("div",{className:"form-field",children:[(0,Fe.jsx)("label",{children:"I\u0161ra\u0161ymo data *"}),(0,Fe.jsx)("input",{type:"date",value:S.issue_date,onChange:e=>C((0,Ve.A)((0,Ve.A)({},S),{},{issue_date:e.target.value})),required:!0})]}),(0,Fe.jsxs)("div",{className:"form-field",children:[(0,Fe.jsx)("label",{children:"Mok\u0117jimo terminas *"}),(0,Fe.jsx)("input",{type:"date",value:S.due_date,onChange:e=>C((0,Ve.A)((0,Ve.A)({},S),{},{due_date:e.target.value})),required:!0})]}),(0,Fe.jsxs)("div",{className:"form-field",children:[(0,Fe.jsx)("label",{children:"Mok\u0117jimo data"}),(0,Fe.jsx)("input",{type:"date",value:S.payment_date,onChange:e=>C((0,Ve.A)((0,Ve.A)({},S),{},{payment_date:e.target.value}))})]}),(0,Fe.jsxs)("div",{className:"form-field full-width",children:[(0,Fe.jsx)("label",{children:"Pastabos"}),(0,Fe.jsx)("textarea",{value:S.notes,onChange:e=>C((0,Ve.A)((0,Ve.A)({},S),{},{notes:e.target.value})),rows:3})]}),(0,Fe.jsxs)("div",{className:"form-field full-width",style:{borderTop:"2px solid #e0e0e0",paddingTop:"15px",marginTop:"10px"},children:[(0,Fe.jsx)("h3",{style:{marginBottom:"15px",fontSize:"16px",fontWeight:"bold"},children:"S\u0105skaitos rodymo nustatymai"}),(0,Fe.jsx)("div",{style:{marginBottom:"20px",padding:"10px",backgroundColor:"#f9f9f9",borderRadius:"5px"},children:(0,Fe.jsxs)("label",{style:{display:"flex",alignItems:"center",fontWeight:"bold",marginBottom:"10px"},children:[(0,Fe.jsx)("input",{type:"checkbox",checked:S.display_options.show_order_type,onChange:e=>C((0,Ve.A)((0,Ve.A)({},S),{},{display_options:(0,Ve.A)((0,Ve.A)({},S.display_options),{},{show_order_type:e.target.checked})})),style:{marginRight:"8px"}}),"Rodyti u\u017esakymo tip\u0105"]})}),(0,Fe.jsxs)("div",{style:{marginBottom:"20px",padding:"10px",backgroundColor:"#f9f9f9",borderRadius:"5px"},children:[(0,Fe.jsxs)("label",{style:{display:"flex",alignItems:"center",fontWeight:"bold",marginBottom:"10px"},children:[(0,Fe.jsx)("input",{type:"checkbox",checked:S.display_options.show_cargo_info,onChange:e=>C((0,Ve.A)((0,Ve.A)({},S),{},{display_options:(0,Ve.A)((0,Ve.A)({},S.display_options),{},{show_cargo_info:e.target.checked})})),style:{marginRight:"8px"}}),"Rodyti krovini\u0173 informacij\u0105"]}),S.display_options.show_cargo_info&&(0,Fe.jsxs)("div",{style:{marginLeft:"28px",display:"flex",flexDirection:"column",gap:"6px"},children:[(0,Fe.jsxs)("label",{style:{display:"flex",alignItems:"center",fontSize:"14px",color:"#666"},children:[(0,Fe.jsx)("input",{type:"checkbox",checked:S.display_options.show_cargo_weight,onChange:e=>C((0,Ve.A)((0,Ve.A)({},S),{},{display_options:(0,Ve.A)((0,Ve.A)({},S.display_options),{},{show_cargo_weight:e.target.checked})})),style:{marginRight:"8px"}}),"Svoris"]}),(0,Fe.jsxs)("label",{style:{display:"flex",alignItems:"center",fontSize:"14px",color:"#666"},children:[(0,Fe.jsx)("input",{type:"checkbox",checked:S.display_options.show_cargo_ldm,onChange:e=>C((0,Ve.A)((0,Ve.A)({},S),{},{display_options:(0,Ve.A)((0,Ve.A)({},S.display_options),{},{show_cargo_ldm:e.target.checked})})),style:{marginRight:"8px"}}),"LDM"]}),(0,Fe.jsxs)("label",{style:{display:"flex",alignItems:"center",fontSize:"14px",color:"#666"},children:[(0,Fe.jsx)("input",{type:"checkbox",checked:S.display_options.show_cargo_dimensions,onChange:e=>C((0,Ve.A)((0,Ve.A)({},S),{},{display_options:(0,Ve.A)((0,Ve.A)({},S.display_options),{},{show_cargo_dimensions:e.target.checked})})),style:{marginRight:"8px"}}),"Matmenys"]}),(0,Fe.jsxs)("label",{style:{display:"flex",alignItems:"center",fontSize:"14px",color:"#666"},children:[(0,Fe.jsx)("input",{type:"checkbox",checked:S.display_options.show_cargo_properties,onChange:e=>C((0,Ve.A)((0,Ve.A)({},S),{},{display_options:(0,Ve.A)((0,Ve.A)({},S.display_options),{},{show_cargo_properties:e.target.checked})})),style:{marginRight:"8px"}}),"Savyb\u0117s"]})]})]}),(0,Fe.jsxs)("div",{style:{marginBottom:"20px",padding:"10px",backgroundColor:"#f9f9f9",borderRadius:"5px"},children:[(0,Fe.jsxs)("label",{style:{display:"flex",alignItems:"center",fontWeight:"bold",marginBottom:"10px"},children:[(0,Fe.jsx)("input",{type:"checkbox",checked:S.display_options.show_carriers,onChange:e=>C((0,Ve.A)((0,Ve.A)({},S),{},{display_options:(0,Ve.A)((0,Ve.A)({},S.display_options),{},{show_carriers:e.target.checked})})),style:{marginRight:"8px"}}),"Rodyti ve\u017e\u0117jus ir sand\u0117lius"]}),S.display_options.show_carriers&&(0,Fe.jsxs)("div",{style:{marginLeft:"28px",display:"flex",flexDirection:"column",gap:"6px"},children:[(0,Fe.jsxs)("label",{style:{display:"flex",alignItems:"center",fontSize:"14px",color:"#666"},children:[(0,Fe.jsx)("input",{type:"checkbox",checked:S.display_options.show_carrier_name,onChange:e=>C((0,Ve.A)((0,Ve.A)({},S),{},{display_options:(0,Ve.A)((0,Ve.A)({},S.display_options),{},{show_carrier_name:e.target.checked})})),style:{marginRight:"8px"}}),"Vardas"]}),(0,Fe.jsxs)("label",{style:{display:"flex",alignItems:"center",fontSize:"14px",color:"#666"},children:[(0,Fe.jsx)("input",{type:"checkbox",checked:S.display_options.show_carrier_route,onChange:e=>C((0,Ve.A)((0,Ve.A)({},S),{},{display_options:(0,Ve.A)((0,Ve.A)({},S.display_options),{},{show_carrier_route:e.target.checked})})),style:{marginRight:"8px"}}),"Mar\u0161rutas"]}),(0,Fe.jsxs)("label",{style:{display:"flex",alignItems:"center",fontSize:"14px",color:"#666"},children:[(0,Fe.jsx)("input",{type:"checkbox",checked:S.display_options.show_carrier_dates,onChange:e=>C((0,Ve.A)((0,Ve.A)({},S),{},{display_options:(0,Ve.A)((0,Ve.A)({},S.display_options),{},{show_carrier_dates:e.target.checked})})),style:{marginRight:"8px"}}),"Datos"]})]})]}),(0,Fe.jsxs)("div",{style:{marginBottom:"20px",padding:"10px",backgroundColor:"#f9f9f9",borderRadius:"5px"},children:[(0,Fe.jsxs)("label",{style:{display:"flex",alignItems:"center",fontWeight:"bold",marginBottom:"10px"},children:[(0,Fe.jsx)("input",{type:"checkbox",checked:S.display_options.show_prices,onChange:e=>C((0,Ve.A)((0,Ve.A)({},S),{},{display_options:(0,Ve.A)((0,Ve.A)({},S.display_options),{},{show_prices:e.target.checked})})),style:{marginRight:"8px"}}),"Rodyti kainas"]}),S.display_options.show_prices&&(0,Fe.jsxs)("div",{style:{marginLeft:"28px",display:"flex",flexDirection:"column",gap:"6px"},children:[(0,Fe.jsxs)("label",{style:{display:"flex",alignItems:"center",fontSize:"14px",color:"#666"},children:[(0,Fe.jsx)("input",{type:"checkbox",checked:S.display_options.show_my_price,onChange:e=>C((0,Ve.A)((0,Ve.A)({},S),{},{display_options:(0,Ve.A)((0,Ve.A)({},S.display_options),{},{show_my_price:e.target.checked})})),style:{marginRight:"8px"}}),"Mano kaina"]}),(0,Fe.jsxs)("label",{style:{display:"flex",alignItems:"center",fontSize:"14px",color:"#666"},children:[(0,Fe.jsx)("input",{type:"checkbox",checked:S.display_options.show_other_costs,onChange:e=>C((0,Ve.A)((0,Ve.A)({},S),{},{display_options:(0,Ve.A)((0,Ve.A)({},S.display_options),{},{show_other_costs:e.target.checked})})),style:{marginRight:"8px"}}),"Kitos i\u0161laidos"]})]})]})]})]}),(0,Fe.jsxs)("div",{className:"form-actions",children:[(0,Fe.jsx)("button",{type:"submit",className:"btn btn-primary",children:x?"I\u0161saugoti":"Sukurti"}),(0,Fe.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>{_(!1),Be()},children:"At\u0161aukti"})]})]})]})}),$&&(0,Fe.jsx)("div",{className:"modal-overlay",onClick:()=>{Y(!1),Me()},children:(0,Fe.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,Fe.jsxs)("div",{className:"modal-header",children:[(0,Fe.jsx)("h2",{children:K?"Redaguoti pirkimo s\u0105skait\u0105":"Nauja pirkimo s\u0105skaita"}),(0,Fe.jsx)("button",{className:"modal-close",onClick:()=>{Y(!1),Me()},children:"\xd7"})]}),(0,Fe.jsxs)("form",{onSubmit:K?async e=>{if(e.preventDefault(),!K)return;if(!te.partner_id)return void Ae("info","Pasirinkite tiek\u0117j\u0105.");if(!te.received_invoice_number)return void Ae("info","\u012eveskite tiek\u0117jo s\u0105skaitos numer\u012f.");if(!te.amount_net)return void Ae("info","\u012eveskite sum\u0105 be PVM.");if(!te.vat_rate)return void Ae("info","\u012eveskite PVM tarif\u0105.");if(!te.issue_date)return void Ae("info","Pasirinkite tiek\u0117jo s\u0105skaitos i\u0161ra\u0161ymo dat\u0105.");if(!te.received_date)return void Ae("info","Pasirinkite gavimo dat\u0105.");if(!te.due_date)return void Ae("info","Pasirinkite mok\u0117jimo termin\u0105.");let t=te.expense_category_id;if(!t&&fe&&fe.trim()){const e=await Ue(fe);if(!e)return void Ae("error","Nepavyko sukurti arba rasti i\u0161laid\u0173 kategorij\u0105. \u012esitikinkite, kad \u012fved\u0117te tinkam\u0105 pavadinim\u0105.");t=e.toString(),ne(e=>(0,Ve.A)((0,Ve.A)({},e),{},{expense_category_id:t})),_e(fe)}if(t)try{const e=new FormData;e.append("partner_id",te.partner_id),e.append("received_invoice_number",te.received_invoice_number),e.append("payment_status",te.payment_status),e.append("amount_net",te.amount_net),e.append("vat_rate",te.vat_rate),e.append("issue_date",te.issue_date?"".concat(te.issue_date,"T00:00"):""),e.append("received_date",te.received_date?"".concat(te.received_date,"T00:00"):""),e.append("due_date",te.due_date?"".concat(te.due_date,"T00:00"):""),e.append("notes",te.notes),e.append("expense_category_id",t),te.related_order_id&&e.append("related_order_id",te.related_order_id),te.payment_date&&e.append("payment_date",te.payment_date),te.invoice_file&&e.append("invoice_file",te.invoice_file),await ze.api.put("/invoices/purchase/".concat(K.id,"/"),e,{headers:{"Content-Type":"multipart/form-data"}}),Me(),Y(!1),Oe()}catch(a){var n;const e=null===(n=a.response)||void 0===n?void 0:n.data;console.error("Purchase invoice update error:",e||a),Ae("error","Klaida atnaujinant s\u0105skait\u0105: "+(e?JSON.stringify(e):a.message))}else Ae("info","Pasirinkite arba \u012fveskite i\u0161laid\u0173 kategorij\u0105.")}:async e=>{if(e.preventDefault(),!te.partner_id)return void Ae("info","Pasirinkite tiek\u0117j\u0105.");if(!te.received_invoice_number)return void Ae("info","\u012eveskite tiek\u0117jo s\u0105skaitos numer\u012f.");if(!te.amount_net)return void Ae("info","\u012eveskite sum\u0105 be PVM.");if(!te.vat_rate)return void Ae("info","\u012eveskite PVM tarif\u0105.");if(!te.issue_date)return void Ae("info","Pasirinkite tiek\u0117jo s\u0105skaitos i\u0161ra\u0161ymo dat\u0105.");if(!te.received_date)return void Ae("info","Pasirinkite gavimo dat\u0105.");if(!te.due_date)return void Ae("info","Pasirinkite mok\u0117jimo termin\u0105.");let t=te.expense_category_id;if(!t&&fe&&fe.trim()){const e=await Ue(fe);if(!e)return void Ae("error","Nepavyko sukurti arba rasti i\u0161laid\u0173 kategorij\u0105. \u012esitikinkite, kad \u012fved\u0117te tinkam\u0105 pavadinim\u0105.");t=e.toString(),ne(e=>(0,Ve.A)((0,Ve.A)({},e),{},{expense_category_id:t})),_e(fe)}if(t)try{if(te.order_carrier_id)return await ze.api.post("/invoices/purchase/generate_from_order_carrier/",{order_carrier_id:parseInt(te.order_carrier_id),expense_category_id:parseInt(t),received_invoice_number:te.received_invoice_number}),Me(),Y(!1),Oe(),void Ae("success","Pirkimo s\u0105skaita sukurta ir ve\u017e\u0117jo s\u0105skaitos statusas atnaujintas.");const e=new FormData;e.append("partner_id",te.partner_id),e.append("received_invoice_number",te.received_invoice_number),e.append("payment_status",te.payment_status),e.append("amount_net",te.amount_net),e.append("vat_rate",te.vat_rate),e.append("issue_date",te.issue_date?"".concat(te.issue_date,"T00:00"):""),e.append("received_date",te.received_date?"".concat(te.received_date,"T00:00"):""),e.append("due_date",te.due_date?"".concat(te.due_date,"T00:00"):""),e.append("notes",te.notes),e.append("expense_category_id",t),te.related_order_id&&e.append("related_order_id",te.related_order_id),te.payment_date&&e.append("payment_date",te.payment_date),te.invoice_file&&e.append("invoice_file",te.invoice_file),await ze.api.post("/invoices/purchase/",e,{headers:{"Content-Type":"multipart/form-data"}}),Me(),Y(!1),Oe()}catch(a){var n;const e=null===(n=a.response)||void 0===n?void 0:n.data;console.error("Purchase invoice create error:",e||a),Ae("error","Klaida kuriant s\u0105skait\u0105: "+(e?JSON.stringify(e):a.message))}else Ae("info","Pasirinkite arba \u012fveskite i\u0161laid\u0173 kategorij\u0105.")},children:[(0,Fe.jsxs)("div",{className:"form-grid",children:[(0,Fe.jsxs)("div",{className:"form-field",children:[(0,Fe.jsx)("label",{children:"Tiek\u0117jas *"}),(0,Fe.jsxs)("div",{className:"autocomplete-wrapper",children:[(0,Fe.jsx)("input",{type:"text",value:oe,onChange:e=>{le(e.target.value),ce(!0)},onFocus:()=>{oe&&oe!==ue&&ce(!0)},onBlur:()=>setTimeout(()=>ce(!1),200),placeholder:"Ie\u0161koti tiek\u0117jo...",required:!0}),de&&ae.length>0&&(0,Fe.jsx)("div",{className:"autocomplete-dropdown",children:ae.map(e=>(0,Fe.jsxs)("div",{className:"autocomplete-item",onMouseDown:t=>{t.preventDefault(),(async e=>{if(ne((0,Ve.A)((0,Ve.A)({},te),{},{partner_id:e.id.toString()})),pe(e.name),le(e.name),ce(!1),re([]),te.related_order_id)try{const t=(await ze.api.get("/orders/orders/".concat(te.related_order_id,"/"))).data;if(t.carriers&&t.carriers.length>0){const n=t.carriers.find(t=>t.partner.id===e.id);n&&ne(e=>(0,Ve.A)((0,Ve.A)({},e),{},{amount_net:n.price_net?String(n.price_net):e.amount_net,vat_rate:t.vat_rate?String(t.vat_rate):e.vat_rate,issue_date:n.loading_date||e.issue_date}))}}catch(a){console.error("Klaida u\u017ekraunant u\u017esakym\u0105:",a)}const t=new Date(te.received_date||new Date),n=new Date(t);n.setDate(n.getDate()+30),ne(e=>(0,Ve.A)((0,Ve.A)({},e),{},{due_date:n.toISOString().split("T")[0]}))})(e)},children:[e.name," (",e.code,")"]},e.id))})]})]}),(0,Fe.jsxs)("div",{className:"form-field",children:[(0,Fe.jsx)("label",{children:"Susij\u0119s u\u017esakymas"}),(0,Fe.jsxs)("select",{value:te.related_order_id,onChange:async e=>{const t=e.target.value;if(ne((0,Ve.A)((0,Ve.A)({},te),{},{related_order_id:t})),t)try{const e=(await ze.api.get("/orders/orders/".concat(t,"/"))).data;if(e.carriers&&e.carriers.length>0&&te.partner_id){const t=e.carriers.find(e=>e.partner.id.toString()===te.partner_id);t&&ne(n=>(0,Ve.A)((0,Ve.A)({},n),{},{amount_net:t.price_net?String(t.price_net):n.amount_net,vat_rate:e.vat_rate?String(e.vat_rate):n.vat_rate,issue_date:t.loading_date||n.issue_date}))}}catch(n){console.error("Klaida u\u017ekraunant u\u017esakym\u0105:",n)}},children:[(0,Fe.jsx)("option",{value:"",children:"N\u0117ra"}),P.map(e=>(0,Fe.jsx)("option",{value:e.id,children:e.order_number||"U\u017esakymas #".concat(e.id)},e.id))]})]}),(0,Fe.jsxs)("div",{className:"form-field",children:[(0,Fe.jsx)("label",{children:"Tiek\u0117jo s\u0105skaitos numeris *"}),(0,Fe.jsx)("input",{type:"text",value:te.received_invoice_number,onChange:e=>ne((0,Ve.A)((0,Ve.A)({},te),{},{received_invoice_number:e.target.value})),required:!0,placeholder:"\u012eveskite tiek\u0117jo s\u0105skaitos numer\u012f"})]}),(0,Fe.jsxs)("div",{className:"form-field",children:[(0,Fe.jsx)("label",{children:"I\u0161laid\u0173 kategorija *"}),(0,Fe.jsxs)("div",{className:"autocomplete-wrapper",children:[(0,Fe.jsx)("input",{type:"text",value:fe,onChange:e=>{me(e.target.value),ve(!0)},onFocus:()=>{fe&&fe!==ye&&ve(!0)},onBlur:()=>setTimeout(()=>ve(!1),200),placeholder:"\u012eveskite arba pasirinkite i\u0161laid\u0173 kategorij\u0105...",required:!0,style:{width:"100%"}}),xe&&he.length>0&&(0,Fe.jsx)("div",{className:"autocomplete-dropdown",children:he.map(e=>(0,Fe.jsx)("div",{className:"autocomplete-item",onMouseDown:t=>{t.preventDefault(),(e=>{ne((0,Ve.A)((0,Ve.A)({},te),{},{expense_category_id:e.id.toString()})),_e(e.name),me(e.name),ve(!1),ge([])})(e)},children:e.name},e.id))})]}),!te.expense_category_id&&(0,Fe.jsx)("div",{style:{marginTop:"4px",fontSize:"12px",color:"#dc3545"},children:"Privaloma pasirinkti i\u0161laid\u0173 kategorij\u0105"})]}),(0,Fe.jsxs)("div",{className:"form-field",children:[(0,Fe.jsx)("label",{children:"Mok\u0117jimo statusas *"}),(0,Fe.jsxs)("select",{value:te.payment_status,onChange:e=>ne((0,Ve.A)((0,Ve.A)({},te),{},{payment_status:e.target.value})),required:!0,children:[(0,Fe.jsx)("option",{value:"unpaid",children:"Neapmok\u0117ta"}),(0,Fe.jsx)("option",{value:"paid",children:"Apmok\u0117ta"}),(0,Fe.jsx)("option",{value:"overdue",children:"V\u0117luoja"}),(0,Fe.jsx)("option",{value:"partially_paid",children:"Dalinis apmok\u0117jimas"})]})]}),(0,Fe.jsxs)("div",{className:"form-field",children:[(0,Fe.jsx)("label",{children:"Suma be PVM *"}),(0,Fe.jsx)("input",{type:"number",step:"0.01",value:te.amount_net,onChange:e=>ne((0,Ve.A)((0,Ve.A)({},te),{},{amount_net:e.target.value})),required:!0})]}),(0,Fe.jsxs)("div",{className:"form-field",children:[(0,Fe.jsx)("label",{children:"PVM tarifas (%) *"}),(0,Fe.jsx)("input",{type:"number",step:"0.01",value:te.vat_rate,onChange:e=>ne((0,Ve.A)((0,Ve.A)({},te),{},{vat_rate:e.target.value})),required:!0})]}),(0,Fe.jsxs)("div",{className:"form-field",children:[(0,Fe.jsx)("label",{children:"Tiek\u0117jo s\u0105skaitos i\u0161ra\u0161ymo data *"}),(0,Fe.jsx)("input",{type:"date",value:te.issue_date,onChange:e=>ne((0,Ve.A)((0,Ve.A)({},te),{},{issue_date:e.target.value})),required:!0})]}),(0,Fe.jsxs)("div",{className:"form-field",children:[(0,Fe.jsx)("label",{children:"Gavimo data *"}),(0,Fe.jsx)("input",{type:"date",value:te.received_date,onChange:e=>ne((0,Ve.A)((0,Ve.A)({},te),{},{received_date:e.target.value})),required:!0})]}),(0,Fe.jsxs)("div",{className:"form-field",children:[(0,Fe.jsx)("label",{children:"Mok\u0117jimo terminas *"}),(0,Fe.jsx)("input",{type:"date",value:te.due_date,onChange:e=>ne((0,Ve.A)((0,Ve.A)({},te),{},{due_date:e.target.value})),required:!0})]}),(0,Fe.jsxs)("div",{className:"form-field",children:[(0,Fe.jsx)("label",{children:"Mok\u0117jimo data"}),(0,Fe.jsx)("input",{type:"date",value:te.payment_date,onChange:e=>ne((0,Ve.A)((0,Ve.A)({},te),{},{payment_date:e.target.value}))})]}),(0,Fe.jsxs)("div",{className:"form-field full-width",children:[(0,Fe.jsx)("label",{children:"S\u0105skaitos failas (PDF)"}),(0,Fe.jsx)("input",{type:"file",accept:".pdf,application/pdf",onChange:e=>{e.target.files&&e.target.files[0]&&ne((0,Ve.A)((0,Ve.A)({},te),{},{invoice_file:e.target.files[0]}))}}),K&&(K.invoice_file_url||K.invoice_file)&&(0,Fe.jsx)("div",{style:{marginTop:"8px",fontSize:"12px",color:"#666"},children:(0,Fe.jsx)("a",{href:K.invoice_file_url||"".concat((null===(t="http://localhost:8000/api")?void 0:t.replace("/api",""))||"http://192.168.9.11:8000","/").concat(K.invoice_file),target:"_blank",rel:"noopener noreferrer",children:"\ud83d\udcc4 Per\u017ei\u016br\u0117ti esam\u0105 fail\u0105"})})]}),(0,Fe.jsxs)("div",{className:"form-field full-width",children:[(0,Fe.jsx)("label",{children:"Pastabos"}),(0,Fe.jsx)("textarea",{value:te.notes,onChange:e=>ne((0,Ve.A)((0,Ve.A)({},te),{},{notes:e.target.value})),rows:3})]})]}),(0,Fe.jsxs)("div",{className:"form-actions",children:[(0,Fe.jsx)("button",{type:"submit",className:"btn btn-primary",children:K?"I\u0161saugoti":"Sukurti"}),(0,Fe.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>{Y(!1),Me()},children:"At\u0161aukti"})]})]})]})}),b&&k&&(0,Fe.jsx)("div",{className:"modal-overlay",onClick:()=>j(!1),children:(0,Fe.jsxs)("div",{className:"modal-content modal-large",onClick:e=>e.stopPropagation(),style:{maxHeight:"95vh",display:"flex",flexDirection:"column"},children:[(0,Fe.jsxs)("div",{className:"modal-header",style:{padding:"12px 20px",borderBottom:"1px solid #dee2e6"},children:[(0,Fe.jsxs)("h2",{style:{margin:0,fontSize:"18px"},children:["S\u0105skaita #",k.invoice_number]}),(0,Fe.jsx)("button",{className:"modal-close",onClick:()=>j(!1),children:"\xd7"})]}),(0,Fe.jsxs)("div",{className:"invoice-details",style:{padding:"15px 20px",overflowY:"auto",flex:1},children:[(0,Fe.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"12px",marginBottom:"12px"},children:[(0,Fe.jsxs)("div",{style:{border:"1px solid #dee2e6",borderRadius:"4px",padding:"10px",backgroundColor:"#f8f9fa"},children:[(0,Fe.jsx)("h4",{style:{margin:"0 0 8px 0",fontSize:"14px",fontWeight:"bold",color:"#495057"},children:"Pagrindin\u0117 info"}),(0,Fe.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"4px",fontSize:"13px"},children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("strong",{children:"Tipas:"})," ",k.invoice_type_display]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("strong",{children:"Statusas:"}),(0,Fe.jsxs)("select",{value:k.payment_status,onChange:async e=>{try{const t={payment_status:e.target.value};"paid"!==e.target.value||k.payment_date||(t.payment_date=(new Date).toISOString().split("T")[0]),"paid"!==e.target.value&&"paid"===k.payment_status&&(t.payment_date=null),await ze.api.patch("/invoices/sales/".concat(k.id,"/"),t),Ae("success","Mok\u0117jimo statusas atnaujintas");const n=await ze.api.get("/invoices/sales/".concat(k.id,"/"));w(n.data),Ie()}catch(a){var t,n;Ae("error",(null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Klaida atnaujinant mok\u0117jimo status\u0105")}},onClick:e=>e.stopPropagation(),style:{marginLeft:"8px",padding:"4px 8px",borderRadius:"4px",border:"1px solid #dee2e6",fontSize:"13px",cursor:"pointer",backgroundColor:"paid"===k.payment_status?"#d4edda":"overdue"===k.payment_status?"#f8d7da":"partially_paid"===k.payment_status?"#fff3cd":"#fff",color:"paid"===k.payment_status?"#155724":"overdue"===k.payment_status?"#721c24":"partially_paid"===k.payment_status?"#856404":"#333"},children:[(0,Fe.jsx)("option",{value:"unpaid",children:"Neapmok\u0117ta"}),(0,Fe.jsx)("option",{value:"paid",children:"Apmok\u0117ta"}),(0,Fe.jsx)("option",{value:"overdue",children:"V\u0117luoja"}),(0,Fe.jsx)("option",{value:"partially_paid",children:"Dalinis apmok\u0117jimas"})]})]}),k.credit_invoice&&(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("strong",{children:"Kredito s\u0105skaita:"})," #",k.credit_invoice]})]})]}),(0,Fe.jsxs)("div",{style:{border:"1px solid #dee2e6",borderRadius:"4px",padding:"10px",backgroundColor:"#f8f9fa"},children:[(0,Fe.jsx)("h4",{style:{margin:"0 0 8px 0",fontSize:"14px",fontWeight:"bold",color:"#495057"},children:"Finansai"}),(0,Fe.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"4px",fontSize:"13px"},children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("strong",{children:"Be PVM:"})," ",parseFloat(k.amount_net).toFixed(2)," \u20ac"]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("strong",{children:["PVM (",k.vat_rate,"%):"]})," ",(parseFloat(k.amount_total)-parseFloat(k.amount_net)).toFixed(2)," \u20ac"]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("strong",{style:{fontSize:"14px"},children:"Su PVM:"})," ",(0,Fe.jsxs)("span",{style:{fontSize:"14px",fontWeight:"bold",color:"#28a745"},children:[parseFloat(k.amount_total).toFixed(2)," \u20ac"]})]})]})]}),(0,Fe.jsxs)("div",{style:{border:"1px solid #dee2e6",borderRadius:"4px",padding:"10px",backgroundColor:"#f8f9fa"},children:[(0,Fe.jsx)("h4",{style:{margin:"0 0 8px 0",fontSize:"14px",fontWeight:"bold",color:"#495057"},children:"Dat\u0173 info"}),(0,Fe.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"4px",fontSize:"13px"},children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("strong",{children:"I\u0161ra\u0161ymo:"})," ",k.issue_date]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("strong",{children:"Terminas:"})," ",k.due_date," ",k.overdue_days>0&&(0,Fe.jsxs)("span",{className:"overdue-badge",style:{fontSize:"11px",padding:"2px 4px"},children:[k.overdue_days,"d"]})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("strong",{children:"Mok\u0117jimo:"}),(0,Fe.jsx)("input",{type:"date",value:k.payment_date||"",onChange:async e=>{try{await ze.api.patch("/invoices/sales/".concat(k.id,"/"),(0,Ve.A)({payment_date:e.target.value||null},e.target.value&&"paid"!==k.payment_status?{payment_status:"paid"}:{})),Ae("success","Mok\u0117jimo data atnaujinta");const t=await ze.api.get("/invoices/sales/".concat(k.id,"/"));w(t.data),Ie()}catch(a){var t,n;Ae("error",(null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Klaida atnaujinant mok\u0117jimo dat\u0105")}},onClick:e=>e.stopPropagation(),style:{marginLeft:"8px",padding:"4px 8px",borderRadius:"4px",border:"1px solid #dee2e6",fontSize:"13px",cursor:"pointer"}})]})]})]})]}),(0,Fe.jsxs)("div",{style:{display:"grid",gridTemplateColumns:k.related_order?"1fr 1fr":"1fr",gap:"12px",marginBottom:"12px"},children:[(0,Fe.jsxs)("div",{style:{border:"1px solid #dee2e6",borderRadius:"4px",padding:"10px",backgroundColor:"#fff"},children:[(0,Fe.jsx)("h4",{style:{margin:"0 0 8px 0",fontSize:"14px",fontWeight:"bold",color:"#495057"},children:"Klientas"}),(0,Fe.jsxs)("div",{style:{fontSize:"13px",lineHeight:"1.6"},children:[(0,Fe.jsx)("div",{children:(0,Fe.jsx)("strong",{children:k.partner.name})}),k.partner.code&&(0,Fe.jsxs)("div",{children:["Kodas: ",k.partner.code]}),k.partner.vat_code&&(0,Fe.jsxs)("div",{children:["PVM: ",k.partner.vat_code]}),k.partner.address&&(0,Fe.jsx)("div",{children:k.partner.address}),(k.partner.city||k.partner.postal_code)&&(0,Fe.jsxs)("div",{children:[k.partner.city," ",k.partner.postal_code]}),(k.partner.phone||k.partner.email)&&(0,Fe.jsxs)("div",{style:{marginTop:"4px",fontSize:"12px",color:"#6c757d"},children:[k.partner.phone&&(0,Fe.jsxs)("span",{children:["\ud83d\udcde ",k.partner.phone]}),k.partner.phone&&k.partner.email&&(0,Fe.jsx)("span",{children:" \u2022 "}),k.partner.email&&(0,Fe.jsxs)("span",{children:["\u2709 ",k.partner.email]})]})]})]}),k.related_order&&(0,Fe.jsxs)("div",{style:{border:"1px solid #dee2e6",borderRadius:"4px",padding:"10px",backgroundColor:"#fff"},children:[(0,Fe.jsx)("h4",{style:{margin:"0 0 8px 0",fontSize:"14px",fontWeight:"bold",color:"#495057"},children:"U\u017esakymas"}),(0,Fe.jsxs)("div",{style:{fontSize:"13px",lineHeight:"1.6"},children:[(0,Fe.jsx)("div",{children:(0,Fe.jsx)("strong",{children:k.related_order.order_number||"#".concat(k.related_order.id)})}),k.related_order.client&&(0,Fe.jsxs)("div",{children:["Klientas: ",k.related_order.client.name]}),k.related_order.route_from&&(0,Fe.jsxs)("div",{children:["Mar\u0161rutas: ",k.related_order.route_from," - ",k.related_order.route_to||"Nenurodytas"]}),(k.related_order.loading_date||k.related_order.unloading_date)&&(0,Fe.jsxs)("div",{style:{fontSize:"12px",color:"#6c757d"},children:[k.related_order.loading_date&&(0,Fe.jsxs)("span",{children:["Pakrovimas: ",(()=>{const e=String(k.related_order.loading_date);if(e.includes("T")||e.includes(" ")||/:\d{2}/.test(e)){const e=new Date(k.related_order.loading_date),t=e.toLocaleDateString("lt-LT",{year:"numeric",month:"2-digit",day:"2-digit"}).replace(/\//g,"."),n=e.toLocaleTimeString("lt-LT",{hour:"2-digit",minute:"2-digit"});return"00:00"!==n?"".concat(t," ").concat(n):t}return new Date(k.related_order.loading_date).toLocaleDateString("lt-LT",{year:"numeric",month:"2-digit",day:"2-digit"}).replace(/\//g,".")})()]}),k.related_order.loading_date&&k.related_order.unloading_date&&(0,Fe.jsx)("span",{children:" \u2022 "}),k.related_order.unloading_date&&(0,Fe.jsxs)("span",{children:["I\u0161krovimas: ",(()=>{const e=String(k.related_order.unloading_date);if(e.includes("T")||e.includes(" ")||/:\d{2}/.test(e)){const e=new Date(k.related_order.unloading_date),t=e.toLocaleDateString("lt-LT",{year:"numeric",month:"2-digit",day:"2-digit"}).replace(/\//g,"."),n=e.toLocaleTimeString("lt-LT",{hour:"2-digit",minute:"2-digit"});return"00:00"!==n?"".concat(t," ").concat(n):t}return new Date(k.related_order.unloading_date).toLocaleDateString("lt-LT",{year:"numeric",month:"2-digit",day:"2-digit"}).replace(/\//g,".")})()]})]}),k.related_order.client_price_net&&(0,Fe.jsxs)("div",{style:{marginTop:"4px",fontWeight:"bold"},children:["Suma be PVM: ",parseFloat(String(k.related_order.client_price_net)).toFixed(2)," \u20ac"]})]})]})]}),k.invoice_items&&Array.isArray(k.invoice_items)&&k.invoice_items.length>0&&(0,Fe.jsxs)("div",{style:{marginBottom:"12px"},children:[(0,Fe.jsx)("h4",{style:{margin:"0 0 8px 0",fontSize:"14px",fontWeight:"bold",color:"#495057"},children:"Prek\u0117s - paslaugos (s\u0105skaitos eilut\u0117s)"}),(0,Fe.jsx)("div",{style:{overflowX:"auto"},children:(0,Fe.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",border:"1px solid #dee2e6",fontSize:"12px"},children:[(0,Fe.jsx)("thead",{children:(0,Fe.jsxs)("tr",{style:{borderBottom:"2px solid #dee2e6",backgroundColor:"#f8f9fa"},children:[(0,Fe.jsx)("th",{style:{padding:"6px 8px",textAlign:"center",border:"1px solid #dee2e6",fontSize:"12px",width:"40px"},children:"\u2713"}),(0,Fe.jsx)("th",{style:{padding:"6px 8px",textAlign:"center",border:"1px solid #dee2e6",fontSize:"12px"},children:"Nr."}),(0,Fe.jsx)("th",{style:{padding:"6px 8px",textAlign:"left",border:"1px solid #dee2e6",fontSize:"12px"},children:"Prek\u0117s - paslaugos pavadinimas"}),(0,Fe.jsx)("th",{style:{padding:"6px 8px",textAlign:"right",border:"1px solid #dee2e6",fontSize:"12px"},children:"Be PVM"}),(0,Fe.jsx)("th",{style:{padding:"6px 8px",textAlign:"right",border:"1px solid #dee2e6",fontSize:"12px"},children:"PVM (%)"}),(0,Fe.jsx)("th",{style:{padding:"6px 8px",textAlign:"right",border:"1px solid #dee2e6",fontSize:"12px"},children:"PVM"}),(0,Fe.jsx)("th",{style:{padding:"6px 8px",textAlign:"right",border:"1px solid #dee2e6",fontSize:"12px"},children:"Su PVM"})]})}),(0,Fe.jsx)("tbody",{children:k.invoice_items.map((e,t)=>(0,Fe.jsxs)("tr",{style:{borderBottom:"1px solid #dee2e6"},children:[(0,Fe.jsx)("td",{style:{padding:"6px 8px",textAlign:"center",border:"1px solid #dee2e6"},children:(0,Fe.jsx)("input",{type:"checkbox",checked:!0===e.visible,onChange:async e=>{try{const n=[...k.invoice_items];n[t]=(0,Ve.A)((0,Ve.A)({},n[t]),{},{visible:e.target.checked});const a=n.map((e,t)=>t).filter(e=>!1!==n[e].visible);await ze.api.patch("/invoices/sales/".concat(k.id,"/"),{visible_items_indexes:a}),w((0,Ve.A)((0,Ve.A)({},k),{},{invoice_items:n})),Ae("success","Eilut\u0117s rodymo statusas atnaujintas")}catch(r){var n,a;Ae("error",(null===(n=r.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.error)||"Klaida atnaujinant eilut\u0117s rodymo status\u0105")}},onClick:e=>e.stopPropagation(),style:{cursor:"pointer"}})}),(0,Fe.jsx)("td",{style:{padding:"6px 8px",textAlign:"center",border:"1px solid #dee2e6"},children:t+1}),(0,Fe.jsx)("td",{style:{padding:"6px 8px",border:"1px solid #dee2e6",whiteSpace:"pre-wrap",fontSize:"11px",lineHeight:"1.4"},children:e.description.split("\n").map((e,t)=>(0,Fe.jsx)("div",{children:e},t))}),(0,Fe.jsxs)("td",{style:{padding:"6px 8px",textAlign:"right",border:"1px solid #dee2e6"},children:[e.amount_net.toFixed(2)," \u20ac"]}),(0,Fe.jsxs)("td",{style:{padding:"6px 8px",textAlign:"right",border:"1px solid #dee2e6"},children:[e.vat_rate.toFixed(0),"%"]}),(0,Fe.jsxs)("td",{style:{padding:"6px 8px",textAlign:"right",border:"1px solid #dee2e6"},children:[e.vat_amount.toFixed(2)," \u20ac"]}),(0,Fe.jsxs)("td",{style:{padding:"6px 8px",textAlign:"right",border:"1px solid #dee2e6",fontWeight:"bold"},children:[e.amount_total.toFixed(2)," \u20ac"]})]},t))})]})})]}),k.notes&&(0,Fe.jsxs)("div",{style:{marginTop:"12px",border:"1px solid #dee2e6",borderRadius:"4px",padding:"10px",backgroundColor:"#fff"},children:[(0,Fe.jsx)("h4",{style:{margin:"0 0 8px 0",fontSize:"14px",fontWeight:"bold",color:"#495057"},children:"Pastabos"}),(0,Fe.jsx)("p",{style:{whiteSpace:"pre-wrap",margin:0,fontSize:"13px",lineHeight:"1.5"},children:k.notes})]})]}),(0,Fe.jsxs)("div",{className:"modal-footer",children:[(0,Fe.jsx)("button",{className:"btn btn-primary",onClick:async()=>{try{const{api:e}=await Promise.resolve().then(n.bind(n,677)),t=await e.get("/invoices/sales/".concat(k.id,"/preview/"),{responseType:"text"}),a=window.open("","_blank");a?(a.document.open(),a.document.write(t.data),a.document.close()):Ae("info","Nar\u0161ykl\u0117 u\u017eblokavo lang\u0105. Leiskite popup langus.")}catch(rt){var e,t;Ae("error","Nepavyko atidaryti s\u0105skaitos HTML: "+((null===(e=rt.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||rt.message||"Ne\u017einoma klaida"))}},style:{backgroundColor:"#17a2b8",borderColor:"#17a2b8"},children:"\ud83d\udcc4 Per\u017ei\u016br\u0117ti HTML"}),(0,Fe.jsx)("button",{className:"btn btn-primary",onClick:async()=>{try{const{api:e}=await Promise.resolve().then(n.bind(n,677)),t=await e.get("/invoices/sales/".concat(k.id,"/pdf/"),{responseType:"blob"}),a=new Blob([t.data],{type:"application/pdf"}),r=URL.createObjectURL(a),i=document.createElement("a");i.href=r,i.download="".concat(k.invoice_number,".pdf"),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i),setTimeout(()=>URL.revokeObjectURL(r),100)}catch(rt){var e;Ae("error","Nepavyko parsisi\u0173sti PDF: "+((null===(e=rt.response)||void 0===e?void 0:e.data)||rt.message||"Ne\u017einoma klaida"))}},style:{backgroundColor:"#dc3545",borderColor:"#dc3545"},children:"\ud83d\udce5 Parsisi\u0173sti PDF"}),(0,Fe.jsx)("button",{className:"btn btn-primary",onClick:()=>{j(!1),We(k)},children:"Redaguoti"}),(0,Fe.jsx)("button",{className:"btn btn-danger",onClick:()=>{j(!1),Ke(k)},style:{backgroundColor:"#dc3545",borderColor:"#dc3545"},children:"Trinti"}),(0,Fe.jsx)("button",{className:"btn btn-secondary",onClick:()=>j(!1),children:"U\u017everti"})]})]})}),Q&&G&&(0,Fe.jsx)("div",{className:"modal-overlay",onClick:()=>J(!1),children:(0,Fe.jsxs)("div",{className:"modal-content modal-large",onClick:e=>e.stopPropagation(),children:[(0,Fe.jsxs)("div",{className:"modal-header",children:[(0,Fe.jsxs)("h2",{children:["S\u0105skaita #",G.received_invoice_number]}),(0,Fe.jsx)("button",{className:"modal-close",onClick:()=>J(!1),children:"\xd7"})]}),(0,Fe.jsxs)("div",{className:"invoice-details",children:[(0,Fe.jsxs)("div",{className:"details-section",children:[(0,Fe.jsx)("h3",{children:"Pagrindin\u0117 informacija"}),(0,Fe.jsxs)("div",{className:"details-grid",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("strong",{children:"Tiek\u0117jo s\u0105skaitos numeris:"})," ",G.received_invoice_number]}),G.invoice_number&&(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("strong",{children:"Sistemos s\u0105skaitos numeris:"})," ",G.invoice_number]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("strong",{children:"Mok\u0117jimo statusas:"}),(0,Fe.jsxs)("select",{value:G.payment_status,onChange:async e=>{try{const t={payment_status:e.target.value};"paid"!==e.target.value||G.payment_date||(t.payment_date=(new Date).toISOString().split("T")[0]),"paid"!==e.target.value&&"paid"===G.payment_status&&(t.payment_date=null),await ze.api.patch("/invoices/purchase/".concat(G.id,"/"),t),Ae("success","Mok\u0117jimo statusas atnaujintas");const n=await ze.api.get("/invoices/purchase/".concat(G.id,"/"));Z(n.data),Oe()}catch(a){var t,n;Ae("error",(null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Klaida atnaujinant mok\u0117jimo status\u0105")}},onClick:e=>e.stopPropagation(),style:{marginLeft:"8px",padding:"4px 8px",borderRadius:"4px",border:"1px solid #dee2e6",fontSize:"13px",cursor:"pointer",backgroundColor:"paid"===G.payment_status?"#d4edda":"overdue"===G.payment_status?"#f8d7da":"partially_paid"===G.payment_status?"#fff3cd":"#fff",color:"paid"===G.payment_status?"#155724":"overdue"===G.payment_status?"#721c24":"partially_paid"===G.payment_status?"#856404":"#333"},children:[(0,Fe.jsx)("option",{value:"unpaid",children:"Neapmok\u0117ta"}),(0,Fe.jsx)("option",{value:"paid",children:"Apmok\u0117ta"}),(0,Fe.jsx)("option",{value:"overdue",children:"V\u0117luoja"}),(0,Fe.jsx)("option",{value:"partially_paid",children:"Dalinis apmok\u0117jimas"})]})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("strong",{children:"Tiek\u0117jas:"})," ",G.partner.name]}),G.related_order&&(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("strong",{children:"Susij\u0119s u\u017esakymas:"})," ",G.related_order.order_number||"#".concat(G.related_order.id)]}),G.expense_category&&(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("strong",{children:"I\u0161laid\u0173 kategorija:"})," ",G.expense_category.name]})]})]}),(0,Fe.jsxs)("div",{className:"details-section",children:[(0,Fe.jsx)("h3",{children:"Finansin\u0117 informacija"}),(0,Fe.jsxs)("div",{className:"details-grid",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("strong",{children:"Suma be PVM:"})," ",parseFloat(G.amount_net).toFixed(2)," \u20ac"]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("strong",{children:["PVM (",G.vat_rate,"%):"]})," ",(parseFloat(G.amount_total)-parseFloat(G.amount_net)).toFixed(2)," \u20ac"]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("strong",{children:"Suma su PVM:"})," ",parseFloat(G.amount_total).toFixed(2)," \u20ac"]})]})]}),(0,Fe.jsxs)("div",{className:"details-section",children:[(0,Fe.jsx)("h3",{children:"Dat\u0173 informacija"}),(0,Fe.jsxs)("div",{className:"details-grid",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("strong",{children:"Tiek\u0117jo s\u0105skaitos i\u0161ra\u0161ymo data:"})," ",G.issue_date]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("strong",{children:"Gavimo data:"})," ",G.received_date||"-"]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("strong",{children:"Mok\u0117jimo terminas:"})," ",G.due_date]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("strong",{children:"Mok\u0117jimo data:"}),(0,Fe.jsx)("input",{type:"date",value:G.payment_date||"",onChange:async e=>{try{await ze.api.patch("/invoices/purchase/".concat(G.id,"/"),(0,Ve.A)({payment_date:e.target.value||null},e.target.value&&"paid"!==G.payment_status?{payment_status:"paid"}:{})),Ae("success","Mok\u0117jimo data atnaujinta");const t=await ze.api.get("/invoices/purchase/".concat(G.id,"/"));Z(t.data),Oe()}catch(a){var t,n;Ae("error",(null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Klaida atnaujinant mok\u0117jimo dat\u0105")}},onClick:e=>e.stopPropagation(),style:{marginLeft:"8px",padding:"4px 8px",borderRadius:"4px",border:"1px solid #dee2e6",fontSize:"13px",cursor:"pointer"}})]}),G.overdue_days>0&&(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("strong",{children:"V\u0117lavimo dienos:"})," ",(0,Fe.jsxs)("span",{className:"overdue-badge",children:[G.overdue_days," dienos"]})]})]})]}),(G.invoice_file_url||G.invoice_file)&&(0,Fe.jsxs)("div",{className:"details-section",children:[(0,Fe.jsx)("h3",{children:"S\u0105skaitos failas"}),(0,Fe.jsx)("div",{children:(0,Fe.jsx)("a",{href:G.invoice_file_url||"".concat((null===(a="http://localhost:8000/api")?void 0:a.replace("/api",""))||"http://192.168.9.11:8000","/").concat(G.invoice_file),target:"_blank",rel:"noopener noreferrer",className:"btn btn-secondary",children:"\ud83d\udcc4 Per\u017ei\u016br\u0117ti PDF"})})]}),G.notes&&(0,Fe.jsxs)("div",{className:"details-section",children:[(0,Fe.jsx)("h3",{children:"Pastabos"}),(0,Fe.jsx)("p",{children:G.notes})]})]}),(0,Fe.jsxs)("div",{className:"modal-footer",children:[(0,Fe.jsx)("button",{className:"btn btn-primary",onClick:()=>{J(!1),qe(G)},children:"Redaguoti"}),(0,Fe.jsx)("button",{className:"btn btn-danger",onClick:()=>{J(!1),He(G)},style:{backgroundColor:"#dc3545",borderColor:"#dc3545"},children:"Trinti"}),(0,Fe.jsx)("button",{className:"btn btn-secondary",onClick:()=>J(!1),children:"U\u017everti"})]})]})})]})})};function He(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}const $e=["id","created_at","updated_at","logo","logo_url"],Ye=["id","created_at","updated_at","logo","logo_url"],Qe=["id","user_id","username","created_at","updated_at"],Je=["id","created_at","updated_at","last_invoice_number","next_invoice_number"],Ge=["id","created_at","updated_at","last_order_number","next_order_number"],Xe=["id","created_at","updated_at","smtp_password"],Ze=["id","created_at","updated_at","logo","logo_url"],et=()=>{var e,t,n,a,i,s,o,l,d,c,u,p,f,m,h,g,x,v,y,_,b,j,k,w,S,C,N,A,P;const T=X(),[E,z]=(0,r.useState)(()=>"/bank-import"===T.pathname?"bank-import":"company");(0,r.useEffect)(()=>{"/bank-import"===T.pathname&&z("bank-import")},[T.pathname]);const[R,I]=(0,r.useState)(!1),[O,F]=(0,r.useState)(!1),[D,L]=(0,r.useState)(null),[B,M]=(0,r.useState)(null),[U,V]=(0,r.useState)(!1),[W,q]=(0,r.useState)(null),[K,H]=(0,r.useState)({type:"info",message:"",visible:!1}),$=(0,r.useRef)(null),Y=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3500;H({type:e,message:t,visible:!0}),null!==$.current&&window.clearTimeout($.current),$.current=window.setTimeout(()=>H(e=>(0,Ve.A)((0,Ve.A)({},e),{},{visible:!1})),n)};(0,r.useEffect)(()=>()=>{$.current&&window.clearTimeout($.current)},[]);const[Q,J]=(0,r.useState)({id:0,name:"",code:"",vat_code:"",address:"",city:"",postal_code:"",country:"Lietuva",phone:"",email:"",bank_name:"",bank_account:"",bank_code:"",logo:null,logo_url:null,notes:""}),[G,Z]=(0,r.useState)(null),[ee,te]=(0,r.useState)(null),[ne,ae]=(0,r.useState)({id:0,user_id:0,username:"",first_name:"",last_name:"",email:"",phone:"",language:"lt",date_format:"YYYY-MM-DD",timezone:"Europe/Vilnius",items_per_page:100}),[re,ie]=(0,r.useState)({id:0,default_vat_rate:"21.00",default_payment_term_days:30,invoice_prefix_sales:"LOG",invoice_number_width:7,invoice_footer_text:"",auto_numbering:!0,default_display_options:{show_order_type:!0,show_cargo_info:!0,show_cargo_weight:!0,show_cargo_ldm:!0,show_cargo_dimensions:!0,show_cargo_properties:!0,show_carriers:!0,show_carrier_name:!0,show_carrier_route:!0,show_carrier_dates:!0,show_prices:!0,show_my_price:!0,show_other_costs:!0},notes:""}),[se,oe]=(0,r.useState)({id:0,order_number_width:3,auto_numbering:!0,my_price_percentage:15,notes:""}),[le,de]=(0,r.useState)([]),[ce,ue]=(0,r.useState)(null),[pe,fe]=(0,r.useState)(!1),[me,he]=(0,r.useState)({id:0,smtp_enabled:!1,smtp_host:"",smtp_port:587,smtp_use_tls:!0,smtp_username:"",smtp_from_email:"",smtp_from_name:"",email_notify_overdue_invoices:!1,email_notify_overdue_days_before:3,email_notify_unpaid_invoices:!1,email_notify_unpaid_interval_days:7,email_notify_new_orders:!1,email_notify_payment_received:!1,toast_duration_ms:3500,toast_position:"center",toast_enable_sound:!1,toast_success_color:"#28a745",toast_error_color:"#dc3545",toast_info_color:"#17a2b8",notes:""});(0,r.useEffect)(()=>{ge(),xe(),ve(),ye(),_e(),be()},[]);const ge=async()=>{I(!0);try{const e=await ze.api.get("/settings/company/current/");J(e.data),e.data.logo_url&&te(e.data.logo_url)}catch(t){var e;404===(null===(e=t.response)||void 0===e?void 0:e.status)||console.error("Klaida u\u017ekraunant \u012fmon\u0117s informacij\u0105:",t)}finally{I(!1)}},xe=async()=>{try{const e=await ze.api.get("/settings/user/my_settings/");ae(e.data)}catch(t){var e;404===(null===(e=t.response)||void 0===e?void 0:e.status)||console.error("Klaida u\u017ekraunant vartotojo nustatymus:",t)}},ve=async()=>{try{const e=(await ze.api.get("/settings/invoice/current/")).data;e.default_display_options||(e.default_display_options={show_order_type:!0,show_cargo_info:!0,show_cargo_weight:!0,show_cargo_ldm:!0,show_cargo_dimensions:!0,show_cargo_properties:!0,show_carriers:!0,show_carrier_name:!0,show_carrier_route:!0,show_carrier_dates:!0,show_prices:!0,show_my_price:!0,show_other_costs:!0}),ie(e)}catch(t){var e;404===(null===(e=t.response)||void 0===e?void 0:e.status)||console.error("Klaida u\u017ekraunant s\u0105skait\u0173 nustatymus:",t)}},ye=async()=>{try{const e=await ze.api.get("/settings/orders/current/");oe(e.data)}catch(t){var e;404===(null===(e=t.response)||void 0===e?void 0:e.status)||console.error("Klaida u\u017ekraunant u\u017esakym\u0173 nustatymus:",t)}},_e=async()=>{try{const e=await ze.api.get("/settings/pvm-rates/");de(e.data.results||e.data||[])}catch(e){console.error("Klaida u\u017ekraunant PVM tarifus:",e)}},be=async()=>{try{const e=await ze.api.get("/settings/notifications/current/");he(e.data)}catch(t){var e;404===(null===(e=t.response)||void 0===e?void 0:e.status)||console.error("Klaida u\u017ekraunant prane\u0161im\u0173 nustatymus:",t)}};return R?(0,Fe.jsx)("div",{className:"page",children:(0,Fe.jsx)("div",{className:"container",children:(0,Fe.jsx)("p",{children:"Kraunama..."})})}):(0,Fe.jsx)("div",{className:"page",children:(0,Fe.jsxs)("div",{className:"container",children:[(0,Fe.jsx)("h1",{children:"Nustatymai"}),(0,Fe.jsxs)("div",{className:"settings-tabs",children:[(0,Fe.jsx)("button",{className:"tab ".concat("company"===E?"active":""),onClick:()=>z("company"),children:"\u012emon\u0117s rekvizitai"}),(0,Fe.jsx)("button",{className:"tab ".concat("user"===E?"active":""),onClick:()=>z("user"),children:"Vartotojo nustatymai"}),(0,Fe.jsx)("button",{className:"tab ".concat("invoice"===E?"active":""),onClick:()=>z("invoice"),children:"S\u0105skait\u0173 nustatymai"}),(0,Fe.jsx)("button",{className:"tab ".concat("orders"===E?"active":""),onClick:()=>z("orders"),children:"U\u017esakym\u0173 nustatymai"}),(0,Fe.jsx)("button",{className:"tab ".concat("bank-import"===E?"active":""),onClick:()=>z("bank-import"),children:"Banko Importas"}),(0,Fe.jsx)("button",{className:"tab ".concat("notifications"===E?"active":""),onClick:()=>z("notifications"),children:"Prane\u0161imai"})]}),D&&(0,Fe.jsx)("div",{className:"message message-".concat(D.type),children:D.text}),"company"===E&&(0,Fe.jsxs)("div",{className:"settings-section company-info-compact",children:[(0,Fe.jsx)("h2",{style:{fontSize:"16px",marginBottom:"6px"},children:"\u012emon\u0117s rekvizitai"}),(0,Fe.jsx)("p",{className:"section-description",style:{fontSize:"11px",marginBottom:"12px"},children:"\u0160ie rekvizitai bus naudojami s\u0105skait\u0173 fakt\u016br\u0173 antra\u0161t\u0117je."}),(0,Fe.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),F(!0),L(null);try{if(G){const e=new FormData,{id:t,created_at:n,updated_at:a,logo:r,logo_url:i}=Q,s=He(Q,$e);Object.keys(s).forEach(t=>{const n=s[t];null!==n&&void 0!==n&&""!==n&&e.append(t,n)}),e.append("logo",G),await ze.api.put("/settings/company/current/",e,{headers:{"Content-Type":"multipart/form-data"}})}else{const{id:e,created_at:t,updated_at:n,logo:a,logo_url:r}=Q,i=He(Q,Ye);await ze.api.put("/settings/company/current/",i)}L({type:"success",text:"\u012emon\u0117s rekvizitai i\u0161saugoti s\u0117kmingai!"}),Z(null),await ge()}catch(n){var t;console.error("Klaida i\u0161saugant \u012fmon\u0117s informacij\u0105:",n);const e=null!==(t=n.response)&&void 0!==t&&t.data?"string"===typeof n.response.data?n.response.data:JSON.stringify(n.response.data):n.message;L({type:"error",text:"Klaida i\u0161saugant: "+e})}finally{F(!1)}},children:[(0,Fe.jsxs)("div",{className:"form-grid company-info-grid",children:[(0,Fe.jsxs)("div",{className:"form-field",children:[(0,Fe.jsx)("label",{children:"\u012emon\u0117s pavadinimas *"}),(0,Fe.jsx)("input",{type:"text",value:Q.name,onChange:e=>J((0,Ve.A)((0,Ve.A)({},Q),{},{name:e.target.value})),required:!0})]}),(0,Fe.jsxs)("div",{className:"form-field",children:[(0,Fe.jsx)("label",{children:"\u012emon\u0117s kodas *"}),(0,Fe.jsx)("input",{type:"text",value:Q.code,onChange:e=>J((0,Ve.A)((0,Ve.A)({},Q),{},{code:e.target.value})),required:!0})]}),(0,Fe.jsxs)("div",{className:"form-field",children:[(0,Fe.jsx)("label",{children:"PVM kodas"}),(0,Fe.jsx)("input",{type:"text",value:Q.vat_code,onChange:e=>J((0,Ve.A)((0,Ve.A)({},Q),{},{vat_code:e.target.value}))})]}),(0,Fe.jsxs)("div",{className:"form-field full-width",children:[(0,Fe.jsx)("label",{children:"Adresas *"}),(0,Fe.jsx)("textarea",{value:Q.address,onChange:e=>J((0,Ve.A)((0,Ve.A)({},Q),{},{address:e.target.value})),rows:2,required:!0})]}),(0,Fe.jsxs)("div",{className:"form-field",children:[(0,Fe.jsx)("label",{children:"Miestas *"}),(0,Fe.jsx)("input",{type:"text",value:Q.city,onChange:e=>J((0,Ve.A)((0,Ve.A)({},Q),{},{city:e.target.value})),required:!0})]}),(0,Fe.jsxs)("div",{className:"form-field",children:[(0,Fe.jsx)("label",{children:"Pa\u0161to kodas"}),(0,Fe.jsx)("input",{type:"text",value:Q.postal_code,onChange:e=>J((0,Ve.A)((0,Ve.A)({},Q),{},{postal_code:e.target.value}))})]}),(0,Fe.jsxs)("div",{className:"form-field",children:[(0,Fe.jsx)("label",{children:"\u0160alis *"}),(0,Fe.jsx)("input",{type:"text",value:Q.country,onChange:e=>J((0,Ve.A)((0,Ve.A)({},Q),{},{country:e.target.value})),required:!0})]}),(0,Fe.jsxs)("div",{className:"form-field",children:[(0,Fe.jsx)("label",{children:"Telefonas"}),(0,Fe.jsx)("input",{type:"text",value:Q.phone,onChange:e=>J((0,Ve.A)((0,Ve.A)({},Q),{},{phone:e.target.value}))})]}),(0,Fe.jsxs)("div",{className:"form-field",children:[(0,Fe.jsx)("label",{children:"El. pa\u0161tas"}),(0,Fe.jsx)("input",{type:"email",value:Q.email,onChange:e=>J((0,Ve.A)((0,Ve.A)({},Q),{},{email:e.target.value}))})]}),(0,Fe.jsxs)("div",{className:"form-field",children:[(0,Fe.jsx)("label",{children:"Banko pavadinimas"}),(0,Fe.jsx)("input",{type:"text",value:Q.bank_name,onChange:e=>J((0,Ve.A)((0,Ve.A)({},Q),{},{bank_name:e.target.value}))})]}),(0,Fe.jsxs)("div",{className:"form-field",children:[(0,Fe.jsx)("label",{children:"Banko s\u0105skaita"}),(0,Fe.jsx)("input",{type:"text",value:Q.bank_account,onChange:e=>J((0,Ve.A)((0,Ve.A)({},Q),{},{bank_account:e.target.value}))})]}),(0,Fe.jsxs)("div",{className:"form-field",children:[(0,Fe.jsx)("label",{children:"Banko kodas"}),(0,Fe.jsx)("input",{type:"text",value:Q.bank_code,onChange:e=>J((0,Ve.A)((0,Ve.A)({},Q),{},{bank_code:e.target.value}))})]}),(0,Fe.jsxs)("div",{className:"form-field",children:[(0,Fe.jsx)("label",{children:"Logotipas"}),(0,Fe.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[ee&&(0,Fe.jsx)("div",{style:{marginBottom:"6px"},children:(0,Fe.jsx)("img",{src:ee,alt:"Logotipo per\u017ei\u016bra",style:{maxWidth:"150px",maxHeight:"75px",border:"1px solid #ddd",borderRadius:"4px",padding:"3px",backgroundColor:"#fff"}})}),(0,Fe.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{var t;const n=null===(t=e.target.files)||void 0===t?void 0:t[0];if(n){if(!n.type.startsWith("image/"))return void L({type:"error",text:"Pra\u0161ome pasirinkti paveiksl\u0117lio fail\u0105 (PNG, JPG, GIF ir pan.)"});if(n.size>5242880)return void L({type:"error",text:"Failo dydis negali vir\u0161yti 5MB"});Z(n);const e=new FileReader;e.onloadend=()=>{te(e.result)},e.readAsDataURL(n)}},style:{padding:"6px",fontSize:"13px"}}),(0,Fe.jsx)("p",{style:{fontSize:"11px",color:"#666",margin:"4px 0 0 0"},children:"Palaikomi formatai: PNG, JPG, GIF. Maksimalus dydis: 5MB"}),Q.logo_url&&!G&&(0,Fe.jsx)("button",{type:"button",onClick:async()=>{try{const e=new FormData;e.append("logo","");const{id:t,created_at:n,updated_at:a,logo:r,logo_url:i}=Q,s=He(Q,Ze);Object.keys(s).forEach(t=>{const n=s[t];null!==n&&void 0!==n&&""!==n&&e.append(t,n)}),await ze.api.put("/settings/company/current/",e,{headers:{"Content-Type":"multipart/form-data"}}),te(null),J((0,Ve.A)((0,Ve.A)({},Q),{},{logo:null,logo_url:null})),L({type:"success",text:"Logotipas pa\u0161alintas s\u0117kmingai!"}),await ge()}catch(e){console.error("Klaida \u0161alinant logotip\u0105:",e),L({type:"error",text:"Klaida \u0161alinant logotip\u0105"})}},style:{padding:"4px 10px",backgroundColor:"#dc3545",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",alignSelf:"flex-start",fontSize:"12px",marginTop:"6px"},children:"Pa\u0161alinti logotip\u0105"})]})]}),(0,Fe.jsxs)("div",{className:"form-field full-width",children:[(0,Fe.jsx)("label",{children:"Pastabos"}),(0,Fe.jsx)("textarea",{value:Q.notes,onChange:e=>J((0,Ve.A)((0,Ve.A)({},Q),{},{notes:e.target.value})),rows:2})]})]}),(0,Fe.jsx)("div",{className:"form-actions",style:{paddingTop:"10px",marginTop:"6px"},children:(0,Fe.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:O,style:{padding:"5px 14px",fontSize:"12px"},children:O?"I\u0161saugoma...":"I\u0161saugoti"})})]})]}),"user"===E&&(0,Fe.jsxs)("div",{className:"settings-section user-settings-compact",children:[(0,Fe.jsx)("h2",{style:{fontSize:"16px",marginBottom:"6px"},children:"Vartotojo nustatymai"}),(0,Fe.jsx)("p",{className:"section-description",style:{fontSize:"11px",marginBottom:"12px"},children:"Konfig\u016bruokite asmeninius sistemos nustatymus."}),(0,Fe.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),F(!0),L(null);try{const{id:e,user_id:t,username:n,created_at:a,updated_at:r}=ne,i=He(ne,Qe);await ze.api.put("/settings/user/my_settings/",i),L({type:"success",text:"Vartotojo nustatymai i\u0161saugoti s\u0117kmingai!"}),xe()}catch(n){var t;console.error("Klaida i\u0161saugant vartotojo nustatymus:",n);const e=null!==(t=n.response)&&void 0!==t&&t.data?"string"===typeof n.response.data?n.response.data:JSON.stringify(n.response.data):n.message;L({type:"error",text:"Klaida i\u0161saugant: "+e})}finally{F(!1)}},children:[(0,Fe.jsxs)("div",{className:"form-grid user-settings-grid",children:[(0,Fe.jsxs)("div",{className:"form-field full-width",style:{borderBottom:"1px solid #e0e0e0",paddingBottom:"8px",marginBottom:"10px"},children:[(0,Fe.jsx)("h3",{style:{marginBottom:"8px",fontSize:"13px",fontWeight:"bold"},children:"Asmenin\u0117 informacija"}),(0,Fe.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"8px"},children:[(0,Fe.jsxs)("div",{className:"form-field",children:[(0,Fe.jsx)("label",{children:"Vardas"}),(0,Fe.jsx)("input",{type:"text",value:ne.first_name||"",onChange:e=>ae((0,Ve.A)((0,Ve.A)({},ne),{},{first_name:e.target.value})),placeholder:"J\u016bs\u0173 vardas"})]}),(0,Fe.jsxs)("div",{className:"form-field",children:[(0,Fe.jsx)("label",{children:"Pavard\u0117"}),(0,Fe.jsx)("input",{type:"text",value:ne.last_name||"",onChange:e=>ae((0,Ve.A)((0,Ve.A)({},ne),{},{last_name:e.target.value})),placeholder:"J\u016bs\u0173 pavard\u0117"})]}),(0,Fe.jsxs)("div",{className:"form-field",children:[(0,Fe.jsx)("label",{children:"El. pa\u0161tas"}),(0,Fe.jsx)("input",{type:"email",value:ne.email||"",onChange:e=>ae((0,Ve.A)((0,Ve.A)({},ne),{},{email:e.target.value})),placeholder:"pvz@pvz.lt"})]}),(0,Fe.jsxs)("div",{className:"form-field",children:[(0,Fe.jsx)("label",{children:"Telefonas"}),(0,Fe.jsx)("input",{type:"tel",value:ne.phone||"",onChange:e=>ae((0,Ve.A)((0,Ve.A)({},ne),{},{phone:e.target.value})),placeholder:"+370 600 00000"})]})]})]}),(0,Fe.jsx)("div",{className:"form-field full-width",style:{borderBottom:"1px solid #e0e0e0",paddingBottom:"8px",marginBottom:"10px"},children:(0,Fe.jsx)("h3",{style:{marginBottom:"8px",fontSize:"13px",fontWeight:"bold"},children:"Sistemos nustatymai"})}),(0,Fe.jsxs)("div",{className:"form-field",children:[(0,Fe.jsx)("label",{children:"Kalba"}),(0,Fe.jsxs)("select",{value:ne.language,onChange:e=>ae((0,Ve.A)((0,Ve.A)({},ne),{},{language:e.target.value})),children:[(0,Fe.jsx)("option",{value:"lt",children:"Lietuvi\u0173"}),(0,Fe.jsx)("option",{value:"en",children:"English"})]})]}),(0,Fe.jsxs)("div",{className:"form-field",children:[(0,Fe.jsx)("label",{children:"Datos formatas"}),(0,Fe.jsxs)("select",{value:ne.date_format,onChange:e=>ae((0,Ve.A)((0,Ve.A)({},ne),{},{date_format:e.target.value})),children:[(0,Fe.jsx)("option",{value:"YYYY-MM-DD",children:"YYYY-MM-DD"}),(0,Fe.jsx)("option",{value:"DD/MM/YYYY",children:"DD/MM/YYYY"}),(0,Fe.jsx)("option",{value:"MM/DD/YYYY",children:"MM/DD/YYYY"})]})]}),(0,Fe.jsxs)("div",{className:"form-field",children:[(0,Fe.jsx)("label",{children:"Laiko juosta"}),(0,Fe.jsx)("input",{type:"text",value:ne.timezone,onChange:e=>ae((0,Ve.A)((0,Ve.A)({},ne),{},{timezone:e.target.value}))})]}),(0,Fe.jsxs)("div",{className:"form-field",children:[(0,Fe.jsx)("label",{children:"Element\u0173 per puslap\u012f"}),(0,Fe.jsx)("input",{type:"number",min:"10",max:"1000",value:ne.items_per_page,onChange:e=>ae((0,Ve.A)((0,Ve.A)({},ne),{},{items_per_page:parseInt(e.target.value)||100}))})]})]}),(0,Fe.jsx)("div",{className:"form-actions",style:{paddingTop:"10px",marginTop:"6px"},children:(0,Fe.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:O,style:{padding:"5px 14px",fontSize:"12px"},children:O?"I\u0161saugoma...":"I\u0161saugoti"})})]})]}),"invoice"===E&&(0,Fe.jsxs)("div",{className:"settings-section invoice-settings-compact",children:[(0,Fe.jsx)("h2",{style:{fontSize:"16px",marginBottom:"6px"},children:"S\u0105skait\u0173 nustatymai"}),(0,Fe.jsx)("p",{className:"section-description",style:{fontSize:"11px",marginBottom:"12px"},children:"Nustatykite numatyt\u0105sias s\u0105skait\u0173 vertes ir numeravim\u0105."}),(0,Fe.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),F(!0),L(null);try{const{id:e,created_at:t,updated_at:n,last_invoice_number:a,next_invoice_number:r}=re,i=He(re,Je);await ze.api.put("/settings/invoice/current/",i),L({type:"success",text:"S\u0105skait\u0173 nustatymai i\u0161saugoti s\u0117kmingai!"}),await ve(),ie(e=>(0,Ve.A)((0,Ve.A)({},e),{},{next_invoice_number_edit:void 0}))}catch(n){var t;console.error("Klaida i\u0161saugant s\u0105skait\u0173 nustatymus:",n);const e=null!==(t=n.response)&&void 0!==t&&t.data?"string"===typeof n.response.data?n.response.data:JSON.stringify(n.response.data):n.message;L({type:"error",text:"Klaida i\u0161saugant: "+e})}finally{F(!1)}},children:[(0,Fe.jsxs)("div",{className:"form-grid invoice-settings-grid",children:[(0,Fe.jsxs)("div",{className:"form-field",children:[(0,Fe.jsx)("label",{children:"Numatytasis PVM tarifas (%) *"}),(0,Fe.jsx)("input",{type:"number",step:"0.01",value:re.default_vat_rate,onChange:e=>ie((0,Ve.A)((0,Ve.A)({},re),{},{default_vat_rate:e.target.value})),required:!0})]}),(0,Fe.jsxs)("div",{className:"form-field",children:[(0,Fe.jsx)("label",{children:"Numatytasis mok\u0117jimo terminas (dienos) *"}),(0,Fe.jsx)("input",{type:"number",min:"1",value:re.default_payment_term_days,onChange:e=>ie((0,Ve.A)((0,Ve.A)({},re),{},{default_payment_term_days:parseInt(e.target.value)||30})),required:!0})]}),(0,Fe.jsxs)("div",{className:"form-field",children:[(0,Fe.jsx)("label",{children:"Pardavimo s\u0105skait\u0173 prefiksas *"}),(0,Fe.jsx)("input",{type:"text",maxLength:10,value:re.invoice_prefix_sales,onChange:e=>ie((0,Ve.A)((0,Ve.A)({},re),{},{invoice_prefix_sales:e.target.value})),required:!0}),(0,Fe.jsx)("small",{style:{color:"#666",fontSize:"11px",marginTop:"2px"},children:"Pvz.: LOG (s\u0105skaita bus LOG0001234)"})]}),(0,Fe.jsxs)("div",{className:"form-field",children:[(0,Fe.jsx)("label",{children:"S\u0105skaitos numerio skaitmen\u0173 skai\u010dius *"}),(0,Fe.jsx)("input",{type:"number",min:1,max:10,value:re.invoice_number_width,onChange:e=>ie((0,Ve.A)((0,Ve.A)({},re),{},{invoice_number_width:parseInt(e.target.value)||7})),required:!0}),(0,Fe.jsx)("small",{style:{color:"#666",fontSize:"11px",marginTop:"2px"},children:"Skaitmen\u0173 skai\u010dius numerio dalyje (pvz.: 7 = LOG0001234)"})]}),(re.last_invoice_number||re.next_invoice_number)&&(0,Fe.jsxs)("div",{className:"form-field full-width",style:{padding:"8px",backgroundColor:"#f0f7ff",borderRadius:"4px",border:"1px solid #b3d9ff",marginTop:"6px"},children:[(0,Fe.jsx)("label",{style:{fontWeight:"bold",marginBottom:"6px",display:"block",fontSize:"12px"},children:"S\u0105skait\u0173 numeracijos informacija"}),(0,Fe.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:[(0,Fe.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Fe.jsx)("span",{style:{color:"#666",fontSize:"11px"},children:"Paskutin\u0117s i\u0161ra\u0161ytos s\u0105skaitos numeris:"}),(0,Fe.jsx)("strong",{style:{fontSize:"13px",color:"#333"},children:re.last_invoice_number||"N\u0117ra"})]}),(0,Fe.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"5px"},children:[(0,Fe.jsx)("span",{style:{color:"#666",fontSize:"11px"},children:"Sekan\u010dios s\u0105skaitos numeris:"}),(0,Fe.jsx)("div",{style:{display:"flex",alignItems:"center",gap:"5px"},children:(0,Fe.jsx)("strong",{style:{fontSize:"13px",color:"#0066cc"},children:re.next_invoice_number||"N\u0117ra"})})]}),(0,Fe.jsxs)("div",{style:{marginTop:"5px",paddingTop:"6px",borderTop:"1px solid #b3d9ff"},children:[(0,Fe.jsx)("label",{style:{display:"block",marginBottom:"3px",fontSize:"11px",color:"#666"},children:"Nustatyti sekant\u012f s\u0105skaitos numer\u012f:"}),(0,Fe.jsx)("input",{type:"text",value:re.next_invoice_number_edit||re.next_invoice_number||"",onChange:e=>ie((0,Ve.A)((0,Ve.A)({},re),{},{next_invoice_number_edit:e.target.value.toUpperCase()})),placeholder:re.next_invoice_number||"PVZ: ".concat(re.invoice_prefix_sales,"0001234"),style:{width:"100%",padding:"5px 7px",fontSize:"12px",border:"1px solid #ccc",borderRadius:"4px"}}),(0,Fe.jsxs)("small",{style:{color:"#666",fontSize:"10px",marginTop:"2px",display:"block"},children:["\u012eveskite s\u0105skaitos numer\u012f, kur\u012f tur\u0117s gauti kita s\u0105skaita (pvz.: ",re.invoice_prefix_sales,"0001250)"]})]})]})]}),(0,Fe.jsxs)("div",{className:"form-field",children:[(0,Fe.jsx)("label",{children:"Automatinis numeravimas"}),(0,Fe.jsxs)("label",{className:"checkbox-label",children:[(0,Fe.jsx)("input",{type:"checkbox",checked:re.auto_numbering,onChange:e=>ie((0,Ve.A)((0,Ve.A)({},re),{},{auto_numbering:e.target.checked}))}),(0,Fe.jsx)("span",{children:"\u012ejungti automatin\u012f numeravim\u0105"})]})]}),(0,Fe.jsxs)("div",{className:"form-field full-width",children:[(0,Fe.jsx)("label",{children:"S\u0105skaitos apa\u010dios tekstas"}),(0,Fe.jsx)("textarea",{value:re.invoice_footer_text,onChange:e=>ie((0,Ve.A)((0,Ve.A)({},re),{},{invoice_footer_text:e.target.value})),rows:2,placeholder:"\u0160is tekstas bus rodomas s\u0105skaitos apa\u010dioje..."})]}),(0,Fe.jsxs)("div",{className:"form-field full-width",style:{borderTop:"1px solid #e0e0e0",paddingTop:"10px",marginTop:"6px"},children:[(0,Fe.jsx)("h3",{style:{marginBottom:"6px",fontSize:"13px",fontWeight:"bold"},children:"S\u0105skaitos rodymo nustatymai (pagal nutyl\u0117jim\u0105)"}),(0,Fe.jsx)("p",{style:{fontSize:"10px",color:"#666",marginBottom:"8px"},children:"\u0160ie nustatymai bus naudojami kaip numatytosios vert\u0117s naujoms s\u0105skaitoms. Kiekvienoje s\u0105skaitoje galima juos perra\u0161yti."}),(0,Fe.jsx)("div",{style:{marginBottom:"10px",padding:"6px",backgroundColor:"#f9f9f9",borderRadius:"4px"},children:(0,Fe.jsxs)("label",{style:{display:"flex",alignItems:"center",fontWeight:"bold",marginBottom:"4px",fontSize:"12px"},children:[(0,Fe.jsx)("input",{type:"checkbox",checked:null===(e=null===(t=re.default_display_options)||void 0===t?void 0:t.show_order_type)||void 0===e||e,onChange:e=>ie((0,Ve.A)((0,Ve.A)({},re),{},{default_display_options:(0,Ve.A)((0,Ve.A)({},re.default_display_options),{},{show_order_type:e.target.checked})})),style:{marginRight:"8px"}}),"Rodyti u\u017esakymo tip\u0105"]})}),(0,Fe.jsxs)("div",{style:{marginBottom:"10px",padding:"6px",backgroundColor:"#f9f9f9",borderRadius:"4px"},children:[(0,Fe.jsxs)("label",{style:{display:"flex",alignItems:"center",fontWeight:"bold",marginBottom:"4px",fontSize:"12px"},children:[(0,Fe.jsx)("input",{type:"checkbox",checked:null===(n=null===(a=re.default_display_options)||void 0===a?void 0:a.show_cargo_info)||void 0===n||n,onChange:e=>ie((0,Ve.A)((0,Ve.A)({},re),{},{default_display_options:(0,Ve.A)((0,Ve.A)({},re.default_display_options),{},{show_cargo_info:e.target.checked})})),style:{marginRight:"8px"}}),"Rodyti krovini\u0173 informacij\u0105"]}),(null===(i=re.default_display_options)||void 0===i?void 0:i.show_cargo_info)&&(0,Fe.jsxs)("div",{style:{marginLeft:"20px",display:"flex",flexDirection:"column",gap:"3px",marginTop:"3px"},children:[(0,Fe.jsxs)("label",{style:{display:"flex",alignItems:"center",fontSize:"11px",color:"#666"},children:[(0,Fe.jsx)("input",{type:"checkbox",checked:null===(s=null===(o=re.default_display_options)||void 0===o?void 0:o.show_cargo_weight)||void 0===s||s,onChange:e=>ie((0,Ve.A)((0,Ve.A)({},re),{},{default_display_options:(0,Ve.A)((0,Ve.A)({},re.default_display_options),{},{show_cargo_weight:e.target.checked})})),style:{marginRight:"8px"}}),"Svoris"]}),(0,Fe.jsxs)("label",{style:{display:"flex",alignItems:"center",fontSize:"14px",color:"#666"},children:[(0,Fe.jsx)("input",{type:"checkbox",checked:null===(l=null===(d=re.default_display_options)||void 0===d?void 0:d.show_cargo_ldm)||void 0===l||l,onChange:e=>ie((0,Ve.A)((0,Ve.A)({},re),{},{default_display_options:(0,Ve.A)((0,Ve.A)({},re.default_display_options),{},{show_cargo_ldm:e.target.checked})})),style:{marginRight:"8px"}}),"LDM"]}),(0,Fe.jsxs)("label",{style:{display:"flex",alignItems:"center",fontSize:"14px",color:"#666"},children:[(0,Fe.jsx)("input",{type:"checkbox",checked:null===(c=null===(u=re.default_display_options)||void 0===u?void 0:u.show_cargo_dimensions)||void 0===c||c,onChange:e=>ie((0,Ve.A)((0,Ve.A)({},re),{},{default_display_options:(0,Ve.A)((0,Ve.A)({},re.default_display_options),{},{show_cargo_dimensions:e.target.checked})})),style:{marginRight:"8px"}}),"Matmenys"]}),(0,Fe.jsxs)("label",{style:{display:"flex",alignItems:"center",fontSize:"14px",color:"#666"},children:[(0,Fe.jsx)("input",{type:"checkbox",checked:null===(p=null===(f=re.default_display_options)||void 0===f?void 0:f.show_cargo_properties)||void 0===p||p,onChange:e=>ie((0,Ve.A)((0,Ve.A)({},re),{},{default_display_options:(0,Ve.A)((0,Ve.A)({},re.default_display_options),{},{show_cargo_properties:e.target.checked})})),style:{marginRight:"8px"}}),"Savyb\u0117s"]})]})]}),(0,Fe.jsxs)("div",{style:{marginBottom:"20px",padding:"10px",backgroundColor:"#f9f9f9",borderRadius:"5px"},children:[(0,Fe.jsxs)("label",{style:{display:"flex",alignItems:"center",fontWeight:"bold",marginBottom:"10px"},children:[(0,Fe.jsx)("input",{type:"checkbox",checked:null===(m=null===(h=re.default_display_options)||void 0===h?void 0:h.show_carriers)||void 0===m||m,onChange:e=>ie((0,Ve.A)((0,Ve.A)({},re),{},{default_display_options:(0,Ve.A)((0,Ve.A)({},re.default_display_options),{},{show_carriers:e.target.checked})})),style:{marginRight:"8px"}}),"Rodyti ve\u017e\u0117jus ir sand\u0117lius"]}),(null===(g=re.default_display_options)||void 0===g?void 0:g.show_carriers)&&(0,Fe.jsxs)("div",{style:{marginLeft:"20px",display:"flex",flexDirection:"column",gap:"3px",marginTop:"3px"},children:[(0,Fe.jsxs)("label",{style:{display:"flex",alignItems:"center",fontSize:"11px",color:"#666"},children:[(0,Fe.jsx)("input",{type:"checkbox",checked:null===(x=null===(v=re.default_display_options)||void 0===v?void 0:v.show_carrier_name)||void 0===x||x,onChange:e=>ie((0,Ve.A)((0,Ve.A)({},re),{},{default_display_options:(0,Ve.A)((0,Ve.A)({},re.default_display_options),{},{show_carrier_name:e.target.checked})})),style:{marginRight:"8px"}}),"Vardas"]}),(0,Fe.jsxs)("label",{style:{display:"flex",alignItems:"center",fontSize:"14px",color:"#666"},children:[(0,Fe.jsx)("input",{type:"checkbox",checked:null===(y=null===(_=re.default_display_options)||void 0===_?void 0:_.show_carrier_route)||void 0===y||y,onChange:e=>ie((0,Ve.A)((0,Ve.A)({},re),{},{default_display_options:(0,Ve.A)((0,Ve.A)({},re.default_display_options),{},{show_carrier_route:e.target.checked})})),style:{marginRight:"8px"}}),"Mar\u0161rutas"]}),(0,Fe.jsxs)("label",{style:{display:"flex",alignItems:"center",fontSize:"14px",color:"#666"},children:[(0,Fe.jsx)("input",{type:"checkbox",checked:null===(b=null===(j=re.default_display_options)||void 0===j?void 0:j.show_carrier_dates)||void 0===b||b,onChange:e=>ie((0,Ve.A)((0,Ve.A)({},re),{},{default_display_options:(0,Ve.A)((0,Ve.A)({},re.default_display_options),{},{show_carrier_dates:e.target.checked})})),style:{marginRight:"8px"}}),"Datos"]})]})]}),(0,Fe.jsxs)("div",{style:{marginBottom:"10px",padding:"6px",backgroundColor:"#f9f9f9",borderRadius:"4px"},children:[(0,Fe.jsxs)("label",{style:{display:"flex",alignItems:"center",fontWeight:"bold",marginBottom:"4px",fontSize:"12px"},children:[(0,Fe.jsx)("input",{type:"checkbox",checked:null===(k=null===(w=re.default_display_options)||void 0===w?void 0:w.show_prices)||void 0===k||k,onChange:e=>ie((0,Ve.A)((0,Ve.A)({},re),{},{default_display_options:(0,Ve.A)((0,Ve.A)({},re.default_display_options),{},{show_prices:e.target.checked})})),style:{marginRight:"8px"}}),"Rodyti kainas"]}),(null===(S=re.default_display_options)||void 0===S?void 0:S.show_prices)&&(0,Fe.jsxs)("div",{style:{marginLeft:"20px",display:"flex",flexDirection:"column",gap:"3px",marginTop:"3px"},children:[(0,Fe.jsxs)("label",{style:{display:"flex",alignItems:"center",fontSize:"11px",color:"#666"},children:[(0,Fe.jsx)("input",{type:"checkbox",checked:null===(C=null===(N=re.default_display_options)||void 0===N?void 0:N.show_my_price)||void 0===C||C,onChange:e=>ie((0,Ve.A)((0,Ve.A)({},re),{},{default_display_options:(0,Ve.A)((0,Ve.A)({},re.default_display_options),{},{show_my_price:e.target.checked})})),style:{marginRight:"8px"}}),"Mano kaina"]}),(0,Fe.jsxs)("label",{style:{display:"flex",alignItems:"center",fontSize:"14px",color:"#666"},children:[(0,Fe.jsx)("input",{type:"checkbox",checked:null===(A=null===(P=re.default_display_options)||void 0===P?void 0:P.show_other_costs)||void 0===A||A,onChange:e=>ie((0,Ve.A)((0,Ve.A)({},re),{},{default_display_options:(0,Ve.A)((0,Ve.A)({},re.default_display_options),{},{show_other_costs:e.target.checked})})),style:{marginRight:"8px"}}),"Kitos i\u0161laidos"]})]})]})]}),(0,Fe.jsxs)("div",{className:"form-field full-width",children:[(0,Fe.jsx)("label",{children:"Pastabos"}),(0,Fe.jsx)("textarea",{value:re.notes,onChange:e=>ie((0,Ve.A)((0,Ve.A)({},re),{},{notes:e.target.value})),rows:2})]})]}),(0,Fe.jsx)("div",{className:"form-actions",style:{paddingTop:"10px",marginTop:"6px"},children:(0,Fe.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:O,style:{padding:"5px 14px",fontSize:"12px"},children:O?"I\u0161saugoma...":"I\u0161saugoti"})})]}),(0,Fe.jsxs)("div",{style:{marginTop:"40px",borderTop:"2px solid #e0e0e0",paddingTop:"30px"},children:[(0,Fe.jsx)("h3",{style:{marginBottom:"15px"},children:"PVM Tarifai su Straipsniais"}),(0,Fe.jsx)("p",{className:"section-description",style:{marginBottom:"20px"},children:"Valdykite PVM tarifus su atitinkamais straipsniais. Ra\u0161ant s\u0105skait\u0105, gal\u0117site pasirinkti tinkam\u0105 PVM tarif\u0105."}),(0,Fe.jsx)("div",{style:{marginBottom:"20px"},children:(0,Fe.jsx)("button",{type:"button",onClick:()=>{ue({rate:"21.00",article:"",is_active:!0,sequence_order:le.length}),fe(!0)},className:"btn btn-secondary",style:{marginBottom:"20px"},children:"+ Prid\u0117ti nauj\u0105 PVM tarif\u0105"})}),le.length>0&&(0,Fe.jsx)("div",{style:{marginBottom:"20px"},children:(0,Fe.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",backgroundColor:"#fff"},children:[(0,Fe.jsx)("thead",{children:(0,Fe.jsxs)("tr",{style:{backgroundColor:"#f5f5f5",borderBottom:"2px solid #ddd"},children:[(0,Fe.jsx)("th",{style:{padding:"10px",textAlign:"left",fontSize:"13px",fontWeight:"bold"},children:"PVM Tarifas"}),(0,Fe.jsx)("th",{style:{padding:"10px",textAlign:"left",fontSize:"13px",fontWeight:"bold"},children:"Straipsnis"}),(0,Fe.jsx)("th",{style:{padding:"10px",textAlign:"center",fontSize:"13px",fontWeight:"bold"},children:"Aktyvus"}),(0,Fe.jsx)("th",{style:{padding:"10px",textAlign:"center",fontSize:"13px",fontWeight:"bold"},children:"Veiksmai"})]})}),(0,Fe.jsx)("tbody",{children:le.map(e=>(0,Fe.jsxs)("tr",{style:{borderBottom:"1px solid #eee"},children:[(0,Fe.jsxs)("td",{style:{padding:"10px"},children:[e.rate,"%"]}),(0,Fe.jsx)("td",{style:{padding:"10px"},children:e.article||"-"}),(0,Fe.jsx)("td",{style:{padding:"10px",textAlign:"center"},children:e.is_active?"\u2713":"\u2717"}),(0,Fe.jsxs)("td",{style:{padding:"10px",textAlign:"center"},children:[(0,Fe.jsx)("button",{type:"button",onClick:()=>{ue(e),fe(!0)},className:"btn btn-secondary",style:{fontSize:"12px",padding:"4px 8px",marginRight:"5px"},children:"Redaguoti"}),(0,Fe.jsx)("button",{type:"button",onClick:()=>(async e=>{if(window.confirm("Ar tikrai norite i\u0161trinti \u0161\u012f PVM tarif\u0105?"))try{await ze.api.delete("/settings/pvm-rates/".concat(e,"/")),L({type:"success",text:"PVM tarifas s\u0117kmingai i\u0161trintas!"}),await _e()}catch(t){L({type:"error",text:"Klaida trinant PVM tarif\u0105"})}})(e.id),className:"btn btn-secondary",style:{fontSize:"12px",padding:"4px 8px",backgroundColor:"#dc3545",color:"white",border:"none"},children:"Trinti"})]})]},e.id))})]})}),0===le.length&&(0,Fe.jsx)("div",{style:{padding:"20px",textAlign:"center",color:"#999",backgroundColor:"#fafafa",borderRadius:"4px"},children:"PVM tarif\u0173 n\u0117ra. Prid\u0117kite pirm\u0105j\u012f."})]})]}),"orders"===E&&(0,Fe.jsxs)("div",{className:"settings-section order-settings-compact",children:[(0,Fe.jsx)("h2",{style:{fontSize:"16px",marginBottom:"6px"},children:"U\u017esakym\u0173 nustatymai"}),(0,Fe.jsx)("p",{className:"section-description",style:{fontSize:"11px",marginBottom:"12px"},children:"Nustatykite u\u017esakym\u0173 numeravimo parametrus."}),(0,Fe.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),F(!0),L(null);try{const e=se,{id:t,created_at:n,updated_at:a,last_order_number:r,next_order_number:i}=e,s=He(e,Ge);await ze.api.put("/settings/orders/current/",s),L({type:"success",text:"U\u017esakym\u0173 nustatymai i\u0161saugoti s\u0117kmingai!"}),await ye(),oe(e=>(0,Ve.A)((0,Ve.A)({},e),{},{next_order_number_edit:void 0}))}catch(n){var t;console.error("Klaida i\u0161saugant u\u017esakym\u0173 nustatymus:",n);const e=null!==(t=n.response)&&void 0!==t&&t.data?"string"===typeof n.response.data?n.response.data:JSON.stringify(n.response.data):n.message;L({type:"error",text:"Klaida i\u0161saugant: "+e})}finally{F(!1)}},children:[(0,Fe.jsxs)("div",{className:"form-grid order-settings-grid",children:[(0,Fe.jsxs)("div",{className:"form-field",children:[(0,Fe.jsx)("label",{children:"Numerio skaitmen\u0173 skai\u010dius (NNN) *"}),(0,Fe.jsx)("input",{type:"number",min:1,max:10,value:se.order_number_width,onChange:e=>oe((0,Ve.A)((0,Ve.A)({},se),{},{order_number_width:parseInt(e.target.value)||3})),required:!0}),(0,Fe.jsxs)("small",{style:{color:"#666",fontSize:"11px",marginTop:"2px"},children:["Pvz.: 3 \u21d2 ",(new Date).getFullYear(),"-001, 4 \u21d2 ",(new Date).getFullYear(),"-0001"]})]}),(se.last_order_number||se.next_order_number)&&(0,Fe.jsxs)("div",{className:"form-field full-width",style:{padding:"8px",backgroundColor:"#f0fff4",borderRadius:"4px",border:"1px solid #b3ffcc",marginTop:"6px"},children:[(0,Fe.jsx)("label",{style:{fontWeight:"bold",marginBottom:"6px",display:"block",fontSize:"12px"},children:"U\u017esakym\u0173 numeracijos informacija"}),(0,Fe.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:[(0,Fe.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Fe.jsx)("span",{style:{color:"#666",fontSize:"11px"},children:"Paskutinio u\u017esakymo numeris:"}),(0,Fe.jsx)("strong",{style:{fontSize:"13px",color:"#333"},children:se.last_order_number||"N\u0117ra"})]}),(0,Fe.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"5px"},children:[(0,Fe.jsx)("span",{style:{color:"#666",fontSize:"11px"},children:"Sekantis u\u017esakymo numeris:"}),(0,Fe.jsx)("div",{style:{display:"flex",alignItems:"center",gap:"5px"},children:(0,Fe.jsx)("strong",{style:{fontSize:"13px",color:"#0066cc"},children:se.next_order_number||"N\u0117ra"})})]}),(0,Fe.jsxs)("div",{style:{marginTop:"5px",paddingTop:"6px",borderTop:"1px solid #b3ffcc"},children:[(0,Fe.jsx)("label",{style:{display:"block",marginBottom:"3px",fontSize:"11px",color:"#666"},children:"Nustatyti sekant\u012f u\u017esakymo numer\u012f (YYYY-NNN):"}),(0,Fe.jsx)("input",{type:"text",value:se.next_order_number_edit||se.next_order_number||"",onChange:e=>oe((0,Ve.A)((0,Ve.A)({},se),{},{next_order_number_edit:e.target.value})),placeholder:se.next_order_number||"PVZ: ".concat((new Date).getFullYear(),"-").concat(String(1).padStart(se.order_number_width||3,"0")),style:{width:"100%",padding:"5px 7px",fontSize:"12px",border:"1px solid #ccc",borderRadius:"4px"}}),(0,Fe.jsxs)("small",{style:{color:"#666",fontSize:"10px",marginTop:"2px",display:"block"},children:["\u012eveskite numer\u012f, kur\u012f tur\u0117s gauti kitas u\u017esakymas (pvz.: ",(new Date).getFullYear(),"-",String(250).padStart(se.order_number_width||3,"0"),")"]})]})]})]}),(0,Fe.jsxs)("div",{className:"form-field",children:[(0,Fe.jsx)("label",{children:"Automatinis numeravimas"}),(0,Fe.jsxs)("label",{className:"checkbox-label",children:[(0,Fe.jsx)("input",{type:"checkbox",checked:se.auto_numbering,onChange:e=>oe((0,Ve.A)((0,Ve.A)({},se),{},{auto_numbering:e.target.checked}))}),(0,Fe.jsx)("span",{children:"\u012ejungti automatin\u012f numeravim\u0105"})]})]}),(0,Fe.jsxs)("div",{className:"form-field",children:[(0,Fe.jsx)("label",{children:"Mano kainos procentas nuo bendros u\u017esakymo kainos (%) *"}),(0,Fe.jsx)("input",{type:"number",step:"0.01",min:0,max:100,value:se.my_price_percentage||15,onChange:e=>oe((0,Ve.A)((0,Ve.A)({},se),{},{my_price_percentage:parseFloat(e.target.value)||15})),required:!0}),(0,Fe.jsx)("small",{style:{color:"#666",fontSize:"11px",marginTop:"2px"},children:'Automati\u0161kai apskai\u010diuojama "mano kaina" kaip \u0161is procentas nuo bendros sumos (ve\u017e\u0117j\u0173/sand\u0117li\u0173 kainos + kitos i\u0161laidos). Pvz.: 15% = 15.00'})]}),(0,Fe.jsxs)("div",{className:"form-field full-width",children:[(0,Fe.jsx)("label",{children:"Pastabos"}),(0,Fe.jsx)("textarea",{value:se.notes,onChange:e=>oe((0,Ve.A)((0,Ve.A)({},se),{},{notes:e.target.value})),rows:2})]})]}),(0,Fe.jsx)("div",{className:"form-actions",style:{paddingTop:"10px",marginTop:"6px"},children:(0,Fe.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:O,style:{padding:"5px 14px",fontSize:"12px"},children:O?"I\u0161saugoma...":"I\u0161saugoti"})})]})]}),"bank-import"===E&&(0,Fe.jsxs)("div",{className:"settings-section",children:[K.visible&&(0,Fe.jsx)("div",{style:{position:"fixed",top:"20%",left:"50%",transform:"translateX(-50%)",zIndex:2e3,backgroundColor:"success"===K.type?"#28a745":"error"===K.type?"#dc3545":"#17a2b8",color:"#fff",padding:"12px 18px",borderRadius:8,boxShadow:"0 6px 20px rgba(0,0,0,0.25)",maxWidth:"90%",textAlign:"center"},children:K.message}),(0,Fe.jsx)("h2",{children:"Banko I\u0161ra\u0161o Importas"}),(0,Fe.jsx)("p",{style:{marginBottom:"20px",color:"#666"},children:"\u012ekelkite CSV banko i\u0161ra\u0161\u0105, kad automati\u0161kai suderintum\u0117te mok\u0117jimus su s\u0105skaitomis."}),(0,Fe.jsx)("div",{className:"card",children:(0,Fe.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!B)return;V(!0);const t=new FormData;t.append("file",B);try{const e=await ze.api.post("/invoices/bank/upload/",t,{headers:{"Content-Type":"multipart/form-data"}});q(e.data),Y("success","Banko i\u0161ra\u0161as s\u0117kmingai importuotas")}catch(r){var n,a;Y("error",(null===(n=r.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.error)||"Klaida importuojant fail\u0105")}finally{V(!1)}},children:[(0,Fe.jsxs)("div",{className:"form-group",children:[(0,Fe.jsx)("label",{htmlFor:"bank-file",children:"Pasirinkite CSV fail\u0105"}),(0,Fe.jsx)("input",{type:"file",id:"bank-file",accept:".csv",onChange:e=>{e.target.files&&e.target.files[0]&&M(e.target.files[0])},required:!0,style:{width:"100%",padding:"10px",fontSize:"14px",border:"1px solid #ddd",borderRadius:"4px"}}),(0,Fe.jsx)("small",{style:{color:"#666",fontSize:"12px",display:"block",marginTop:"5px"},children:"CSV failas turi tur\u0117ti stulpelius: data, suma, apra\u0161ymas"})]}),(0,Fe.jsx)("button",{type:"submit",className:"button",disabled:U||!B,children:U?"Apdorojama...":"Importuoti"})]})}),W&&(0,Fe.jsxs)("div",{className:"card",style:{marginTop:"20px"},children:[(0,Fe.jsx)("h3",{children:"Importo Rezultatai"}),(0,Fe.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,Fe.jsxs)("p",{children:[(0,Fe.jsx)("strong",{children:"I\u0161 viso operacij\u0173:"})," ",W.total_transactions||0]}),(0,Fe.jsxs)("p",{children:[(0,Fe.jsx)("strong",{children:"Suderinta:"})," ",(0,Fe.jsx)("span",{style:{color:"#28a745"},children:W.matched_count||0})]}),(0,Fe.jsxs)("p",{children:[(0,Fe.jsx)("strong",{children:"Nesuderinta:"})," ",(0,Fe.jsx)("span",{style:{color:"#dc3545"},children:W.unmatched_count||0})]})]}),W.results&&W.results.length>0&&(0,Fe.jsx)("div",{style:{overflowX:"auto"},children:(0,Fe.jsxs)("table",{className:"table",style:{width:"100%",borderCollapse:"collapse",marginTop:"15px"},children:[(0,Fe.jsx)("thead",{children:(0,Fe.jsxs)("tr",{style:{backgroundColor:"#f8f9fa",borderBottom:"2px solid #dee2e6"},children:[(0,Fe.jsx)("th",{style:{padding:"10px",textAlign:"left",borderBottom:"1px solid #dee2e6"},children:"Data"}),(0,Fe.jsx)("th",{style:{padding:"10px",textAlign:"right",borderBottom:"1px solid #dee2e6"},children:"Suma"}),(0,Fe.jsx)("th",{style:{padding:"10px",textAlign:"left",borderBottom:"1px solid #dee2e6"},children:"Apra\u0161ymas"}),(0,Fe.jsx)("th",{style:{padding:"10px",textAlign:"center",borderBottom:"1px solid #dee2e6"},children:"Statusas"}),(0,Fe.jsx)("th",{style:{padding:"10px",textAlign:"left",borderBottom:"1px solid #dee2e6"},children:"S\u0105skaita"})]})}),(0,Fe.jsx)("tbody",{children:W.results.map((e,t)=>(0,Fe.jsxs)("tr",{style:{borderBottom:"1px solid #dee2e6"},children:[(0,Fe.jsx)("td",{style:{padding:"10px"},children:e.date}),(0,Fe.jsx)("td",{style:{padding:"10px",textAlign:"right"},children:e.amount}),(0,Fe.jsx)("td",{style:{padding:"10px"},children:e.description}),(0,Fe.jsx)("td",{style:{padding:"10px",textAlign:"center"},children:(0,Fe.jsx)("span",{className:"badge ".concat(e.matched?"badge-success":"badge-warning"),children:e.matched?"Suderinta":"Nesuderinta"})}),(0,Fe.jsx)("td",{style:{padding:"10px"},children:e.invoice_number||"-"})]},t))})]})})]})]}),"notifications"===E&&(0,Fe.jsxs)("div",{className:"settings-section notification-settings-compact",children:[(0,Fe.jsx)("h2",{style:{fontSize:"16px",marginBottom:"6px"},children:"Prane\u0161im\u0173 nustatymai"}),(0,Fe.jsx)("p",{className:"section-description",style:{fontSize:"11px",marginBottom:"12px"},children:"Konfig\u016bruokite el. lai\u0161k\u0173 siuntim\u0105 ir UI prane\u0161im\u0173 parametrus."}),(0,Fe.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),F(!0),L(null);try{const e=me,{id:t,created_at:n,updated_at:a,smtp_password:r}=e,i=He(e,Xe);r&&""!==r.trim()&&(i.smtp_password=r),await ze.api.put("/settings/notifications/current/",i),L({type:"success",text:"Prane\u0161im\u0173 nustatymai i\u0161saugoti s\u0117kmingai!"}),await be()}catch(n){var t;console.error("Klaida i\u0161saugant prane\u0161im\u0173 nustatymus:",n);const e=null!==(t=n.response)&&void 0!==t&&t.data?"string"===typeof n.response.data?n.response.data:JSON.stringify(n.response.data):n.message;L({type:"error",text:"Klaida i\u0161saugant: "+e})}finally{F(!1)}},children:[(0,Fe.jsxs)("div",{className:"form-grid notification-settings-grid",children:[(0,Fe.jsx)("div",{className:"form-field full-width",style:{borderBottom:"1px solid #e0e0e0",paddingBottom:"8px",marginBottom:"10px"},children:(0,Fe.jsx)("h3",{style:{marginBottom:"8px",fontSize:"13px",fontWeight:"bold"},children:"SMTP serverio nustatymai"})}),(0,Fe.jsx)("div",{className:"form-field",children:(0,Fe.jsxs)("label",{children:[(0,Fe.jsx)("input",{type:"checkbox",checked:me.smtp_enabled,onChange:e=>he((0,Ve.A)((0,Ve.A)({},me),{},{smtp_enabled:e.target.checked})),style:{marginRight:"6px"}}),"\u012ejungti el. lai\u0161k\u0173 siuntim\u0105"]})}),me.smtp_enabled&&(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsxs)("div",{className:"form-field",children:[(0,Fe.jsx)("label",{children:"SMTP serveris"}),(0,Fe.jsx)("input",{type:"text",value:me.smtp_host,onChange:e=>he((0,Ve.A)((0,Ve.A)({},me),{},{smtp_host:e.target.value})),placeholder:"smtp.gmail.com"})]}),(0,Fe.jsxs)("div",{className:"form-field",children:[(0,Fe.jsx)("label",{children:"SMTP portas"}),(0,Fe.jsx)("input",{type:"number",min:"1",max:"65535",value:me.smtp_port,onChange:e=>he((0,Ve.A)((0,Ve.A)({},me),{},{smtp_port:parseInt(e.target.value)||587}))}),(0,Fe.jsx)("small",{style:{color:"#666",fontSize:"11px",marginTop:"2px"},children:"Da\u017eniausiai: 587 (TLS) arba 465 (SSL)"})]}),(0,Fe.jsx)("div",{className:"form-field",children:(0,Fe.jsxs)("label",{children:[(0,Fe.jsx)("input",{type:"checkbox",checked:me.smtp_use_tls,onChange:e=>he((0,Ve.A)((0,Ve.A)({},me),{},{smtp_use_tls:e.target.checked})),style:{marginRight:"6px"}}),"Naudoti TLS"]})}),(0,Fe.jsxs)("div",{className:"form-field",children:[(0,Fe.jsx)("label",{children:"SMTP naudotojas"}),(0,Fe.jsx)("input",{type:"text",value:me.smtp_username,onChange:e=>he((0,Ve.A)((0,Ve.A)({},me),{},{smtp_username:e.target.value}))})]}),(0,Fe.jsxs)("div",{className:"form-field",children:[(0,Fe.jsx)("label",{children:"SMTP slapta\u017eodis"}),(0,Fe.jsx)("input",{type:"password",value:me.smtp_password||"",onChange:e=>he((0,Ve.A)((0,Ve.A)({},me),{},{smtp_password:e.target.value})),placeholder:"Palikite tu\u0161\u010di\u0105, jei nenorite keisti"})]}),(0,Fe.jsxs)("div",{className:"form-field",children:[(0,Fe.jsx)("label",{children:"Numatytasis siunt\u0117jas (el. pa\u0161tas)"}),(0,Fe.jsx)("input",{type:"email",value:me.smtp_from_email,onChange:e=>he((0,Ve.A)((0,Ve.A)({},me),{},{smtp_from_email:e.target.value}))})]}),(0,Fe.jsxs)("div",{className:"form-field",children:[(0,Fe.jsx)("label",{children:"Numatytasis siunt\u0117jas (vardas)"}),(0,Fe.jsx)("input",{type:"text",value:me.smtp_from_name,onChange:e=>he((0,Ve.A)((0,Ve.A)({},me),{},{smtp_from_name:e.target.value}))})]})]}),(0,Fe.jsx)("div",{className:"form-field full-width",style:{borderTop:"1px solid #e0e0e0",paddingTop:"10px",marginTop:"10px",borderBottom:"1px solid #e0e0e0",paddingBottom:"8px",marginBottom:"10px"},children:(0,Fe.jsx)("h3",{style:{marginBottom:"8px",fontSize:"13px",fontWeight:"bold"},children:"Automatiniai el. lai\u0161k\u0173 prane\u0161imai"})}),(0,Fe.jsx)("div",{className:"form-field",children:(0,Fe.jsxs)("label",{children:[(0,Fe.jsx)("input",{type:"checkbox",checked:me.email_notify_overdue_invoices,onChange:e=>he((0,Ve.A)((0,Ve.A)({},me),{},{email_notify_overdue_invoices:e.target.checked})),style:{marginRight:"6px"}}),"Si\u0173sti priminim\u0105 apie v\u0117luojan\u010dias s\u0105skaitas"]})}),me.email_notify_overdue_invoices&&(0,Fe.jsxs)("div",{className:"form-field",children:[(0,Fe.jsx)("label",{children:"Priminimas X dien\u0173 prie\u0161 termin\u0105"}),(0,Fe.jsx)("input",{type:"number",min:"0",max:"30",value:me.email_notify_overdue_days_before,onChange:e=>he((0,Ve.A)((0,Ve.A)({},me),{},{email_notify_overdue_days_before:parseInt(e.target.value)||3}))})]}),(0,Fe.jsx)("div",{className:"form-field",children:(0,Fe.jsxs)("label",{children:[(0,Fe.jsx)("input",{type:"checkbox",checked:me.email_notify_unpaid_invoices,onChange:e=>he((0,Ve.A)((0,Ve.A)({},me),{},{email_notify_unpaid_invoices:e.target.checked})),style:{marginRight:"6px"}}),"Si\u0173sti priminim\u0105 apie neapmok\u0117tas s\u0105skaitas"]})}),me.email_notify_unpaid_invoices&&(0,Fe.jsxs)("div",{className:"form-field",children:[(0,Fe.jsx)("label",{children:"Priminimo intervalas (dienos)"}),(0,Fe.jsx)("input",{type:"number",min:"1",max:"30",value:me.email_notify_unpaid_interval_days,onChange:e=>he((0,Ve.A)((0,Ve.A)({},me),{},{email_notify_unpaid_interval_days:parseInt(e.target.value)||7}))})]}),(0,Fe.jsx)("div",{className:"form-field",children:(0,Fe.jsxs)("label",{children:[(0,Fe.jsx)("input",{type:"checkbox",checked:me.email_notify_new_orders,onChange:e=>he((0,Ve.A)((0,Ve.A)({},me),{},{email_notify_new_orders:e.target.checked})),style:{marginRight:"6px"}}),"Prane\u0161ti apie naujus u\u017esakymus"]})}),(0,Fe.jsx)("div",{className:"form-field",children:(0,Fe.jsxs)("label",{children:[(0,Fe.jsx)("input",{type:"checkbox",checked:me.email_notify_payment_received,onChange:e=>he((0,Ve.A)((0,Ve.A)({},me),{},{email_notify_payment_received:e.target.checked})),style:{marginRight:"6px"}}),"Prane\u0161ti apie gautus mok\u0117jimus"]})}),(0,Fe.jsx)("div",{className:"form-field full-width",style:{borderTop:"1px solid #e0e0e0",paddingTop:"10px",marginTop:"10px",borderBottom:"1px solid #e0e0e0",paddingBottom:"8px",marginBottom:"10px"},children:(0,Fe.jsx)("h3",{style:{marginBottom:"8px",fontSize:"13px",fontWeight:"bold"},children:"UI prane\u0161im\u0173 (Toast) nustatymai"})}),(0,Fe.jsxs)("div",{className:"form-field",children:[(0,Fe.jsx)("label",{children:"Prane\u0161im\u0173 trukm\u0117 (milisekund\u0117s)"}),(0,Fe.jsx)("input",{type:"number",min:"1000",max:"10000",step:"100",value:me.toast_duration_ms,onChange:e=>he((0,Ve.A)((0,Ve.A)({},me),{},{toast_duration_ms:parseInt(e.target.value)||3500}))}),(0,Fe.jsx)("small",{style:{color:"#666",fontSize:"11px",marginTop:"2px"},children:"Kiek laiko rodyti prane\u0161im\u0105 (1000-10000 ms)"})]}),(0,Fe.jsxs)("div",{className:"form-field",children:[(0,Fe.jsx)("label",{children:"Prane\u0161im\u0173 pozicija"}),(0,Fe.jsxs)("select",{value:me.toast_position,onChange:e=>he((0,Ve.A)((0,Ve.A)({},me),{},{toast_position:e.target.value})),children:[(0,Fe.jsx)("option",{value:"top",children:"Vir\u0161uje"}),(0,Fe.jsx)("option",{value:"center",children:"Centre"}),(0,Fe.jsx)("option",{value:"bottom",children:"Apa\u010dioje"})]})]}),(0,Fe.jsx)("div",{className:"form-field",children:(0,Fe.jsxs)("label",{children:[(0,Fe.jsx)("input",{type:"checkbox",checked:me.toast_enable_sound,onChange:e=>he((0,Ve.A)((0,Ve.A)({},me),{},{toast_enable_sound:e.target.checked})),style:{marginRight:"6px"}}),"Garso signalas"]})}),(0,Fe.jsxs)("div",{className:"form-field",children:[(0,Fe.jsx)("label",{children:"S\u0117km\u0117s prane\u0161im\u0173 spalva"}),(0,Fe.jsx)("input",{type:"color",value:me.toast_success_color,onChange:e=>he((0,Ve.A)((0,Ve.A)({},me),{},{toast_success_color:e.target.value})),style:{width:"100%",height:"35px"}}),(0,Fe.jsx)("input",{type:"text",value:me.toast_success_color,onChange:e=>he((0,Ve.A)((0,Ve.A)({},me),{},{toast_success_color:e.target.value})),placeholder:"#28a745",style:{marginTop:"4px"}})]}),(0,Fe.jsxs)("div",{className:"form-field",children:[(0,Fe.jsx)("label",{children:"Klaidos prane\u0161im\u0173 spalva"}),(0,Fe.jsx)("input",{type:"color",value:me.toast_error_color,onChange:e=>he((0,Ve.A)((0,Ve.A)({},me),{},{toast_error_color:e.target.value})),style:{width:"100%",height:"35px"}}),(0,Fe.jsx)("input",{type:"text",value:me.toast_error_color,onChange:e=>he((0,Ve.A)((0,Ve.A)({},me),{},{toast_error_color:e.target.value})),placeholder:"#dc3545",style:{marginTop:"4px"}})]}),(0,Fe.jsxs)("div",{className:"form-field",children:[(0,Fe.jsx)("label",{children:"Informacijos prane\u0161im\u0173 spalva"}),(0,Fe.jsx)("input",{type:"color",value:me.toast_info_color,onChange:e=>he((0,Ve.A)((0,Ve.A)({},me),{},{toast_info_color:e.target.value})),style:{width:"100%",height:"35px"}}),(0,Fe.jsx)("input",{type:"text",value:me.toast_info_color,onChange:e=>he((0,Ve.A)((0,Ve.A)({},me),{},{toast_info_color:e.target.value})),placeholder:"#17a2b8",style:{marginTop:"4px"}})]}),(0,Fe.jsxs)("div",{className:"form-field full-width",children:[(0,Fe.jsx)("label",{children:"Pastabos"}),(0,Fe.jsx)("textarea",{value:me.notes,onChange:e=>he((0,Ve.A)((0,Ve.A)({},me),{},{notes:e.target.value})),rows:2})]})]}),(0,Fe.jsx)("div",{className:"form-actions",style:{paddingTop:"10px",marginTop:"6px"},children:(0,Fe.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:O,style:{padding:"5px 14px",fontSize:"12px"},children:O?"I\u0161saugoma...":"I\u0161saugoti"})})]})]}),pe&&ce&&(0,Fe.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:(0,Fe.jsxs)("div",{style:{backgroundColor:"#fff",padding:"30px",borderRadius:"8px",width:"90%",maxWidth:"500px",maxHeight:"90vh",overflow:"auto"},children:[(0,Fe.jsx)("h3",{style:{marginBottom:"20px"},children:ce.id?"Redaguoti PVM tarif\u0105":"Naujas PVM tarifas"}),(0,Fe.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),ce){F(!0);try{ce.id?(await ze.api.put("/settings/pvm-rates/".concat(ce.id,"/"),ce),L({type:"success",text:"PVM tarifas s\u0117kmingai atnaujintas!"})):(await ze.api.post("/settings/pvm-rates/",ce),L({type:"success",text:"PVM tarifas s\u0117kmingai sukurtas!"})),fe(!1),ue(null),await _e()}catch(n){var t;const e=null!==(t=n.response)&&void 0!==t&&t.data?"string"===typeof n.response.data?n.response.data:JSON.stringify(n.response.data):n.message;L({type:"error",text:"Klaida i\u0161saugant: "+e})}finally{F(!1)}}},children:[(0,Fe.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,Fe.jsx)("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"PVM Tarifas (%) *"}),(0,Fe.jsx)("input",{type:"number",step:"0.01",min:"0",max:"100",value:ce.rate,onChange:e=>ue((0,Ve.A)((0,Ve.A)({},ce),{},{rate:e.target.value})),required:!0,style:{width:"100%",padding:"8px",fontSize:"14px",border:"1px solid #ccc",borderRadius:"4px"}})]}),(0,Fe.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,Fe.jsx)("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Straipsnis"}),(0,Fe.jsx)("input",{type:"text",value:ce.article,onChange:e=>ue((0,Ve.A)((0,Ve.A)({},ce),{},{article:e.target.value})),placeholder:"pvz. 5 str. 7 d., 6 str.",style:{width:"100%",padding:"8px",fontSize:"14px",border:"1px solid #ccc",borderRadius:"4px"}}),(0,Fe.jsx)("small",{style:{color:"#666",fontSize:"12px"},children:"PVM \u012fstatymo straipsnis (pvz. 5 str. 7 d., 6 str.)"})]}),(0,Fe.jsx)("div",{style:{marginBottom:"15px"},children:(0,Fe.jsxs)("label",{style:{display:"flex",alignItems:"center"},children:[(0,Fe.jsx)("input",{type:"checkbox",checked:ce.is_active,onChange:e=>ue((0,Ve.A)((0,Ve.A)({},ce),{},{is_active:e.target.checked})),style:{marginRight:"8px"}}),(0,Fe.jsx)("span",{children:"Aktyvus (bus rodomas s\u0105skait\u0173 formose)"})]})}),(0,Fe.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,Fe.jsx)("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Eili\u0161kumas"}),(0,Fe.jsx)("input",{type:"number",min:"0",value:ce.sequence_order,onChange:e=>ue((0,Ve.A)((0,Ve.A)({},ce),{},{sequence_order:parseInt(e.target.value)||0})),style:{width:"100%",padding:"8px",fontSize:"14px",border:"1px solid #ccc",borderRadius:"4px"}}),(0,Fe.jsx)("small",{style:{color:"#666",fontSize:"12px"},children:"Nustato tvark\u0105, kuria tarifai yra rodomi s\u0105ra\u0161e"})]}),(0,Fe.jsxs)("div",{style:{display:"flex",gap:"10px",justifyContent:"flex-end",marginTop:"20px"},children:[(0,Fe.jsx)("button",{type:"button",onClick:()=>{fe(!1),ue(null)},className:"btn btn-secondary",disabled:O,children:"At\u0161aukti"}),(0,Fe.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:O,children:O?"I\u0161saugoma...":"I\u0161saugoti"})]})]})]})})]})})},tt=()=>{const{logout:e}=Be(),t=X();return"/login"===t.pathname?null:(0,Fe.jsx)("nav",{className:"navigation",children:(0,Fe.jsxs)("div",{className:"nav-container",children:[(0,Fe.jsx)(Pe,{to:"/",className:"nav-logo",children:"TMS"}),(0,Fe.jsxs)("div",{className:"nav-links",children:[(0,Fe.jsx)(Pe,{to:"/",className:"nav-link ".concat("/"===t.pathname?"active":""),children:"Pagrindinis"}),(0,Fe.jsx)(Pe,{to:"/orders",className:"nav-link ".concat("/orders"===t.pathname?"active":""),children:"U\u017esakymai"}),(0,Fe.jsx)(Pe,{to:"/invoices",className:"nav-link ".concat("/invoices"===t.pathname?"active":""),children:"S\u0105skaitos"}),(0,Fe.jsx)(Pe,{to:"/partners",className:"nav-link ".concat("/partners"===t.pathname?"active":""),children:"Partneriai"}),(0,Fe.jsx)(Pe,{to:"/settings",className:"nav-link ".concat("/settings"===t.pathname||"/bank-import"===t.pathname?"active":""),children:"Nustatymai"})]}),(0,Fe.jsx)("button",{onClick:e,className:"nav-logout",children:"Atsijungti"})]})})},nt=e=>{let{children:t}=e;const{isAuthenticated:n}=Be();return n?(0,Fe.jsx)(Fe.Fragment,{children:t}):(0,Fe.jsx)(he,{to:"/login"})};const at=function(){return(0,Fe.jsx)(Le,{children:(0,Fe.jsxs)(Ce,{children:[(0,Fe.jsx)(tt,{}),(0,Fe.jsxs)(ve,{children:[(0,Fe.jsx)(ge,{path:"/login",element:(0,Fe.jsx)(Me,{})}),(0,Fe.jsx)(ge,{path:"/",element:(0,Fe.jsx)(nt,{children:(0,Fe.jsx)(Ue,{})})}),(0,Fe.jsx)(ge,{path:"/partners",element:(0,Fe.jsx)(nt,{children:(0,Fe.jsx)(We,{})})}),(0,Fe.jsx)(ge,{path:"/orders",element:(0,Fe.jsx)(nt,{children:(0,Fe.jsx)(qe,{})})}),(0,Fe.jsx)(ge,{path:"/invoices",element:(0,Fe.jsx)(nt,{children:(0,Fe.jsx)(Ke,{})})}),(0,Fe.jsx)(ge,{path:"/bank-import",element:(0,Fe.jsx)(nt,{children:(0,Fe.jsx)(et,{})})}),(0,Fe.jsx)(ge,{path:"/settings",element:(0,Fe.jsx)(nt,{children:(0,Fe.jsx)(et,{})})})]})]})})};s.createRoot(document.getElementById("root")).render((0,Fe.jsx)(r.StrictMode,{children:(0,Fe.jsx)(at,{})}))})();
//# sourceMappingURL=main.f075101b.js.map